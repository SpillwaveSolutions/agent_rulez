# Plan 15-02: Save/Load Test Cases

## Objective
Add persistent save/load functionality for debug test cases so users can reuse event configurations and replay them across sessions.

## Tasks

### Task 1: Create test case store
**File:** `rulez_ui/src/stores/testCaseStore.ts` (new)
- Zustand store with `persist` middleware (localStorage)
- State: `testCases: TestCase[]`, `selectedTestCaseId: string | null`
- Actions: `saveTestCase(params, result)`, `loadTestCase(id)`, `deleteTestCase(id)`, `clearAll()`
- `TestCase` type: `{ id, name, createdAt, params: DebugParams, lastResult?: DebugResult }`
- Auto-generate name from event type + tool (e.g. "PreToolUse - Bash")

### Task 2: Add TestCase type to types/index.ts
**File:** `rulez_ui/src/types/index.ts`
- Add `TestCase` interface

### Task 3: Add save/load buttons to DebugSimulator
**File:** `rulez_ui/src/components/simulator/DebugSimulator.tsx`
- Add "Save Test Case" button (visible after a successful simulation)
- Add "Load Test Case" dropdown/button (visible when saved cases exist)
- Save button: calls `testCaseStore.saveTestCase(currentParams, result)`
- Show success toast/message on save
- Load button: opens a small dropdown listing saved test cases
- Clicking a saved case fills the form and optionally auto-runs

### Task 4: Create TestCaseList component
**File:** `rulez_ui/src/components/simulator/TestCaseList.tsx` (new)
- Renders saved test cases as a compact list
- Each item shows: name, event type, created date
- Click to load (fills form), delete button per item
- Empty state: "No saved test cases"

## Verification
- `npx tsc --noEmit` passes
- `npx biome check --write` passes on changed files
- Save a test case → refresh page → test case persists
- Load a test case → form is populated → can re-run simulation

## Files Changed
- `rulez_ui/src/types/index.ts`
- `rulez_ui/src/stores/testCaseStore.ts` (new)
- `rulez_ui/src/components/simulator/DebugSimulator.tsx`
- `rulez_ui/src/components/simulator/TestCaseList.tsx` (new)
