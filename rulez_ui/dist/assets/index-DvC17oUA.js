const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DkQ563B5.js","assets/core-DxBnVPgq.js","assets/index-Bmmla83_.js","assets/index-5gUknsVJ.js","assets/index-DJRFAbvS.js"])))=>i.map(i=>d[i]);
var rh=r=>{throw TypeError(r)};var fu=(r,n,s)=>n.has(r)||rh("Cannot "+s);var z=(r,n,s)=>(fu(r,n,"read from private field"),s?s.call(r):n.get(r)),we=(r,n,s)=>n.has(r)?rh("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,s),me=(r,n,s,i)=>(fu(r,n,"write to private field"),i?i.call(r,s):n.set(r,s),s),nt=(r,n,s)=>(fu(r,n,"access private method"),s);var Ro=(r,n,s,i)=>({set _(l){me(r,n,l,s)},get _(){return z(r,n,i)}});(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function fp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var du={exports:{}},ei={},hu={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function v0(){if(sh)return xe;sh=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(b,M,ue){this.props=b,this.context=M,this.refs=S,this.updater=ue||C}T.prototype.isReactComponent={},T.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function K(){}K.prototype=T.prototype;function B(b,M,ue){this.props=b,this.context=M,this.refs=S,this.updater=ue||C}var J=B.prototype=new K;J.constructor=B,E(J,T.prototype),J.isPureReactComponent=!0;var U=Array.isArray,G=Object.prototype.hasOwnProperty,q={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ee(b,M,ue){var re,ye={},ve=null,Ne=null;if(M!=null)for(re in M.ref!==void 0&&(Ne=M.ref),M.key!==void 0&&(ve=""+M.key),M)G.call(M,re)&&!se.hasOwnProperty(re)&&(ye[re]=M[re]);var be=arguments.length-2;if(be===1)ye.children=ue;else if(1<be){for(var Oe=Array(be),yt=0;yt<be;yt++)Oe[yt]=arguments[yt+2];ye.children=Oe}if(b&&b.defaultProps)for(re in be=b.defaultProps,be)ye[re]===void 0&&(ye[re]=be[re]);return{$$typeof:r,type:b,key:ve,ref:Ne,props:ye,_owner:q.current}}function fe(b,M){return{$$typeof:r,type:b.type,key:M,ref:b.ref,props:b.props,_owner:b._owner}}function ae(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function Q(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ue){return M[ue]})}var L=/\/+/g;function Z(b,M){return typeof b=="object"&&b!==null&&b.key!=null?Q(""+b.key):M.toString(36)}function te(b,M,ue,re,ye){var ve=typeof b;(ve==="undefined"||ve==="boolean")&&(b=null);var Ne=!1;if(b===null)Ne=!0;else switch(ve){case"string":case"number":Ne=!0;break;case"object":switch(b.$$typeof){case r:case n:Ne=!0}}if(Ne)return Ne=b,ye=ye(Ne),b=re===""?"."+Z(Ne,0):re,U(ye)?(ue="",b!=null&&(ue=b.replace(L,"$&/")+"/"),te(ye,M,ue,"",function(yt){return yt})):ye!=null&&(ae(ye)&&(ye=fe(ye,ue+(!ye.key||Ne&&Ne.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+b)),M.push(ye)),1;if(Ne=0,re=re===""?".":re+":",U(b))for(var be=0;be<b.length;be++){ve=b[be];var Oe=re+Z(ve,be);Ne+=te(ve,M,ue,Oe,ye)}else if(Oe=v(b),typeof Oe=="function")for(b=Oe.call(b),be=0;!(ve=b.next()).done;)ve=ve.value,Oe=re+Z(ve,be++),Ne+=te(ve,M,ue,Oe,ye);else if(ve==="object")throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ne}function _(b,M,ue){if(b==null)return b;var re=[],ye=0;return te(b,re,"","",function(ve){return M.call(ue,ve,ye++)}),re}function R(b){if(b._status===-1){var M=b._result;M=M(),M.then(function(ue){(b._status===0||b._status===-1)&&(b._status=1,b._result=ue)},function(ue){(b._status===0||b._status===-1)&&(b._status=2,b._result=ue)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var $={current:null},I={transition:null},V={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:I,ReactCurrentOwner:q};function F(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:_,forEach:function(b,M,ue){_(b,function(){M.apply(this,arguments)},ue)},count:function(b){var M=0;return _(b,function(){M++}),M},toArray:function(b){return _(b,function(M){return M})||[]},only:function(b){if(!ae(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},xe.Component=T,xe.Fragment=s,xe.Profiler=l,xe.PureComponent=B,xe.StrictMode=i,xe.Suspense=m,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,xe.act=F,xe.cloneElement=function(b,M,ue){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var re=E({},b.props),ye=b.key,ve=b.ref,Ne=b._owner;if(M!=null){if(M.ref!==void 0&&(ve=M.ref,Ne=q.current),M.key!==void 0&&(ye=""+M.key),b.type&&b.type.defaultProps)var be=b.type.defaultProps;for(Oe in M)G.call(M,Oe)&&!se.hasOwnProperty(Oe)&&(re[Oe]=M[Oe]===void 0&&be!==void 0?be[Oe]:M[Oe])}var Oe=arguments.length-2;if(Oe===1)re.children=ue;else if(1<Oe){be=Array(Oe);for(var yt=0;yt<Oe;yt++)be[yt]=arguments[yt+2];re.children=be}return{$$typeof:r,type:b.type,key:ye,ref:ve,props:re,_owner:Ne}},xe.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},xe.createElement=ee,xe.createFactory=function(b){var M=ee.bind(null,b);return M.type=b,M},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:h,render:b}},xe.isValidElement=ae,xe.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:R}},xe.memo=function(b,M){return{$$typeof:g,type:b,compare:M===void 0?null:M}},xe.startTransition=function(b){var M=I.transition;I.transition={};try{b()}finally{I.transition=M}},xe.unstable_act=F,xe.useCallback=function(b,M){return $.current.useCallback(b,M)},xe.useContext=function(b){return $.current.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b){return $.current.useDeferredValue(b)},xe.useEffect=function(b,M){return $.current.useEffect(b,M)},xe.useId=function(){return $.current.useId()},xe.useImperativeHandle=function(b,M,ue){return $.current.useImperativeHandle(b,M,ue)},xe.useInsertionEffect=function(b,M){return $.current.useInsertionEffect(b,M)},xe.useLayoutEffect=function(b,M){return $.current.useLayoutEffect(b,M)},xe.useMemo=function(b,M){return $.current.useMemo(b,M)},xe.useReducer=function(b,M,ue){return $.current.useReducer(b,M,ue)},xe.useRef=function(b){return $.current.useRef(b)},xe.useState=function(b){return $.current.useState(b)},xe.useSyncExternalStore=function(b,M,ue){return $.current.useSyncExternalStore(b,M,ue)},xe.useTransition=function(){return $.current.useTransition()},xe.version="18.3.1",xe}var ih;function Bu(){return ih||(ih=1,hu.exports=v0()),hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function x0(){if(oh)return ei;oh=1;var r=Bu(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,g){var x,w={},v=null,C=null;g!==void 0&&(v=""+g),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(C=m.ref);for(x in m)i.call(m,x)&&!u.hasOwnProperty(x)&&(w[x]=m[x]);if(h&&h.defaultProps)for(x in m=h.defaultProps,m)w[x]===void 0&&(w[x]=m[x]);return{$$typeof:n,type:h,key:v,ref:C,props:w,_owner:l.current}}return ei.Fragment=s,ei.jsx=f,ei.jsxs=f,ei}var lh;function w0(){return lh||(lh=1,du.exports=x0()),du.exports}var p=w0(),nl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k0={setTimeout:(r,n)=>setTimeout(r,n),clearTimeout:r=>clearTimeout(r),setInterval:(r,n)=>setInterval(r,n),clearInterval:r=>clearInterval(r)},zn,$u,np,S0=(np=class{constructor(){we(this,zn,k0);we(this,$u,!1)}setTimeoutProvider(r){me(this,zn,r)}setTimeout(r,n){return z(this,zn).setTimeout(r,n)}clearTimeout(r){z(this,zn).clearTimeout(r)}setInterval(r,n){return z(this,zn).setInterval(r,n)}clearInterval(r){z(this,zn).clearInterval(r)}},zn=new WeakMap,$u=new WeakMap,np),_u=new S0;function b0(r){setTimeout(r,0)}var rl=typeof window>"u"||"Deno"in globalThis;function Ut(){}function C0(r,n){return typeof r=="function"?r(n):r}function N0(r){return typeof r=="number"&&r>=0&&r!==1/0}function j0(r,n){return Math.max(r+(n||0)-Date.now(),0)}function Ou(r,n){return typeof r=="function"?r(n):r}function E0(r,n){return typeof r=="function"?r(n):r}function ah(r,n){const{type:s="all",exact:i,fetchStatus:l,predicate:u,queryKey:f,stale:h}=r;if(f){if(i){if(n.queryHash!==Uu(f,n.options))return!1}else if(!hi(n.queryKey,f))return!1}if(s!=="all"){const m=n.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||l&&l!==n.state.fetchStatus||u&&!u(n))}function uh(r,n){const{exact:s,status:i,predicate:l,mutationKey:u}=r;if(u){if(!n.options.mutationKey)return!1;if(s){if(di(n.options.mutationKey)!==di(u))return!1}else if(!hi(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||l&&!l(n))}function Uu(r,n){return(n?.queryKeyHashFn||di)(r)}function di(r){return JSON.stringify(r,(n,s)=>Lu(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function hi(r,n){return r===n?!0:typeof r!=typeof n?!1:r&&n&&typeof r=="object"&&typeof n=="object"?Object.keys(n).every(s=>hi(r[s],n[s])):!1}var T0=Object.prototype.hasOwnProperty;function dp(r,n,s=0){if(r===n)return r;if(s>500)return n;const i=ch(r)&&ch(n);if(!i&&!(Lu(r)&&Lu(n)))return n;const u=(i?r:Object.keys(r)).length,f=i?n:Object.keys(n),h=f.length,m=i?new Array(h):{};let g=0;for(let x=0;x<h;x++){const w=i?x:f[x],v=r[w],C=n[w];if(v===C){m[w]=v,(i?x<u:T0.call(r,w))&&g++;continue}if(v===null||C===null||typeof v!="object"||typeof C!="object"){m[w]=C;continue}const E=dp(v,C,s+1);m[w]=E,E===v&&g++}return u===h&&g===u?r:m}function ch(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Lu(r){if(!fh(r))return!1;const n=r.constructor;if(n===void 0)return!0;const s=n.prototype;return!(!fh(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function fh(r){return Object.prototype.toString.call(r)==="[object Object]"}function _0(r){return new Promise(n=>{_u.setTimeout(n,r)})}function O0(r,n,s){return typeof s.structuralSharing=="function"?s.structuralSharing(r,n):s.structuralSharing!==!1?dp(r,n):n}function L0(r,n,s=0){const i=[...r,n];return s&&i.length>s?i.slice(1):i}function P0(r,n,s=0){const i=[n,...r];return s&&i.length>s?i.slice(0,-1):i}var Vu=Symbol();function hp(r,n){return!r.queryFn&&n?.initialPromise?()=>n.initialPromise:!r.queryFn||r.queryFn===Vu?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function M0(r,n,s){let i=!1,l;return Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(l??=n(),i||(i=!0,l.aborted?s():l.addEventListener("abort",s,{once:!0})),l)}),r}var cr,$n,es,rp,A0=(rp=class extends nl{constructor(){super();we(this,cr);we(this,$n);we(this,es);me(this,es,n=>{if(!rl&&window.addEventListener){const s=()=>n();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){z(this,$n)||this.setEventListener(z(this,es))}onUnsubscribe(){var n;this.hasListeners()||((n=z(this,$n))==null||n.call(this),me(this,$n,void 0))}setEventListener(n){var s;me(this,es,n),(s=z(this,$n))==null||s.call(this),me(this,$n,n(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(n){z(this,cr)!==n&&(me(this,cr,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(s=>{s(n)})}isFocused(){return typeof z(this,cr)=="boolean"?z(this,cr):globalThis.document?.visibilityState!=="hidden"}},cr=new WeakMap,$n=new WeakMap,es=new WeakMap,rp),pp=new A0;function I0(){let r,n;const s=new Promise((l,u)=>{r=l,n=u});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),r(l)},s.reject=l=>{i({status:"rejected",reason:l}),n(l)},s}var R0=b0;function F0(){let r=[],n=0,s=h=>{h()},i=h=>{h()},l=R0;const u=h=>{n?r.push(h):l(()=>{s(h)})},f=()=>{const h=r;r=[],h.length&&l(()=>{i(()=>{h.forEach(m=>{s(m)})})})};return{batch:h=>{let m;n++;try{m=h()}finally{n--,n||f()}return m},batchCalls:h=>(...m)=>{u(()=>{h(...m)})},schedule:u,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{l=h}}}var at=F0(),ts,Bn,ns,sp,D0=(sp=class extends nl{constructor(){super();we(this,ts,!0);we(this,Bn);we(this,ns);me(this,ns,n=>{if(!rl&&window.addEventListener){const s=()=>n(!0),i=()=>n(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){z(this,Bn)||this.setEventListener(z(this,ns))}onUnsubscribe(){var n;this.hasListeners()||((n=z(this,Bn))==null||n.call(this),me(this,Bn,void 0))}setEventListener(n){var s;me(this,ns,n),(s=z(this,Bn))==null||s.call(this),me(this,Bn,n(this.setOnline.bind(this)))}setOnline(n){z(this,ts)!==n&&(me(this,ts,n),this.listeners.forEach(i=>{i(n)}))}isOnline(){return z(this,ts)}},ts=new WeakMap,Bn=new WeakMap,ns=new WeakMap,sp),Yo=new D0;function z0(r){return Math.min(1e3*2**r,3e4)}function mp(r){return(r??"online")==="online"?Yo.isOnline():!0}var Pu=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function gp(r){let n=!1,s=0,i;const l=I0(),u=()=>l.status!=="pending",f=S=>{if(!u()){const T=new Pu(S);v(T),r.onCancel?.(T)}},h=()=>{n=!0},m=()=>{n=!1},g=()=>pp.isFocused()&&(r.networkMode==="always"||Yo.isOnline())&&r.canRun(),x=()=>mp(r.networkMode)&&r.canRun(),w=S=>{u()||(i?.(),l.resolve(S))},v=S=>{u()||(i?.(),l.reject(S))},C=()=>new Promise(S=>{i=T=>{(u()||g())&&S(T)},r.onPause?.()}).then(()=>{i=void 0,u()||r.onContinue?.()}),E=()=>{if(u())return;let S;const T=s===0?r.initialPromise:void 0;try{S=T??r.fn()}catch(K){S=Promise.reject(K)}Promise.resolve(S).then(w).catch(K=>{if(u())return;const B=r.retry??(rl?0:3),J=r.retryDelay??z0,U=typeof J=="function"?J(s,K):J,G=B===!0||typeof B=="number"&&s<B||typeof B=="function"&&B(s,K);if(n||!G){v(K);return}s++,r.onFail?.(s,K),_0(U).then(()=>g()?void 0:C()).then(()=>{n?v(K):E()})})};return{promise:l,status:()=>l.status,cancel:f,continue:()=>(i?.(),l),cancelRetry:h,continueRetry:m,canStart:x,start:()=>(x()?E():C().then(E),l)}}var fr,ip,yp=(ip=class{constructor(){we(this,fr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N0(this.gcTime)&&me(this,fr,_u.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(rl?1/0:300*1e3))}clearGcTimeout(){z(this,fr)&&(_u.clearTimeout(z(this,fr)),me(this,fr,void 0))}},fr=new WeakMap,ip),dr,rs,_t,hr,He,yi,pr,Vt,hn,op,$0=(op=class extends yp{constructor(n){super();we(this,Vt);we(this,dr);we(this,rs);we(this,_t);we(this,hr);we(this,He);we(this,yi);we(this,pr);me(this,pr,!1),me(this,yi,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,hr,n.client),me(this,_t,z(this,hr).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,dr,hh(this.options)),this.state=n.state??z(this,dr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return z(this,He)?.promise}setOptions(n){if(this.options={...z(this,yi),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=hh(this.options);s.data!==void 0&&(this.setState(dh(s.data,s.dataUpdatedAt)),me(this,dr,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,_t).remove(this)}setData(n,s){const i=O0(this.state.data,n,this.options);return nt(this,Vt,hn).call(this,{data:i,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),i}setState(n,s){nt(this,Vt,hn).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){const s=z(this,He)?.promise;return z(this,He)?.cancel(n),s?s.then(Ut).catch(Ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,dr))}isActive(){return this.observers.some(n=>E0(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ou(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!j0(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),z(this,He)?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),z(this,He)?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,_t).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(z(this,He)&&(z(this,pr)?z(this,He).cancel({revert:!0}):z(this,He).cancelRetry()),this.scheduleGc()),z(this,_t).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,Vt,hn).call(this,{type:"invalidate"})}async fetch(n,s){if(this.state.fetchStatus!=="idle"&&z(this,He)?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(z(this,He))return z(this,He).continueRetry(),z(this,He).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(me(this,pr,!0),i.signal)})},u=()=>{const m=hp(this.options,s),x=(()=>{const w={client:z(this,hr),queryKey:this.queryKey,meta:this.meta};return l(w),w})();return me(this,pr,!1),this.options.persister?this.options.persister(m,x,this):m(x)},h=(()=>{const m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:z(this,hr),state:this.state,fetchFn:u};return l(m),m})();this.options.behavior?.onFetch(h,this),me(this,rs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&nt(this,Vt,hn).call(this,{type:"fetch",meta:h.fetchOptions?.meta}),me(this,He,gp({initialPromise:s?.initialPromise,fn:h.fetchFn,onCancel:m=>{m instanceof Pu&&m.revert&&this.setState({...z(this,rs),fetchStatus:"idle"}),i.abort()},onFail:(m,g)=>{nt(this,Vt,hn).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{nt(this,Vt,hn).call(this,{type:"pause"})},onContinue:()=>{nt(this,Vt,hn).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0}));try{const m=await z(this,He).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),z(this,_t).config.onSuccess?.(m,this),z(this,_t).config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Pu){if(m.silent)return z(this,He).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw nt(this,Vt,hn).call(this,{type:"error",error:m}),z(this,_t).config.onError?.(m,this),z(this,_t).config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}},dr=new WeakMap,rs=new WeakMap,_t=new WeakMap,hr=new WeakMap,He=new WeakMap,yi=new WeakMap,pr=new WeakMap,Vt=new WeakSet,hn=function(n){const s=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...B0(i.data,this.options),fetchMeta:n.meta??null};case"success":const l={...i,...dh(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,rs,n.manual?l:void 0),l;case"error":const u=n.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=s(this.state),at.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,_t).notify({query:this,type:"updated",action:n})})},op);function B0(r,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mp(n.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function dh(r,n){return{data:r,dataUpdatedAt:n??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hh(r){const n=typeof r.initialData=="function"?r.initialData():r.initialData,s=n!==void 0,i=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function ph(r){return{onFetch:(n,s)=>{const i=n.options,l=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},m=0;const g=async()=>{let x=!1;const w=E=>{M0(E,()=>n.signal,()=>x=!0)},v=hp(n.options,n.fetchOptions),C=async(E,S,T)=>{if(x)return Promise.reject();if(S==null&&E.pages.length)return Promise.resolve(E);const B=(()=>{const q={client:n.client,queryKey:n.queryKey,pageParam:S,direction:T?"backward":"forward",meta:n.options.meta};return w(q),q})(),J=await v(B),{maxPages:U}=n.options,G=T?P0:L0;return{pages:G(E.pages,J,U),pageParams:G(E.pageParams,S,U)}};if(l&&u.length){const E=l==="backward",S=E?U0:mh,T={pages:u,pageParams:f},K=S(i,T);h=await C(T,K,E)}else{const E=r??u.length;do{const S=m===0?f[0]??i.initialPageParam:mh(i,h);if(m>0&&S==null)break;h=await C(h,S),m++}while(m<E)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(g,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},s):n.fetchFn=g}}}function mh(r,{pages:n,pageParams:s}){const i=n.length-1;return n.length>0?r.getNextPageParam(n[i],n,s[i],s):void 0}function U0(r,{pages:n,pageParams:s}){return n.length>0?r.getPreviousPageParam?.(n[0],n,s[0],s):void 0}var vi,Xt,rt,mr,en,Fn,lp,V0=(lp=class extends yp{constructor(n){super();we(this,en);we(this,vi);we(this,Xt);we(this,rt);we(this,mr);me(this,vi,n.client),this.mutationId=n.mutationId,me(this,rt,n.mutationCache),me(this,Xt,[]),this.state=n.state||W0(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Xt).includes(n)||(z(this,Xt).push(n),this.clearGcTimeout(),z(this,rt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,Xt,z(this,Xt).filter(s=>s!==n)),this.scheduleGc(),z(this,rt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():z(this,rt).remove(this))}continue(){return z(this,mr)?.continue()??this.execute(this.state.variables)}async execute(n){const s=()=>{nt(this,en,Fn).call(this,{type:"continue"})},i={client:z(this,vi),meta:this.options.meta,mutationKey:this.options.mutationKey};me(this,mr,gp({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(f,h)=>{nt(this,en,Fn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{nt(this,en,Fn).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,rt).canRun(this)}));const l=this.state.status==="pending",u=!z(this,mr).canStart();try{if(l)s();else{nt(this,en,Fn).call(this,{type:"pending",variables:n,isPaused:u}),z(this,rt).config.onMutate&&await z(this,rt).config.onMutate(n,this,i);const h=await this.options.onMutate?.(n,i);h!==this.state.context&&nt(this,en,Fn).call(this,{type:"pending",context:h,variables:n,isPaused:u})}const f=await z(this,mr).start();return await z(this,rt).config.onSuccess?.(f,n,this.state.context,this,i),await this.options.onSuccess?.(f,n,this.state.context,i),await z(this,rt).config.onSettled?.(f,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(f,null,n,this.state.context,i),nt(this,en,Fn).call(this,{type:"success",data:f}),f}catch(f){try{await z(this,rt).config.onError?.(f,n,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onError?.(f,n,this.state.context,i)}catch(h){Promise.reject(h)}try{await z(this,rt).config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,f,n,this.state.context,i)}catch(h){Promise.reject(h)}throw nt(this,en,Fn).call(this,{type:"error",error:f}),f}finally{z(this,rt).runNext(this)}}},vi=new WeakMap,Xt=new WeakMap,rt=new WeakMap,mr=new WeakMap,en=new WeakSet,Fn=function(n){const s=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),at.batch(()=>{z(this,Xt).forEach(i=>{i.onMutationUpdate(n)}),z(this,rt).notify({mutation:this,type:"updated",action:n})})},lp);function W0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Wt,xi,ap,K0=(ap=class extends nl{constructor(n={}){super();we(this,pn);we(this,Wt);we(this,xi);this.config=n,me(this,pn,new Set),me(this,Wt,new Map),me(this,xi,0)}build(n,s,i){const l=new V0({client:n,mutationCache:this,mutationId:++Ro(this,xi)._,options:n.defaultMutationOptions(s),state:i});return this.add(l),l}add(n){z(this,pn).add(n);const s=Fo(n);if(typeof s=="string"){const i=z(this,Wt).get(s);i?i.push(n):z(this,Wt).set(s,[n])}this.notify({type:"added",mutation:n})}remove(n){if(z(this,pn).delete(n)){const s=Fo(n);if(typeof s=="string"){const i=z(this,Wt).get(s);if(i)if(i.length>1){const l=i.indexOf(n);l!==-1&&i.splice(l,1)}else i[0]===n&&z(this,Wt).delete(s)}}this.notify({type:"removed",mutation:n})}canRun(n){const s=Fo(n);if(typeof s=="string"){const l=z(this,Wt).get(s)?.find(u=>u.state.status==="pending");return!l||l===n}else return!0}runNext(n){const s=Fo(n);return typeof s=="string"?z(this,Wt).get(s)?.find(l=>l!==n&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){at.batch(()=>{z(this,pn).forEach(n=>{this.notify({type:"removed",mutation:n})}),z(this,pn).clear(),z(this,Wt).clear()})}getAll(){return Array.from(z(this,pn))}find(n){const s={exact:!0,...n};return this.getAll().find(i=>uh(s,i))}findAll(n={}){return this.getAll().filter(s=>uh(n,s))}notify(n){at.batch(()=>{this.listeners.forEach(s=>{s(n)})})}resumePausedMutations(){const n=this.getAll().filter(s=>s.state.isPaused);return at.batch(()=>Promise.all(n.map(s=>s.continue().catch(Ut))))}},pn=new WeakMap,Wt=new WeakMap,xi=new WeakMap,ap);function Fo(r){return r.options.scope?.id}var tn,up,q0=(up=class extends nl{constructor(n={}){super();we(this,tn);this.config=n,me(this,tn,new Map)}build(n,s,i){const l=s.queryKey,u=s.queryHash??Uu(l,s);let f=this.get(u);return f||(f=new $0({client:n,queryKey:l,queryHash:u,options:n.defaultQueryOptions(s),state:i,defaultOptions:n.getQueryDefaults(l)}),this.add(f)),f}add(n){z(this,tn).has(n.queryHash)||(z(this,tn).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const s=z(this,tn).get(n.queryHash);s&&(n.destroy(),s===n&&z(this,tn).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){at.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return z(this,tn).get(n)}getAll(){return[...z(this,tn).values()]}find(n){const s={exact:!0,...n};return this.getAll().find(i=>ah(s,i))}findAll(n={}){const s=this.getAll();return Object.keys(n).length>0?s.filter(i=>ah(n,i)):s}notify(n){at.batch(()=>{this.listeners.forEach(s=>{s(n)})})}onFocus(){at.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){at.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},tn=new WeakMap,up),Ie,Un,Vn,ss,is,Wn,os,ls,cp,H0=(cp=class{constructor(r={}){we(this,Ie);we(this,Un);we(this,Vn);we(this,ss);we(this,is);we(this,Wn);we(this,os);we(this,ls);me(this,Ie,r.queryCache||new q0),me(this,Un,r.mutationCache||new K0),me(this,Vn,r.defaultOptions||{}),me(this,ss,new Map),me(this,is,new Map),me(this,Wn,0)}mount(){Ro(this,Wn)._++,z(this,Wn)===1&&(me(this,os,pp.subscribe(async r=>{r&&(await this.resumePausedMutations(),z(this,Ie).onFocus())})),me(this,ls,Yo.subscribe(async r=>{r&&(await this.resumePausedMutations(),z(this,Ie).onOnline())})))}unmount(){var r,n;Ro(this,Wn)._--,z(this,Wn)===0&&((r=z(this,os))==null||r.call(this),me(this,os,void 0),(n=z(this,ls))==null||n.call(this),me(this,ls,void 0))}isFetching(r){return z(this,Ie).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return z(this,Un).findAll({...r,status:"pending"}).length}getQueryData(r){const n=this.defaultQueryOptions({queryKey:r});return z(this,Ie).get(n.queryHash)?.state.data}ensureQueryData(r){const n=this.defaultQueryOptions(r),s=z(this,Ie).build(this,n),i=s.state.data;return i===void 0?this.fetchQuery(r):(r.revalidateIfStale&&s.isStaleByTime(Ou(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(r){return z(this,Ie).findAll(r).map(({queryKey:n,state:s})=>{const i=s.data;return[n,i]})}setQueryData(r,n,s){const i=this.defaultQueryOptions({queryKey:r}),u=z(this,Ie).get(i.queryHash)?.state.data,f=C0(n,u);if(f!==void 0)return z(this,Ie).build(this,i).setData(f,{...s,manual:!0})}setQueriesData(r,n,s){return at.batch(()=>z(this,Ie).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,n,s)]))}getQueryState(r){const n=this.defaultQueryOptions({queryKey:r});return z(this,Ie).get(n.queryHash)?.state}removeQueries(r){const n=z(this,Ie);at.batch(()=>{n.findAll(r).forEach(s=>{n.remove(s)})})}resetQueries(r,n){const s=z(this,Ie);return at.batch(()=>(s.findAll(r).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...r},n)))}cancelQueries(r,n={}){const s={revert:!0,...n},i=at.batch(()=>z(this,Ie).findAll(r).map(l=>l.cancel(s)));return Promise.all(i).then(Ut).catch(Ut)}invalidateQueries(r,n={}){return at.batch(()=>(z(this,Ie).findAll(r).forEach(s=>{s.invalidate()}),r?.refetchType==="none"?Promise.resolve():this.refetchQueries({...r,type:r?.refetchType??r?.type??"active"},n)))}refetchQueries(r,n={}){const s={...n,cancelRefetch:n.cancelRefetch??!0},i=at.batch(()=>z(this,Ie).findAll(r).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Ut)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Ut)}fetchQuery(r){const n=this.defaultQueryOptions(r);n.retry===void 0&&(n.retry=!1);const s=z(this,Ie).build(this,n);return s.isStaleByTime(Ou(n.staleTime,s))?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Ut).catch(Ut)}fetchInfiniteQuery(r){return r.behavior=ph(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Ut).catch(Ut)}ensureInfiniteQueryData(r){return r.behavior=ph(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Yo.isOnline()?z(this,Un).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ie)}getMutationCache(){return z(this,Un)}getDefaultOptions(){return z(this,Vn)}setDefaultOptions(r){me(this,Vn,r)}setQueryDefaults(r,n){z(this,ss).set(di(r),{queryKey:r,defaultOptions:n})}getQueryDefaults(r){const n=[...z(this,ss).values()],s={};return n.forEach(i=>{hi(r,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(r,n){z(this,is).set(di(r),{mutationKey:r,defaultOptions:n})}getMutationDefaults(r){const n=[...z(this,is).values()],s={};return n.forEach(i=>{hi(r,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(r){if(r._defaulted)return r;const n={...z(this,Vn).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return n.queryHash||(n.queryHash=Uu(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Vu&&(n.enabled=!1),n}defaultMutationOptions(r){return r?._defaulted?r:{...z(this,Vn).mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){z(this,Ie).clear(),z(this,Un).clear()}},Ie=new WeakMap,Un=new WeakMap,Vn=new WeakMap,ss=new WeakMap,is=new WeakMap,Wn=new WeakMap,os=new WeakMap,ls=new WeakMap,cp),D=Bu();const Kt=fp(D);var Q0=D.createContext(void 0),G0=({client:r,children:n})=>(D.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),p.jsx(Q0.Provider,{value:r,children:n})),Do={},pu={exports:{}},gt={},mu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function Y0(){return gh||(gh=1,(function(r){function n(I,V){var F=I.length;I.push(V);e:for(;0<F;){var b=F-1>>>1,M=I[b];if(0<l(M,V))I[b]=V,I[F]=M,F=b;else break e}}function s(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],F=I.pop();if(F!==V){I[0]=F;e:for(var b=0,M=I.length,ue=M>>>1;b<ue;){var re=2*(b+1)-1,ye=I[re],ve=re+1,Ne=I[ve];if(0>l(ye,F))ve<M&&0>l(Ne,ye)?(I[b]=Ne,I[ve]=F,b=ve):(I[b]=ye,I[re]=F,b=re);else if(ve<M&&0>l(Ne,F))I[b]=Ne,I[ve]=F,b=ve;else break e}}return V}function l(I,V){var F=I.sortIndex-V.sortIndex;return F!==0?F:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var m=[],g=[],x=1,w=null,v=3,C=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(I){for(var V=s(g);V!==null;){if(V.callback===null)i(g);else if(V.startTime<=I)i(g),V.sortIndex=V.expirationTime,n(m,V);else break;V=s(g)}}function U(I){if(S=!1,J(I),!E)if(s(m)!==null)E=!0,R(G);else{var V=s(g);V!==null&&$(U,V.startTime-I)}}function G(I,V){E=!1,S&&(S=!1,K(ee),ee=-1),C=!0;var F=v;try{for(J(V),w=s(m);w!==null&&(!(w.expirationTime>V)||I&&!Q());){var b=w.callback;if(typeof b=="function"){w.callback=null,v=w.priorityLevel;var M=b(w.expirationTime<=V);V=r.unstable_now(),typeof M=="function"?w.callback=M:w===s(m)&&i(m),J(V)}else i(m);w=s(m)}if(w!==null)var ue=!0;else{var re=s(g);re!==null&&$(U,re.startTime-V),ue=!1}return ue}finally{w=null,v=F,C=!1}}var q=!1,se=null,ee=-1,fe=5,ae=-1;function Q(){return!(r.unstable_now()-ae<fe)}function L(){if(se!==null){var I=r.unstable_now();ae=I;var V=!0;try{V=se(!0,I)}finally{V?Z():(q=!1,se=null)}}else q=!1}var Z;if(typeof B=="function")Z=function(){B(L)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,_=te.port2;te.port1.onmessage=L,Z=function(){_.postMessage(null)}}else Z=function(){T(L,0)};function R(I){se=I,q||(q=!0,Z())}function $(I,V){ee=T(function(){I(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_continueExecution=function(){E||C||(E=!0,R(G))},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return s(m)},r.unstable_next=function(I){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var F=v;v=V;try{return I()}finally{v=F}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=v;v=I;try{return V()}finally{v=F}},r.unstable_scheduleCallback=function(I,V,F){var b=r.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?b+F:b):F=b,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,I={id:x++,callback:V,priorityLevel:I,startTime:F,expirationTime:M,sortIndex:-1},F>b?(I.sortIndex=F,n(g,I),s(m)===null&&I===s(g)&&(S?(K(ee),ee=-1):S=!0,$(U,F-b))):(I.sortIndex=M,n(m,I),E||C||(E=!0,R(G))),I},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(I){var V=v;return function(){var F=v;v=V;try{return I.apply(this,arguments)}finally{v=F}}}})(gu)),gu}var yh;function J0(){return yh||(yh=1,mu.exports=Y0()),mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function Z0(){if(vh)return gt;vh=1;var r=Bu(),n=J0();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function v(e){return m.call(w,e)?!0:m.call(x,e)?!1:g.test(e)?w[e]=!0:(x[e]=!0,!1)}function C(e,t,o,a){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,o,a){if(t===null||typeof t>"u"||C(e,t,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,o,a,c,d,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=y}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new S(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,B);T[t]=new S(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,B);T[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,B);T[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function J(e,t,o,a){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,o,c,a)&&(o=null),a||c===null?v(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):c.mustUseProperty?e[c.propertyName]=o===null?c.type===3?!1:"":o:(t=c.attributeName,a=c.attributeNamespace,o===null?e.removeAttribute(t):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?e.setAttributeNS(a,t,o):e.setAttribute(t,o))))}var U=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),q=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),Q=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),I=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,b;function M(e){if(b===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var ue=!1;function re(e,t){if(!e||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var a=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){a=A}e.call(t.prototype)}else{try{throw Error()}catch(A){a=A}e()}}catch(A){if(A&&a&&typeof A.stack=="string"){for(var c=A.stack.split(`
`),d=a.stack.split(`
`),y=c.length-1,k=d.length-1;1<=y&&0<=k&&c[y]!==d[k];)k--;for(;1<=y&&0<=k;y--,k--)if(c[y]!==d[k]){if(y!==1||k!==1)do if(y--,k--,0>k||c[y]!==d[k]){var N=`
`+c[y].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=y&&0<=k);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?M(e):""}function ye(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case q:return"Portal";case fe:return"Profiler";case ee:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case ae:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function Ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yt(e){var t=Oe(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=yt(e))}function ac(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),a="";return e&&(a=Oe(e)?e.checked?"true":"false":e.value),e=a,e!==o?(t.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var o=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function uc(e,t){var o=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;o=be(t.value!=null?t.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cc(e,t){t=t.checked,t!=null&&J(e,"checked",t,!1)}function xl(e,t){cc(e,t);var o=be(t.value),a=t.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wl(e,t.type,o):t.hasOwnProperty("defaultValue")&&wl(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fc(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function wl(e,t,o){(t!=="number"||ji(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var ms=Array.isArray;function vr(e,t,o,a){if(e=e.options,t){t={};for(var c=0;c<o.length;c++)t["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=t.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&a&&(e[o].defaultSelected=!0)}else{for(o=""+be(o),t=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(s(92));if(ms(o)){if(1<o.length)throw Error(s(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:be(o)}}function hc(e,t){var o=be(t.value),a=be(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function pc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,gc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,o,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gs(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sm=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(e){Sm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ys[t]=ys[e]})});function yc(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||ys.hasOwnProperty(e)&&ys[e]?(""+t).trim():t+"px"}function vc(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=yc(o,t[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,c):e[o]=c}}var bm=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,xr=null,wr=null;function xc(e){if(e=zs(e)){if(typeof El!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Yi(t),El(e.stateNode,e.type,t))}}function wc(e){xr?wr?wr.push(e):wr=[e]:xr=e}function kc(){if(xr){var e=xr,t=wr;if(wr=xr=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function Sc(e,t){return e(t)}function bc(){}var Tl=!1;function Cc(e,t,o){if(Tl)return e(t,o);Tl=!0;try{return Sc(e,t,o)}finally{Tl=!1,(xr!==null||wr!==null)&&(bc(),kc())}}function vs(e,t){var o=e.stateNode;if(o===null)return null;var a=Yi(o);if(a===null)return null;o=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,t,typeof o));return o}var _l=!1;if(h)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){_l=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{_l=!1}function Cm(e,t,o,a,c,d,y,k,N){var A=Array.prototype.slice.call(arguments,3);try{t.apply(o,A)}catch(H){this.onError(H)}}var ws=!1,Ti=null,_i=!1,Ol=null,Nm={onError:function(e){ws=!0,Ti=e}};function jm(e,t,o,a,c,d,y,k,N){ws=!1,Ti=null,Cm.apply(Nm,arguments)}function Em(e,t,o,a,c,d,y,k,N){if(jm.apply(this,arguments),ws){if(ws){var A=Ti;ws=!1,Ti=null}else throw Error(s(198));_i||(_i=!0,Ol=A)}}function Qn(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Nc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jc(e){if(Qn(e)!==e)throw Error(s(188))}function Tm(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var o=e,a=t;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return jc(c),e;if(d===a)return jc(c),t;d=d.sibling}throw Error(s(188))}if(o.return!==a.return)o=c,a=d;else{for(var y=!1,k=c.child;k;){if(k===o){y=!0,o=c,a=d;break}if(k===a){y=!0,a=c,o=d;break}k=k.sibling}if(!y){for(k=d.child;k;){if(k===o){y=!0,o=d,a=c;break}if(k===a){y=!0,a=d,o=c;break}k=k.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==a)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:t}function Ec(e){return e=Tm(e),e!==null?Tc(e):null}function Tc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tc(e);if(t!==null)return t;e=e.sibling}return null}var _c=n.unstable_scheduleCallback,Oc=n.unstable_cancelCallback,_m=n.unstable_shouldYield,Om=n.unstable_requestPaint,Re=n.unstable_now,Lm=n.unstable_getCurrentPriorityLevel,Ll=n.unstable_ImmediatePriority,Lc=n.unstable_UserBlockingPriority,Oi=n.unstable_NormalPriority,Pm=n.unstable_LowPriority,Pc=n.unstable_IdlePriority,Li=null,Qt=null;function Mm(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Rm,Am=Math.log,Im=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Am(e)/Im|0)|0}var Pi=64,Mi=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,t){var o=e.pendingLanes;if(o===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,y=o&268435455;if(y!==0){var k=y&~c;k!==0?a=ks(k):(d&=y,d!==0&&(a=ks(d)))}else y=o&~c,y!==0?a=ks(y):d!==0&&(a=ks(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)o=31-At(t),c=1<<o,a|=e[o],t&=~c;return a}function Fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(e,t){for(var o=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-At(d),k=1<<y,N=c[y];N===-1?((k&o)===0||(k&a)!==0)&&(c[y]=Fm(k,t)):N<=t&&(e.expiredLanes|=k),d&=~k}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mc(){var e=Pi;return Pi<<=1,(Pi&4194240)===0&&(Pi=64),e}function Ml(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ss(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=o}function zm(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var c=31-At(o),d=1<<c;t[c]=0,a[c]=-1,e[c]=-1,o&=~d}}function Al(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var a=31-At(o),c=1<<a;c&t|e[a]&t&&(e[a]|=t),o&=~c}}var Ce=0;function Ac(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ic,Il,Rc,Fc,Dc,Rl=!1,Ii=[],vn=null,xn=null,wn=null,bs=new Map,Cs=new Map,kn=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Ns(e,t,o,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=zs(t),t!==null&&Il(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Bm(e,t,o,a,c){switch(t){case"focusin":return vn=Ns(vn,e,t,o,a,c),!0;case"dragenter":return xn=Ns(xn,e,t,o,a,c),!0;case"mouseover":return wn=Ns(wn,e,t,o,a,c),!0;case"pointerover":var d=c.pointerId;return bs.set(d,Ns(bs.get(d)||null,e,t,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Cs.set(d,Ns(Cs.get(d)||null,e,t,o,a,c)),!0}return!1}function $c(e){var t=Gn(e.target);if(t!==null){var o=Qn(t);if(o!==null){if(t=o.tag,t===13){if(t=Nc(o),t!==null){e.blockedOn=t,Dc(e.priority,function(){Rc(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);Nl=a,o.target.dispatchEvent(a),Nl=null}else return t=zs(o),t!==null&&Il(t),e.blockedOn=o,!1;t.shift()}return!0}function Bc(e,t,o){Ri(e)&&o.delete(t)}function Um(){Rl=!1,vn!==null&&Ri(vn)&&(vn=null),xn!==null&&Ri(xn)&&(xn=null),wn!==null&&Ri(wn)&&(wn=null),bs.forEach(Bc),Cs.forEach(Bc)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Um)))}function Es(e){function t(c){return js(c,e)}if(0<Ii.length){js(Ii[0],e);for(var o=1;o<Ii.length;o++){var a=Ii[o];a.blockedOn===e&&(a.blockedOn=null)}}for(vn!==null&&js(vn,e),xn!==null&&js(xn,e),wn!==null&&js(wn,e),bs.forEach(t),Cs.forEach(t),o=0;o<kn.length;o++)a=kn[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<kn.length&&(o=kn[0],o.blockedOn===null);)$c(o),o.blockedOn===null&&kn.shift()}var kr=U.ReactCurrentBatchConfig,Fi=!0;function Vm(e,t,o,a){var c=Ce,d=kr.transition;kr.transition=null;try{Ce=1,Fl(e,t,o,a)}finally{Ce=c,kr.transition=d}}function Wm(e,t,o,a){var c=Ce,d=kr.transition;kr.transition=null;try{Ce=4,Fl(e,t,o,a)}finally{Ce=c,kr.transition=d}}function Fl(e,t,o,a){if(Fi){var c=Dl(e,t,o,a);if(c===null)ta(e,t,a,Di,o),zc(e,a);else if(Bm(c,e,t,o,a))a.stopPropagation();else if(zc(e,a),t&4&&-1<$m.indexOf(e)){for(;c!==null;){var d=zs(c);if(d!==null&&Ic(d),d=Dl(e,t,o,a),d===null&&ta(e,t,a,Di,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else ta(e,t,a,null,o)}}var Di=null;function Dl(e,t,o,a){if(Di=null,e=jl(a),e=Gn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Nc(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Di=e,null}function Uc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case Ll:return 1;case Lc:return 4;case Oi:case Pm:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var Sn=null,zl=null,zi=null;function Vc(){if(zi)return zi;var e,t=zl,o=t.length,a,c="value"in Sn?Sn.value:Sn.textContent,d=c.length;for(e=0;e<o&&t[e]===c[e];e++);var y=o-e;for(a=1;a<=y&&t[o-a]===c[d-a];a++);return zi=c.slice(e,1<a?1-a:void 0)}function $i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Wc(){return!1}function vt(e){function t(o,a,c,d,y){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(o=e[k],this[k]=o?o(d):d[k]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Wc,this.isPropagationStopped=Wc,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=vt(Sr),Ts=F({},Sr,{view:0,detail:0}),Km=vt(Ts),Bl,Ul,_s,Ui=F({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(Bl=e.screenX-_s.screenX,Ul=e.screenY-_s.screenY):Ul=Bl=0,_s=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Kc=vt(Ui),qm=F({},Ui,{dataTransfer:0}),Hm=vt(qm),Qm=F({},Ts,{relatedTarget:0}),Vl=vt(Qm),Gm=F({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=vt(Gm),Jm=F({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=vt(Jm),Xm=F({},Sr,{data:0}),qc=vt(Xm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Wl(){return rg}var sg=F({},Ts,{key:function(e){if(e.key){var t=eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ig=vt(sg),og=F({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=vt(og),lg=F({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),ag=vt(lg),ug=F({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cg=vt(ug),fg=F({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dg=vt(fg),hg=[9,13,27,32],Kl=h&&"CompositionEvent"in window,Os=null;h&&"documentMode"in document&&(Os=document.documentMode);var pg=h&&"TextEvent"in window&&!Os,Qc=h&&(!Kl||Os&&8<Os&&11>=Os),Gc=" ",Yc=!1;function Jc(e,t){switch(e){case"keyup":return hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function mg(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Yc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Yc?null:e;default:return null}}function gg(e,t){if(br)return e==="compositionend"||!Kl&&Jc(e,t)?(e=Vc(),zi=zl=Sn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qc&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function ef(e,t,o,a){wc(a),t=Hi(t,"onChange"),0<t.length&&(o=new $l("onChange","change",null,o,a),e.push({event:o,listeners:t}))}var Ls=null,Ps=null;function vg(e){xf(e,0)}function Vi(e){var t=Tr(e);if(ac(t))return e}function xg(e,t){if(e==="change")return t}var tf=!1;if(h){var ql;if(h){var Hl="oninput"in document;if(!Hl){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Hl=typeof nf.oninput=="function"}ql=Hl}else ql=!1;tf=ql&&(!document.documentMode||9<document.documentMode)}function rf(){Ls&&(Ls.detachEvent("onpropertychange",sf),Ps=Ls=null)}function sf(e){if(e.propertyName==="value"&&Vi(Ps)){var t=[];ef(t,Ps,e,jl(e)),Cc(vg,t)}}function wg(e,t,o){e==="focusin"?(rf(),Ls=t,Ps=o,Ls.attachEvent("onpropertychange",sf)):e==="focusout"&&rf()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(Ps)}function Sg(e,t){if(e==="click")return Vi(t)}function bg(e,t){if(e==="input"||e==="change")return Vi(t)}function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Cg;function Ms(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!m.call(t,c)||!It(e[c],t[c]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,t){var o=of(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=t&&a>=t)return{node:o,offset:t-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=of(o)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uf(){for(var e=window,t=ji();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=ji(e.document)}return t}function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ng(e){var t=uf(),o=e.focusedElem,a=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&af(o.ownerDocument.documentElement,o)){if(a!==null&&Ql(o)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=lf(o,d);var y=lf(o,a);c&&y&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jg=h&&"documentMode"in document&&11>=document.documentMode,Cr=null,Gl=null,As=null,Yl=!1;function cf(e,t,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yl||Cr==null||Cr!==ji(a)||(a=Cr,"selectionStart"in a&&Ql(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),As&&Ms(As,a)||(As=a,a=Hi(Gl,"onSelect"),0<a.length&&(t=new $l("onSelect","select",null,t,o),e.push({event:t,listeners:a}),t.target=Cr)))}function Wi(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Nr={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Jl={},ff={};h&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ki(e){if(Jl[e])return Jl[e];if(!Nr[e])return e;var t=Nr[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in ff)return Jl[e]=t[o];return e}var df=Ki("animationend"),hf=Ki("animationiteration"),pf=Ki("animationstart"),mf=Ki("transitionend"),gf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){gf.set(e,t),u(t,[e])}for(var Zl=0;Zl<yf.length;Zl++){var Xl=yf[Zl],Eg=Xl.toLowerCase(),Tg=Xl[0].toUpperCase()+Xl.slice(1);bn(Eg,"on"+Tg)}bn(df,"onAnimationEnd"),bn(hf,"onAnimationIteration"),bn(pf,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(mf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function vf(e,t,o){var a=e.type||"unknown-event";e.currentTarget=o,Em(a,t,void 0,e),e.currentTarget=null}function xf(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var y=a.length-1;0<=y;y--){var k=a[y],N=k.instance,A=k.currentTarget;if(k=k.listener,N!==d&&c.isPropagationStopped())break e;vf(c,k,A),d=N}else for(y=0;y<a.length;y++){if(k=a[y],N=k.instance,A=k.currentTarget,k=k.listener,N!==d&&c.isPropagationStopped())break e;vf(c,k,A),d=N}}}if(_i)throw e=Ol,_i=!1,Ol=null,e}function Te(e,t){var o=t[la];o===void 0&&(o=t[la]=new Set);var a=e+"__bubble";o.has(a)||(wf(t,e,2,!1),o.add(a))}function ea(e,t,o){var a=0;t&&(a|=4),wf(o,e,a,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[qi]){e[qi]=!0,i.forEach(function(o){o!=="selectionchange"&&(_g.has(o)||ea(o,!1,e),ea(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,ea("selectionchange",!1,t))}}function wf(e,t,o,a){switch(Uc(t)){case 1:var c=Vm;break;case 4:c=Wm;break;default:c=Fl}o=c.bind(null,t,o,e),c=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,o,{capture:!0,passive:c}):e.addEventListener(t,o,!0):c!==void 0?e.addEventListener(t,o,{passive:c}):e.addEventListener(t,o,!1)}function ta(e,t,o,a,c){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var k=a.stateNode.containerInfo;if(k===c||k.nodeType===8&&k.parentNode===c)break;if(y===4)for(y=a.return;y!==null;){var N=y.tag;if((N===3||N===4)&&(N=y.stateNode.containerInfo,N===c||N.nodeType===8&&N.parentNode===c))return;y=y.return}for(;k!==null;){if(y=Gn(k),y===null)return;if(N=y.tag,N===5||N===6){a=d=y;continue e}k=k.parentNode}}a=a.return}Cc(function(){var A=d,H=jl(o),Y=[];e:{var W=gf.get(e);if(W!==void 0){var ne=$l,oe=e;switch(e){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":ne=ig;break;case"focusin":oe="focus",ne=Vl;break;case"focusout":oe="blur",ne=Vl;break;case"beforeblur":case"afterblur":ne=Vl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=ag;break;case df:case hf:case pf:ne=Ym;break;case mf:ne=cg;break;case"scroll":ne=Km;break;case"wheel":ne=dg;break;case"copy":case"cut":case"paste":ne=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Hc}var le=(t&4)!==0,Fe=!le&&e==="scroll",O=le?W!==null?W+"Capture":null:W;le=[];for(var j=A,P;j!==null;){P=j;var X=P.stateNode;if(P.tag===5&&X!==null&&(P=X,O!==null&&(X=vs(j,O),X!=null&&le.push(Fs(j,X,P)))),Fe)break;j=j.return}0<le.length&&(W=new ne(W,oe,null,o,H),Y.push({event:W,listeners:le}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",W&&o!==Nl&&(oe=o.relatedTarget||o.fromElement)&&(Gn(oe)||oe[rn]))break e;if((ne||W)&&(W=H.window===H?H:(W=H.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(oe=o.relatedTarget||o.toElement,ne=A,oe=oe?Gn(oe):null,oe!==null&&(Fe=Qn(oe),oe!==Fe||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=A),ne!==oe)){if(le=Kc,X="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(le=Hc,X="onPointerLeave",O="onPointerEnter",j="pointer"),Fe=ne==null?W:Tr(ne),P=oe==null?W:Tr(oe),W=new le(X,j+"leave",ne,o,H),W.target=Fe,W.relatedTarget=P,X=null,Gn(H)===A&&(le=new le(O,j+"enter",oe,o,H),le.target=P,le.relatedTarget=Fe,X=le),Fe=X,ne&&oe)t:{for(le=ne,O=oe,j=0,P=le;P;P=jr(P))j++;for(P=0,X=O;X;X=jr(X))P++;for(;0<j-P;)le=jr(le),j--;for(;0<P-j;)O=jr(O),P--;for(;j--;){if(le===O||O!==null&&le===O.alternate)break t;le=jr(le),O=jr(O)}le=null}else le=null;ne!==null&&kf(Y,W,ne,le,!1),oe!==null&&Fe!==null&&kf(Y,Fe,oe,le,!0)}}e:{if(W=A?Tr(A):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var ce=xg;else if(Xc(W))if(tf)ce=bg;else{ce=kg;var de=wg}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ce=Sg);if(ce&&(ce=ce(e,A))){ef(Y,ce,o,H);break e}de&&de(e,W,A),e==="focusout"&&(de=W._wrapperState)&&de.controlled&&W.type==="number"&&wl(W,"number",W.value)}switch(de=A?Tr(A):window,e){case"focusin":(Xc(de)||de.contentEditable==="true")&&(Cr=de,Gl=A,As=null);break;case"focusout":As=Gl=Cr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,cf(Y,o,H);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":cf(Y,o,H)}var he;if(Kl)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else br?Jc(e,o)&&(pe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Qc&&o.locale!=="ko"&&(br||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&br&&(he=Vc()):(Sn=H,zl="value"in Sn?Sn.value:Sn.textContent,br=!0)),de=Hi(A,pe),0<de.length&&(pe=new qc(pe,e,null,o,H),Y.push({event:pe,listeners:de}),he?pe.data=he:(he=Zc(o),he!==null&&(pe.data=he)))),(he=pg?mg(e,o):gg(e,o))&&(A=Hi(A,"onBeforeInput"),0<A.length&&(H=new qc("onBeforeInput","beforeinput",null,o,H),Y.push({event:H,listeners:A}),H.data=he))}xf(Y,t)})}function Fs(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Hi(e,t){for(var o=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=vs(e,o),d!=null&&a.unshift(Fs(e,d,c)),d=vs(e,t),d!=null&&a.push(Fs(e,d,c))),e=e.return}return a}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kf(e,t,o,a,c){for(var d=t._reactName,y=[];o!==null&&o!==a;){var k=o,N=k.alternate,A=k.stateNode;if(N!==null&&N===a)break;k.tag===5&&A!==null&&(k=A,c?(N=vs(o,d),N!=null&&y.unshift(Fs(o,N,k))):c||(N=vs(o,d),N!=null&&y.push(Fs(o,N,k)))),o=o.return}y.length!==0&&e.push({event:t,listeners:y})}var Og=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function Sf(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(Lg,"")}function Qi(e,t,o){if(t=Sf(t),Sf(e)!==t&&o)throw Error(s(425))}function Gi(){}var na=null,ra=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Pg=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,Mg=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(Ag)}:ia;function Ag(e){setTimeout(function(){throw e})}function oa(e,t){var o=t,a=0;do{var c=o.nextSibling;if(e.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){e.removeChild(c),Es(t);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Es(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Er,Ds="__reactProps$"+Er,rn="__reactContainer$"+Er,la="__reactEvents$"+Er,Ig="__reactListeners$"+Er,Rg="__reactHandles$"+Er;function Gn(e){var t=e[Gt];if(t)return t;for(var o=e.parentNode;o;){if(t=o[rn]||o[Gt]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=Cf(e);e!==null;){if(o=e[Gt])return o;e=Cf(e)}return t}e=o,o=e.parentNode}return null}function zs(e){return e=e[Gt]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Yi(e){return e[Ds]||null}var aa=[],_r=-1;function Nn(e){return{current:e}}function _e(e){0>_r||(e.current=aa[_r],aa[_r]=null,_r--)}function je(e,t){_r++,aa[_r]=e.current,e.current=t}var jn={},Ze=Nn(jn),ft=Nn(!1),Yn=jn;function Or(e,t){var o=e.type.contextTypes;if(!o)return jn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function dt(e){return e=e.childContextTypes,e!=null}function Ji(){_e(ft),_e(Ze)}function Nf(e,t,o){if(Ze.current!==jn)throw Error(s(168));je(Ze,t),je(ft,o)}function jf(e,t,o){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(s(108,Ne(e)||"Unknown",c));return F({},o,a)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Yn=Ze.current,je(Ze,e),je(ft,ft.current),!0}function Ef(e,t,o){var a=e.stateNode;if(!a)throw Error(s(169));o?(e=jf(e,t,Yn),a.__reactInternalMemoizedMergedChildContext=e,_e(ft),_e(Ze),je(Ze,e)):_e(ft),je(ft,o)}var sn=null,Xi=!1,ua=!1;function Tf(e){sn===null?sn=[e]:sn.push(e)}function Fg(e){Xi=!0,Tf(e)}function En(){if(!ua&&sn!==null){ua=!0;var e=0,t=Ce;try{var o=sn;for(Ce=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}sn=null,Xi=!1}catch(c){throw sn!==null&&(sn=sn.slice(e+1)),_c(Ll,En),c}finally{Ce=t,ua=!1}}return null}var Lr=[],Pr=0,eo=null,to=0,bt=[],Ct=0,Jn=null,on=1,ln="";function Zn(e,t){Lr[Pr++]=to,Lr[Pr++]=eo,eo=e,to=t}function _f(e,t,o){bt[Ct++]=on,bt[Ct++]=ln,bt[Ct++]=Jn,Jn=e;var a=on;e=ln;var c=32-At(a)-1;a&=~(1<<c),o+=1;var d=32-At(t)+c;if(30<d){var y=c-c%5;d=(a&(1<<y)-1).toString(32),a>>=y,c-=y,on=1<<32-At(t)+c|o<<c|a,ln=d+e}else on=1<<d|o<<c|a,ln=e}function ca(e){e.return!==null&&(Zn(e,1),_f(e,1,0))}function fa(e){for(;e===eo;)eo=Lr[--Pr],Lr[Pr]=null,to=Lr[--Pr],Lr[Pr]=null;for(;e===Jn;)Jn=bt[--Ct],bt[Ct]=null,ln=bt[--Ct],bt[Ct]=null,on=bt[--Ct],bt[Ct]=null}var xt=null,wt=null,Le=!1,Rt=null;function Of(e,t){var o=Tt(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function Lf(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,wt=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=Jn!==null?{id:on,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Tt(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,xt=e,wt=null,!0):!1;default:return!1}}function da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(Le){var t=wt;if(t){var o=t;if(!Lf(e,t)){if(da(e))throw Error(s(418));t=Cn(o.nextSibling);var a=xt;t&&Lf(e,t)?Of(a,o):(e.flags=e.flags&-4097|2,Le=!1,xt=e)}}else{if(da(e))throw Error(s(418));e.flags=e.flags&-4097|2,Le=!1,xt=e}}}function Pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function no(e){if(e!==xt)return!1;if(!Le)return Pf(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=wt)){if(da(e))throw Mf(),Error(s(418));for(;t;)Of(e,t),t=Cn(t.nextSibling)}if(Pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){wt=Cn(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=xt?Cn(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=wt;e;)e=Cn(e.nextSibling)}function Mr(){wt=xt=null,Le=!1}function pa(e){Rt===null?Rt=[e]:Rt.push(e)}var Dg=U.ReactCurrentBatchConfig;function $s(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var a=o.stateNode}if(!a)throw Error(s(147,e));var c=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(y){var k=c.refs;y===null?delete k[d]:k[d]=y},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function ro(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Af(e){var t=e._init;return t(e._payload)}function If(e){function t(O,j){if(e){var P=O.deletions;P===null?(O.deletions=[j],O.flags|=16):P.push(j)}}function o(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function a(O,j){for(O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function c(O,j){return O=In(O,j),O.index=0,O.sibling=null,O}function d(O,j,P){return O.index=P,e?(P=O.alternate,P!==null?(P=P.index,P<j?(O.flags|=2,j):P):(O.flags|=2,j)):(O.flags|=1048576,j)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function k(O,j,P,X){return j===null||j.tag!==6?(j=iu(P,O.mode,X),j.return=O,j):(j=c(j,P),j.return=O,j)}function N(O,j,P,X){var ce=P.type;return ce===se?H(O,j,P.props.children,X,P.key):j!==null&&(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Af(ce)===j.type)?(X=c(j,P.props),X.ref=$s(O,j,P),X.return=O,X):(X=To(P.type,P.key,P.props,null,O.mode,X),X.ref=$s(O,j,P),X.return=O,X)}function A(O,j,P,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=ou(P,O.mode,X),j.return=O,j):(j=c(j,P.children||[]),j.return=O,j)}function H(O,j,P,X,ce){return j===null||j.tag!==7?(j=or(P,O.mode,X,ce),j.return=O,j):(j=c(j,P),j.return=O,j)}function Y(O,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return j=iu(""+j,O.mode,P),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return P=To(j.type,j.key,j.props,null,O.mode,P),P.ref=$s(O,null,j),P.return=O,P;case q:return j=ou(j,O.mode,P),j.return=O,j;case R:var X=j._init;return Y(O,X(j._payload),P)}if(ms(j)||V(j))return j=or(j,O.mode,P,null),j.return=O,j;ro(O,j)}return null}function W(O,j,P,X){var ce=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ce!==null?null:k(O,j,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ce?N(O,j,P,X):null;case q:return P.key===ce?A(O,j,P,X):null;case R:return ce=P._init,W(O,j,ce(P._payload),X)}if(ms(P)||V(P))return ce!==null?null:H(O,j,P,X,null);ro(O,P)}return null}function ne(O,j,P,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(P)||null,k(j,O,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return O=O.get(X.key===null?P:X.key)||null,N(j,O,X,ce);case q:return O=O.get(X.key===null?P:X.key)||null,A(j,O,X,ce);case R:var de=X._init;return ne(O,j,P,de(X._payload),ce)}if(ms(X)||V(X))return O=O.get(P)||null,H(j,O,X,ce,null);ro(j,X)}return null}function oe(O,j,P,X){for(var ce=null,de=null,he=j,pe=j=0,qe=null;he!==null&&pe<P.length;pe++){he.index>pe?(qe=he,he=null):qe=he.sibling;var Se=W(O,he,P[pe],X);if(Se===null){he===null&&(he=qe);break}e&&he&&Se.alternate===null&&t(O,he),j=d(Se,j,pe),de===null?ce=Se:de.sibling=Se,de=Se,he=qe}if(pe===P.length)return o(O,he),Le&&Zn(O,pe),ce;if(he===null){for(;pe<P.length;pe++)he=Y(O,P[pe],X),he!==null&&(j=d(he,j,pe),de===null?ce=he:de.sibling=he,de=he);return Le&&Zn(O,pe),ce}for(he=a(O,he);pe<P.length;pe++)qe=ne(he,O,pe,P[pe],X),qe!==null&&(e&&qe.alternate!==null&&he.delete(qe.key===null?pe:qe.key),j=d(qe,j,pe),de===null?ce=qe:de.sibling=qe,de=qe);return e&&he.forEach(function(Rn){return t(O,Rn)}),Le&&Zn(O,pe),ce}function le(O,j,P,X){var ce=V(P);if(typeof ce!="function")throw Error(s(150));if(P=ce.call(P),P==null)throw Error(s(151));for(var de=ce=null,he=j,pe=j=0,qe=null,Se=P.next();he!==null&&!Se.done;pe++,Se=P.next()){he.index>pe?(qe=he,he=null):qe=he.sibling;var Rn=W(O,he,Se.value,X);if(Rn===null){he===null&&(he=qe);break}e&&he&&Rn.alternate===null&&t(O,he),j=d(Rn,j,pe),de===null?ce=Rn:de.sibling=Rn,de=Rn,he=qe}if(Se.done)return o(O,he),Le&&Zn(O,pe),ce;if(he===null){for(;!Se.done;pe++,Se=P.next())Se=Y(O,Se.value,X),Se!==null&&(j=d(Se,j,pe),de===null?ce=Se:de.sibling=Se,de=Se);return Le&&Zn(O,pe),ce}for(he=a(O,he);!Se.done;pe++,Se=P.next())Se=ne(he,O,pe,Se.value,X),Se!==null&&(e&&Se.alternate!==null&&he.delete(Se.key===null?pe:Se.key),j=d(Se,j,pe),de===null?ce=Se:de.sibling=Se,de=Se);return e&&he.forEach(function(y0){return t(O,y0)}),Le&&Zn(O,pe),ce}function Fe(O,j,P,X){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var ce=P.key,de=j;de!==null;){if(de.key===ce){if(ce=P.type,ce===se){if(de.tag===7){o(O,de.sibling),j=c(de,P.props.children),j.return=O,O=j;break e}}else if(de.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Af(ce)===de.type){o(O,de.sibling),j=c(de,P.props),j.ref=$s(O,de,P),j.return=O,O=j;break e}o(O,de);break}else t(O,de);de=de.sibling}P.type===se?(j=or(P.props.children,O.mode,X,P.key),j.return=O,O=j):(X=To(P.type,P.key,P.props,null,O.mode,X),X.ref=$s(O,j,P),X.return=O,O=X)}return y(O);case q:e:{for(de=P.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){o(O,j.sibling),j=c(j,P.children||[]),j.return=O,O=j;break e}else{o(O,j);break}else t(O,j);j=j.sibling}j=ou(P,O.mode,X),j.return=O,O=j}return y(O);case R:return de=P._init,Fe(O,j,de(P._payload),X)}if(ms(P))return oe(O,j,P,X);if(V(P))return le(O,j,P,X);ro(O,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,j!==null&&j.tag===6?(o(O,j.sibling),j=c(j,P),j.return=O,O=j):(o(O,j),j=iu(P,O.mode,X),j.return=O,O=j),y(O)):o(O,j)}return Fe}var Ar=If(!0),Rf=If(!1),so=Nn(null),io=null,Ir=null,ma=null;function ga(){ma=Ir=io=null}function ya(e){var t=so.current;_e(so),e._currentValue=t}function va(e,t,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===o)break;e=e.return}}function Rr(e,t){io=e,ma=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(io===null)throw Error(s(308));Ir=e,io.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Xn=null;function xa(e){Xn===null?Xn=[e]:Xn.push(e)}function Ff(e,t,o,a){var c=t.interleaved;return c===null?(o.next=o,xa(t)):(o.next=c.next,c.next=o),t.interleaved=o,an(e,a)}function an(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Tn=!1;function wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ke&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,an(e,o)}return c=a.interleaved,c===null?(t.next=t,xa(a)):(t.next=c.next,c.next=t),a.interleaved=t,an(e,o)}function oo(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Al(e,o)}}function zf(e,t){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=y:d=d.next=y,o=o.next}while(o!==null);d===null?c=d=t:d=d.next=t}else c=d=t;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function lo(e,t,o,a){var c=e.updateQueue;Tn=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var N=k,A=N.next;N.next=null,y===null?d=A:y.next=A,y=N;var H=e.alternate;H!==null&&(H=H.updateQueue,k=H.lastBaseUpdate,k!==y&&(k===null?H.firstBaseUpdate=A:k.next=A,H.lastBaseUpdate=N))}if(d!==null){var Y=c.baseState;y=0,H=A=N=null,k=d;do{var W=k.lane,ne=k.eventTime;if((a&W)===W){H!==null&&(H=H.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var oe=e,le=k;switch(W=t,ne=o,le.tag){case 1:if(oe=le.payload,typeof oe=="function"){Y=oe.call(ne,Y,W);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=le.payload,W=typeof oe=="function"?oe.call(ne,Y,W):oe,W==null)break e;Y=F({},Y,W);break e;case 2:Tn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,W=c.effects,W===null?c.effects=[k]:W.push(k))}else ne={eventTime:ne,lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},H===null?(A=H=ne,N=Y):H=H.next=ne,y|=W;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;W=k,k=W.next,W.next=null,c.lastBaseUpdate=W,c.shared.pending=null}}while(!0);if(H===null&&(N=Y),c.baseState=N,c.firstBaseUpdate=A,c.lastBaseUpdate=H,t=c.shared.interleaved,t!==null){c=t;do y|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);nr|=y,e.lanes=y,e.memoizedState=Y}}function $f(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var Bs={},Yt=Nn(Bs),Us=Nn(Bs),Vs=Nn(Bs);function er(e){if(e===Bs)throw Error(s(174));return e}function ka(e,t){switch(je(Vs,t),je(Us,e),je(Yt,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sl(t,e)}_e(Yt),je(Yt,t)}function Fr(){_e(Yt),_e(Us),_e(Vs)}function Bf(e){er(Vs.current);var t=er(Yt.current),o=Sl(t,e.type);t!==o&&(je(Us,e),je(Yt,o))}function Sa(e){Us.current===e&&(_e(Yt),_e(Us))}var Pe=Nn(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ba=[];function Ca(){for(var e=0;e<ba.length;e++)ba[e]._workInProgressVersionPrimary=null;ba.length=0}var uo=U.ReactCurrentDispatcher,Na=U.ReactCurrentBatchConfig,tr=0,Me=null,Ue=null,We=null,co=!1,Ws=!1,Ks=0,zg=0;function Xe(){throw Error(s(321))}function ja(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!It(e[o],t[o]))return!1;return!0}function Ea(e,t,o,a,c,d){if(tr=d,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=e===null||e.memoizedState===null?Vg:Wg,e=o(a,c),Ws){d=0;do{if(Ws=!1,Ks=0,25<=d)throw Error(s(301));d+=1,We=Ue=null,t.updateQueue=null,uo.current=Kg,e=o(a,c)}while(Ws)}if(uo.current=po,t=Ue!==null&&Ue.next!==null,tr=0,We=Ue=Me=null,co=!1,t)throw Error(s(300));return e}function Ta(){var e=Ks!==0;return Ks=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Me.memoizedState=We=e:We=We.next=e,We}function jt(){if(Ue===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=We===null?Me.memoizedState:We.next;if(t!==null)We=t,Ue=e;else{if(e===null)throw Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Me.memoizedState=We=e:We=We.next=e}return We}function qs(e,t){return typeof t=="function"?t(e):t}function _a(e){var t=jt(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=Ue,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var k=y=null,N=null,A=d;do{var H=A.lane;if((tr&H)===H)N!==null&&(N=N.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),a=A.hasEagerState?A.eagerState:e(a,A.action);else{var Y={lane:H,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};N===null?(k=N=Y,y=a):N=N.next=Y,Me.lanes|=H,nr|=H}A=A.next}while(A!==null&&A!==d);N===null?y=a:N.next=k,It(a,t.memoizedState)||(ht=!0),t.memoizedState=a,t.baseState=y,t.baseQueue=N,o.lastRenderedState=a}if(e=o.interleaved,e!==null){c=e;do d=c.lane,Me.lanes|=d,nr|=d,c=c.next;while(c!==e)}else c===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Oa(e){var t=jt(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=o.dispatch,c=o.pending,d=t.memoizedState;if(c!==null){o.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);It(d,t.memoizedState)||(ht=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),o.lastRenderedState=d}return[d,a]}function Uf(){}function Vf(e,t){var o=Me,a=jt(),c=t(),d=!It(a.memoizedState,c);if(d&&(a.memoizedState=c,ht=!0),a=a.queue,La(qf.bind(null,o,a,e),[e]),a.getSnapshot!==t||d||We!==null&&We.memoizedState.tag&1){if(o.flags|=2048,Hs(9,Kf.bind(null,o,a,c,t),void 0,null),Ke===null)throw Error(s(349));(tr&30)!==0||Wf(o,t,c)}return c}function Wf(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function Kf(e,t,o,a){t.value=o,t.getSnapshot=a,Hf(t)&&Qf(e)}function qf(e,t,o){return o(function(){Hf(t)&&Qf(e)})}function Hf(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!It(e,o)}catch{return!0}}function Qf(e){var t=an(e,1);t!==null&&$t(t,e,1,-1)}function Gf(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,Me,e),[t.memoizedState,e]}function Hs(e,t,o,a){return e={tag:e,create:t,destroy:o,deps:a,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,t.lastEffect=e)),e}function Yf(){return jt().memoizedState}function fo(e,t,o,a){var c=Jt();Me.flags|=e,c.memoizedState=Hs(1|t,o,void 0,a===void 0?null:a)}function ho(e,t,o,a){var c=jt();a=a===void 0?null:a;var d=void 0;if(Ue!==null){var y=Ue.memoizedState;if(d=y.destroy,a!==null&&ja(a,y.deps)){c.memoizedState=Hs(t,o,d,a);return}}Me.flags|=e,c.memoizedState=Hs(1|t,o,d,a)}function Jf(e,t){return fo(8390656,8,e,t)}function La(e,t){return ho(2048,8,e,t)}function Zf(e,t){return ho(4,2,e,t)}function Xf(e,t){return ho(4,4,e,t)}function ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,o){return o=o!=null?o.concat([e]):null,ho(4,4,ed.bind(null,t,e),o)}function Pa(){}function nd(e,t){var o=jt();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&ja(t,a[1])?a[0]:(o.memoizedState=[e,t],e)}function rd(e,t){var o=jt();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&ja(t,a[1])?a[0]:(e=e(),o.memoizedState=[e,t],e)}function sd(e,t,o){return(tr&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=o):(It(o,t)||(o=Mc(),Me.lanes|=o,nr|=o,e.baseState=!0),t)}function $g(e,t){var o=Ce;Ce=o!==0&&4>o?o:4,e(!0);var a=Na.transition;Na.transition={};try{e(!1),t()}finally{Ce=o,Na.transition=a}}function id(){return jt().memoizedState}function Bg(e,t,o){var a=Mn(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},od(e))ld(t,o);else if(o=Ff(e,t,o,a),o!==null){var c=ot();$t(o,e,a,c),ad(o,t,a)}}function Ug(e,t,o){var a=Mn(e),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(od(e))ld(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,k=d(y,o);if(c.hasEagerState=!0,c.eagerState=k,It(k,y)){var N=t.interleaved;N===null?(c.next=c,xa(t)):(c.next=N.next,N.next=c),t.interleaved=c;return}}catch{}finally{}o=Ff(e,t,c,a),o!==null&&(c=ot(),$t(o,e,a,c),ad(o,t,a))}}function od(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function ld(e,t){Ws=co=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function ad(e,t,o){if((o&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Al(e,o)}}var po={readContext:Nt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Vg={readContext:Nt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Jf,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,fo(4194308,4,ed.bind(null,t,e),o)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var o=Jt();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var a=Jt();return t=o!==void 0?o(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Bg.bind(null,Me,e),[a.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:Pa,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=$g.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var a=Me,c=Jt();if(Le){if(o===void 0)throw Error(s(407));o=o()}else{if(o=t(),Ke===null)throw Error(s(349));(tr&30)!==0||Wf(a,t,o)}c.memoizedState=o;var d={value:o,getSnapshot:t};return c.queue=d,Jf(qf.bind(null,a,d,e),[e]),a.flags|=2048,Hs(9,Kf.bind(null,a,d,o,t),void 0,null),o},useId:function(){var e=Jt(),t=Ke.identifierPrefix;if(Le){var o=ln,a=on;o=(a&~(1<<32-At(a)-1)).toString(32)+o,t=":"+t+"R"+o,o=Ks++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=zg++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wg={readContext:Nt,useCallback:nd,useContext:Nt,useEffect:La,useImperativeHandle:td,useInsertionEffect:Zf,useLayoutEffect:Xf,useMemo:rd,useReducer:_a,useRef:Yf,useState:function(){return _a(qs)},useDebugValue:Pa,useDeferredValue:function(e){var t=jt();return sd(t,Ue.memoizedState,e)},useTransition:function(){var e=_a(qs)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Vf,useId:id,unstable_isNewReconciler:!1},Kg={readContext:Nt,useCallback:nd,useContext:Nt,useEffect:La,useImperativeHandle:td,useInsertionEffect:Zf,useLayoutEffect:Xf,useMemo:rd,useReducer:Oa,useRef:Yf,useState:function(){return Oa(qs)},useDebugValue:Pa,useDeferredValue:function(e){var t=jt();return Ue===null?t.memoizedState=e:sd(t,Ue.memoizedState,e)},useTransition:function(){var e=Oa(qs)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Vf,useId:id,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=F({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function Ma(e,t,o,a){t=e.memoizedState,o=o(a,t),o=o==null?t:F({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var mo={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var a=ot(),c=Mn(e),d=un(a,c);d.payload=t,o!=null&&(d.callback=o),t=_n(e,d,c),t!==null&&($t(t,e,c,a),oo(t,e,c))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var a=ot(),c=Mn(e),d=un(a,c);d.tag=1,d.payload=t,o!=null&&(d.callback=o),t=_n(e,d,c),t!==null&&($t(t,e,c,a),oo(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=ot(),a=Mn(e),c=un(o,a);c.tag=2,t!=null&&(c.callback=t),t=_n(e,c,a),t!==null&&($t(t,e,a,o),oo(t,e,a))}};function ud(e,t,o,a,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,y):t.prototype&&t.prototype.isPureReactComponent?!Ms(o,a)||!Ms(c,d):!0}function cd(e,t,o){var a=!1,c=jn,d=t.contextType;return typeof d=="object"&&d!==null?d=Nt(d):(c=dt(t)?Yn:Ze.current,a=t.contextTypes,d=(a=a!=null)?Or(e,c):jn),t=new t(o,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function fd(e,t,o,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,a),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Aa(e,t,o,a){var c=e.stateNode;c.props=o,c.state=e.memoizedState,c.refs={},wa(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Nt(d):(d=dt(t)?Yn:Ze.current,c.context=Or(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ma(e,t,d,o),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&mo.enqueueReplaceState(c,c.state,null),lo(e,o,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var o="",a=t;do o+=ye(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Ia(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function Ra(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function dd(e,t,o){o=un(-1,o),o.tag=3,o.payload={element:null};var a=t.value;return o.callback=function(){So||(So=!0,Ja=a),Ra(e,t)},o}function hd(e,t,o){o=un(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;o.payload=function(){return a(c)},o.callback=function(){Ra(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Ra(e,t),typeof a!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),o}function pd(e,t,o){var a=e.pingCache;if(a===null){a=e.pingCache=new qg;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(o)||(c.add(o),e=o0.bind(null,e,t,o),t.then(e,e))}function md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gd(e,t,o,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=un(-1,1),t.tag=2,_n(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Hg=U.ReactCurrentOwner,ht=!1;function it(e,t,o,a){t.child=e===null?Rf(t,null,o,a):Ar(t,e.child,o,a)}function yd(e,t,o,a,c){o=o.render;var d=t.ref;return Rr(t,c),a=Ea(e,t,o,a,d,c),o=Ta(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,cn(e,t,c)):(Le&&o&&ca(t),t.flags|=1,it(e,t,a,c),t.child)}function vd(e,t,o,a,c){if(e===null){var d=o.type;return typeof d=="function"&&!su(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=d,xd(e,t,d,a,c)):(e=To(o.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&c)===0){var y=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ms,o(y,a)&&e.ref===t.ref)return cn(e,t,c)}return t.flags|=1,e=In(d,a),e.ref=t.ref,e.return=t,t.child=e}function xd(e,t,o,a,c){if(e!==null){var d=e.memoizedProps;if(Ms(d,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,cn(e,t,c)}return Fa(e,t,o,a,c)}function wd(e,t,o){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je($r,kt),kt|=o;else{if((o&1073741824)===0)return e=d!==null?d.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je($r,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,je($r,kt),kt|=a}else d!==null?(a=d.baseLanes|o,t.memoizedState=null):a=o,je($r,kt),kt|=a;return it(e,t,c,o),t.child}function kd(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,o,a,c){var d=dt(o)?Yn:Ze.current;return d=Or(t,d),Rr(t,c),o=Ea(e,t,o,a,d,c),a=Ta(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,cn(e,t,c)):(Le&&a&&ca(t),t.flags|=1,it(e,t,o,c),t.child)}function Sd(e,t,o,a,c){if(dt(o)){var d=!0;Zi(t)}else d=!1;if(Rr(t,c),t.stateNode===null)yo(e,t),cd(t,o,a),Aa(t,o,a,c),a=!0;else if(e===null){var y=t.stateNode,k=t.memoizedProps;y.props=k;var N=y.context,A=o.contextType;typeof A=="object"&&A!==null?A=Nt(A):(A=dt(o)?Yn:Ze.current,A=Or(t,A));var H=o.getDerivedStateFromProps,Y=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==a||N!==A)&&fd(t,y,a,A),Tn=!1;var W=t.memoizedState;y.state=W,lo(t,a,y,c),N=t.memoizedState,k!==a||W!==N||ft.current||Tn?(typeof H=="function"&&(Ma(t,o,H,a),N=t.memoizedState),(k=Tn||ud(t,o,k,a,W,N,A))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),y.props=a,y.state=N,y.context=A,a=k):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,Df(e,t),k=t.memoizedProps,A=t.type===t.elementType?k:Ft(t.type,k),y.props=A,Y=t.pendingProps,W=y.context,N=o.contextType,typeof N=="object"&&N!==null?N=Nt(N):(N=dt(o)?Yn:Ze.current,N=Or(t,N));var ne=o.getDerivedStateFromProps;(H=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==Y||W!==N)&&fd(t,y,a,N),Tn=!1,W=t.memoizedState,y.state=W,lo(t,a,y,c);var oe=t.memoizedState;k!==Y||W!==oe||ft.current||Tn?(typeof ne=="function"&&(Ma(t,o,ne,a),oe=t.memoizedState),(A=Tn||ud(t,o,A,a,W,oe,N)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,oe,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,oe,N)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=oe),y.props=a,y.state=oe,y.context=N,a=A):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return Da(e,t,o,a,d,c)}function Da(e,t,o,a,c,d){kd(e,t);var y=(t.flags&128)!==0;if(!a&&!y)return c&&Ef(t,o,!1),cn(e,t,d);a=t.stateNode,Hg.current=t;var k=y&&typeof o.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&y?(t.child=Ar(t,e.child,null,d),t.child=Ar(t,null,k,d)):it(e,t,k,d),t.memoizedState=a.state,c&&Ef(t,o,!0),t.child}function bd(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),ka(e,t.containerInfo)}function Cd(e,t,o,a,c){return Mr(),pa(c),t.flags|=256,it(e,t,o,a),t.child}var za={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nd(e,t,o){var a=t.pendingProps,c=Pe.current,d=!1,y=(t.flags&128)!==0,k;if((k=y)||(k=e!==null&&e.memoizedState===null?!1:(c&2)!==0),k?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),je(Pe,c&1),e===null)return ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=a.children,e=a.fallback,d?(a=t.mode,d=t.child,y={mode:"hidden",children:y},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=y):d=_o(y,a,0,null),e=or(e,a,o,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=$a(o),t.memoizedState=za,e):Ba(t,y));if(c=e.memoizedState,c!==null&&(k=c.dehydrated,k!==null))return Qg(e,t,y,a,k,c,o);if(d){d=a.fallback,y=t.mode,c=e.child,k=c.sibling;var N={mode:"hidden",children:a.children};return(y&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=N,t.deletions=null):(a=In(c,N),a.subtreeFlags=c.subtreeFlags&14680064),k!==null?d=In(k,d):(d=or(d,y,o,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,y=e.child.memoizedState,y=y===null?$a(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~o,t.memoizedState=za,a}return d=e.child,e=d.sibling,a=In(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=o),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a}function Ba(e,t){return t=_o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,o,a){return a!==null&&pa(a),Ar(t,e.child,null,o),e=Ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qg(e,t,o,a,c,d,y){if(o)return t.flags&256?(t.flags&=-257,a=Ia(Error(s(422))),go(e,t,y,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,c=t.mode,a=_o({mode:"visible",children:a.children},c,0,null),d=or(d,c,y,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&Ar(t,e.child,null,y),t.child.memoizedState=$a(y),t.memoizedState=za,d);if((t.mode&1)===0)return go(e,t,y,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var k=a.dgst;return a=k,d=Error(s(419)),a=Ia(d,a,void 0),go(e,t,y,a)}if(k=(y&e.childLanes)!==0,ht||k){if(a=Ke,a!==null){switch(y&-y){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|y))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,an(e,c),$t(a,e,c,-1))}return ru(),a=Ia(Error(s(421))),go(e,t,y,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=l0.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,wt=Cn(c.nextSibling),xt=t,Le=!0,Rt=null,e!==null&&(bt[Ct++]=on,bt[Ct++]=ln,bt[Ct++]=Jn,on=e.id,ln=e.overflow,Jn=t),t=Ba(t,a.children),t.flags|=4096,t)}function jd(e,t,o){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),va(e.return,t,o)}function Ua(e,t,o,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function Ed(e,t,o){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(it(e,t,a.children,o),a=Pe.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,o,t);else if(e.tag===19)jd(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(je(Pe,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(o=t.child,c=null;o!==null;)e=o.alternate,e!==null&&ao(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=t.child,t.child=null):(c=o.sibling,o.sibling=null),Ua(t,!1,c,o,d);break;case"backwards":for(o=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ao(e)===null){t.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}Ua(t,!0,o,null,d);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,o=In(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=In(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function Gg(e,t,o){switch(t.tag){case 3:bd(t),Mr();break;case 5:Bf(t);break;case 1:dt(t.type)&&Zi(t);break;case 4:ka(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;je(so,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(je(Pe,Pe.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?Nd(e,t,o):(je(Pe,Pe.current&1),e=cn(e,t,o),e!==null?e.sibling:null);je(Pe,Pe.current&1);break;case 19:if(a=(o&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Ed(e,t,o);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),je(Pe,Pe.current),a)break;return null;case 22:case 23:return t.lanes=0,wd(e,t,o)}return cn(e,t,o)}var Td,Va,_d,Od;Td=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Va=function(){},_d=function(e,t,o,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,er(Yt.current);var d=null;switch(o){case"input":c=vl(e,c),a=vl(e,a),d=[];break;case"select":c=F({},c,{value:void 0}),a=F({},a,{value:void 0}),d=[];break;case"textarea":c=kl(e,c),a=kl(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Gi)}bl(o,a);var y;o=null;for(A in c)if(!a.hasOwnProperty(A)&&c.hasOwnProperty(A)&&c[A]!=null)if(A==="style"){var k=c[A];for(y in k)k.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?d||(d=[]):(d=d||[]).push(A,null));for(A in a){var N=a[A];if(k=c?.[A],a.hasOwnProperty(A)&&N!==k&&(N!=null||k!=null))if(A==="style")if(k){for(y in k)!k.hasOwnProperty(y)||N&&N.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in N)N.hasOwnProperty(y)&&k[y]!==N[y]&&(o||(o={}),o[y]=N[y])}else o||(d||(d=[]),d.push(A,o)),o=N;else A==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,k=k?k.__html:void 0,N!=null&&k!==N&&(d=d||[]).push(A,N)):A==="children"?typeof N!="string"&&typeof N!="number"||(d=d||[]).push(A,""+N):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(l.hasOwnProperty(A)?(N!=null&&A==="onScroll"&&Te("scroll",e),d||k===N||(d=[])):(d=d||[]).push(A,N))}o&&(d=d||[]).push("style",o);var A=d;(t.updateQueue=A)&&(t.flags|=4)}},Od=function(e,t,o,a){o!==a&&(t.flags|=4)};function Qs(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(t)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=o,t}function Yg(e,t,o){var a=t.pendingProps;switch(fa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return dt(t.type)&&Ji(),et(t),null;case 3:return a=t.stateNode,Fr(),_e(ft),_e(Ze),Ca(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(eu(Rt),Rt=null))),Va(e,t),et(t),null;case 5:Sa(t);var c=er(Vs.current);if(o=t.type,e!==null&&t.stateNode!=null)_d(e,t,o,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return et(t),null}if(e=er(Yt.current),no(t)){a=t.stateNode,o=t.type;var d=t.memoizedProps;switch(a[Gt]=t,a[Ds]=d,e=(t.mode&1)!==0,o){case"dialog":Te("cancel",a),Te("close",a);break;case"iframe":case"object":case"embed":Te("load",a);break;case"video":case"audio":for(c=0;c<Is.length;c++)Te(Is[c],a);break;case"source":Te("error",a);break;case"img":case"image":case"link":Te("error",a),Te("load",a);break;case"details":Te("toggle",a);break;case"input":uc(a,d),Te("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Te("invalid",a);break;case"textarea":dc(a,d),Te("invalid",a)}bl(o,d),c=null;for(var y in d)if(d.hasOwnProperty(y)){var k=d[y];y==="children"?typeof k=="string"?a.textContent!==k&&(d.suppressHydrationWarning!==!0&&Qi(a.textContent,k,e),c=["children",k]):typeof k=="number"&&a.textContent!==""+k&&(d.suppressHydrationWarning!==!0&&Qi(a.textContent,k,e),c=["children",""+k]):l.hasOwnProperty(y)&&k!=null&&y==="onScroll"&&Te("scroll",a)}switch(o){case"input":Ni(a),fc(a,d,!0);break;case"textarea":Ni(a),pc(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Gi)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{y=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mc(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(o,{is:a.is}):(e=y.createElement(o),o==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,o),e[Gt]=t,e[Ds]=a,Td(e,t,!1,!1),t.stateNode=e;e:{switch(y=Cl(o,a),o){case"dialog":Te("cancel",e),Te("close",e),c=a;break;case"iframe":case"object":case"embed":Te("load",e),c=a;break;case"video":case"audio":for(c=0;c<Is.length;c++)Te(Is[c],e);c=a;break;case"source":Te("error",e),c=a;break;case"img":case"image":case"link":Te("error",e),Te("load",e),c=a;break;case"details":Te("toggle",e),c=a;break;case"input":uc(e,a),c=vl(e,a),Te("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=F({},a,{value:void 0}),Te("invalid",e);break;case"textarea":dc(e,a),c=kl(e,a),Te("invalid",e);break;default:c=a}bl(o,c),k=c;for(d in k)if(k.hasOwnProperty(d)){var N=k[d];d==="style"?vc(e,N):d==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&gc(e,N)):d==="children"?typeof N=="string"?(o!=="textarea"||N!=="")&&gs(e,N):typeof N=="number"&&gs(e,""+N):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?N!=null&&d==="onScroll"&&Te("scroll",e):N!=null&&J(e,d,N,y))}switch(o){case"input":Ni(e),fc(e,a,!1);break;case"textarea":Ni(e),pc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+be(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?vr(e,!!a.multiple,d,!1):a.defaultValue!=null&&vr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Gi)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Od(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(o=er(Vs.current),er(Yt.current),no(t)){if(a=t.stateNode,o=t.memoizedProps,a[Gt]=t,(d=a.nodeValue!==o)&&(e=xt,e!==null))switch(e.tag){case 3:Qi(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(a.nodeValue,o,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Gt]=t,t.stateNode=a}return et(t),null;case 13:if(_e(Pe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mf(),Mr(),t.flags|=98560,d=!1;else if(d=no(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Gt]=t}else Mr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),d=!1}else Rt!==null&&(eu(Rt),Rt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Pe.current&1)!==0?Ve===0&&(Ve=3):ru())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Fr(),Va(e,t),e===null&&Rs(t.stateNode.containerInfo),et(t),null;case 10:return ya(t.type._context),et(t),null;case 17:return dt(t.type)&&Ji(),et(t),null;case 19:if(_e(Pe),d=t.memoizedState,d===null)return et(t),null;if(a=(t.flags&128)!==0,y=d.rendering,y===null)if(a)Qs(d,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=ao(e),y!==null){for(t.flags|=128,Qs(d,!1),a=y.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=o,o=t.child;o!==null;)d=o,e=a,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return je(Pe,Pe.current&1|2),t.child}e=e.sibling}d.tail!==null&&Re()>Br&&(t.flags|=128,a=!0,Qs(d,!1),t.lanes=4194304)}else{if(!a)if(e=ao(y),e!==null){if(t.flags|=128,a=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),Qs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Le)return et(t),null}else 2*Re()-d.renderingStartTime>Br&&o!==1073741824&&(t.flags|=128,a=!0,Qs(d,!1),t.lanes=4194304);d.isBackwards?(y.sibling=t.child,t.child=y):(o=d.last,o!==null?o.sibling=y:t.child=y,d.last=y)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Re(),t.sibling=null,o=Pe.current,je(Pe,a?o&1|2:o&1),t):(et(t),null);case 22:case 23:return nu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(kt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Jg(e,t){switch(fa(t),t.tag){case 1:return dt(t.type)&&Ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),_e(ft),_e(Ze),Ca(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Sa(t),null;case 13:if(_e(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Pe),null;case 4:return Fr(),null;case 10:return ya(t.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var vo=!1,tt=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,ie=null;function zr(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ae(e,t,a)}else o.current=null}function Wa(e,t,o){try{o()}catch(a){Ae(e,t,a)}}var Ld=!1;function Xg(e,t){if(na=Fi,e=uf(),Ql(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var y=0,k=-1,N=-1,A=0,H=0,Y=e,W=null;t:for(;;){for(var ne;Y!==o||c!==0&&Y.nodeType!==3||(k=y+c),Y!==d||a!==0&&Y.nodeType!==3||(N=y+a),Y.nodeType===3&&(y+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)W=Y,Y=ne;for(;;){if(Y===e)break t;if(W===o&&++A===c&&(k=y),W===d&&++H===a&&(N=y),(ne=Y.nextSibling)!==null)break;Y=W,W=Y.parentNode}Y=ne}o=k===-1||N===-1?null:{start:k,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(ra={focusedElem:e,selectionRange:o},Fi=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var oe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var le=oe.memoizedProps,Fe=oe.memoizedState,O=t.stateNode,j=O.getSnapshotBeforeUpdate(t.elementType===t.type?le:Ft(t.type,le),Fe);O.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(X){Ae(t,t.return,X)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return oe=Ld,Ld=!1,oe}function Gs(e,t,o){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Wa(t,o,d)}c=c.next}while(c!==a)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==t)}}function Ka(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function Pd(e){var t=e.alternate;t!==null&&(e.alternate=null,Pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Ds],delete t[la],delete t[Ig],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function Ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Gi));else if(a!==4&&(e=e.child,e!==null))for(qa(e,t,o),e=e.sibling;e!==null;)qa(e,t,o),e=e.sibling}function Ha(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ha(e,t,o),e=e.sibling;e!==null;)Ha(e,t,o),e=e.sibling}var Qe=null,Dt=!1;function On(e,t,o){for(o=o.child;o!==null;)Id(e,t,o),o=o.sibling}function Id(e,t,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Li,o)}catch{}switch(o.tag){case 5:tt||zr(o,t);case 6:var a=Qe,c=Dt;Qe=null,On(e,t,o),Qe=a,Dt=c,Qe!==null&&(Dt?(e=Qe,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Qe.removeChild(o.stateNode));break;case 18:Qe!==null&&(Dt?(e=Qe,o=o.stateNode,e.nodeType===8?oa(e.parentNode,o):e.nodeType===1&&oa(e,o),Es(e)):oa(Qe,o.stateNode));break;case 4:a=Qe,c=Dt,Qe=o.stateNode.containerInfo,Dt=!0,On(e,t,o),Qe=a,Dt=c;break;case 0:case 11:case 14:case 15:if(!tt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,y=d.destroy;d=d.tag,y!==void 0&&((d&2)!==0||(d&4)!==0)&&Wa(o,t,y),c=c.next}while(c!==a)}On(e,t,o);break;case 1:if(!tt&&(zr(o,t),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(k){Ae(o,t,k)}On(e,t,o);break;case 21:On(e,t,o);break;case 22:o.mode&1?(tt=(a=tt)||o.memoizedState!==null,On(e,t,o),tt=a):On(e,t,o);break;default:On(e,t,o)}}function Rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Zg),t.forEach(function(a){var c=a0.bind(null,e,a);o.has(a)||(o.add(a),a.then(c,c))})}}function zt(e,t){var o=t.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=e,y=t,k=y;e:for(;k!==null;){switch(k.tag){case 5:Qe=k.stateNode,Dt=!1;break e;case 3:Qe=k.stateNode.containerInfo,Dt=!0;break e;case 4:Qe=k.stateNode.containerInfo,Dt=!0;break e}k=k.return}if(Qe===null)throw Error(s(160));Id(d,y,c),Qe=null,Dt=!1;var N=c.alternate;N!==null&&(N.return=null),c.return=null}catch(A){Ae(c,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fd(t,e),t=t.sibling}function Fd(e,t){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Zt(e),a&4){try{Gs(3,e,e.return),xo(3,e)}catch(le){Ae(e,e.return,le)}try{Gs(5,e,e.return)}catch(le){Ae(e,e.return,le)}}break;case 1:zt(t,e),Zt(e),a&512&&o!==null&&zr(o,o.return);break;case 5:if(zt(t,e),Zt(e),a&512&&o!==null&&zr(o,o.return),e.flags&32){var c=e.stateNode;try{gs(c,"")}catch(le){Ae(e,e.return,le)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,y=o!==null?o.memoizedProps:d,k=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{k==="input"&&d.type==="radio"&&d.name!=null&&cc(c,d),Cl(k,y);var A=Cl(k,d);for(y=0;y<N.length;y+=2){var H=N[y],Y=N[y+1];H==="style"?vc(c,Y):H==="dangerouslySetInnerHTML"?gc(c,Y):H==="children"?gs(c,Y):J(c,H,Y,A)}switch(k){case"input":xl(c,d);break;case"textarea":hc(c,d);break;case"select":var W=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var ne=d.value;ne!=null?vr(c,!!d.multiple,ne,!1):W!==!!d.multiple&&(d.defaultValue!=null?vr(c,!!d.multiple,d.defaultValue,!0):vr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Ds]=d}catch(le){Ae(e,e.return,le)}}break;case 6:if(zt(t,e),Zt(e),a&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(le){Ae(e,e.return,le)}}break;case 3:if(zt(t,e),Zt(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(le){Ae(e,e.return,le)}break;case 4:zt(t,e),Zt(e);break;case 13:zt(t,e),Zt(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ya=Re())),a&4&&Rd(e);break;case 22:if(H=o!==null&&o.memoizedState!==null,e.mode&1?(tt=(A=tt)||H,zt(t,e),tt=A):zt(t,e),Zt(e),a&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!H&&(e.mode&1)!==0)for(ie=e,H=e.child;H!==null;){for(Y=ie=H;ie!==null;){switch(W=ie,ne=W.child,W.tag){case 0:case 11:case 14:case 15:Gs(4,W,W.return);break;case 1:zr(W,W.return);var oe=W.stateNode;if(typeof oe.componentWillUnmount=="function"){a=W,o=W.return;try{t=a,oe.props=t.memoizedProps,oe.state=t.memoizedState,oe.componentWillUnmount()}catch(le){Ae(a,o,le)}}break;case 5:zr(W,W.return);break;case 22:if(W.memoizedState!==null){$d(Y);continue}}ne!==null?(ne.return=W,ie=ne):$d(Y)}H=H.sibling}e:for(H=null,Y=e;;){if(Y.tag===5){if(H===null){H=Y;try{c=Y.stateNode,A?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(k=Y.stateNode,N=Y.memoizedProps.style,y=N!=null&&N.hasOwnProperty("display")?N.display:null,k.style.display=yc("display",y))}catch(le){Ae(e,e.return,le)}}}else if(Y.tag===6){if(H===null)try{Y.stateNode.nodeValue=A?"":Y.memoizedProps}catch(le){Ae(e,e.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;H===Y&&(H=null),Y=Y.return}H===Y&&(H=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:zt(t,e),Zt(e),a&4&&Rd(e);break;case 21:break;default:zt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(Md(o)){var a=o;break e}o=o.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(gs(c,""),a.flags&=-33);var d=Ad(e);Ha(e,d,c);break;case 3:case 4:var y=a.stateNode.containerInfo,k=Ad(e);qa(e,k,y);break;default:throw Error(s(161))}}catch(N){Ae(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e0(e,t,o){ie=e,Dd(e)}function Dd(e,t,o){for(var a=(e.mode&1)!==0;ie!==null;){var c=ie,d=c.child;if(c.tag===22&&a){var y=c.memoizedState!==null||vo;if(!y){var k=c.alternate,N=k!==null&&k.memoizedState!==null||tt;k=vo;var A=tt;if(vo=y,(tt=N)&&!A)for(ie=c;ie!==null;)y=ie,N=y.child,y.tag===22&&y.memoizedState!==null?Bd(c):N!==null?(N.return=y,ie=N):Bd(c);for(;d!==null;)ie=d,Dd(d),d=d.sibling;ie=c,vo=k,tt=A}zd(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,ie=d):zd(e)}}function zd(e){for(;ie!==null;){var t=ie;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||xo(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!tt)if(o===null)a.componentDidMount();else{var c=t.elementType===t.type?o.memoizedProps:Ft(t.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&$f(t,d,a);break;case 3:var y=t.updateQueue;if(y!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}$f(t,y,o)}break;case 5:var k=t.stateNode;if(o===null&&t.flags&4){o=k;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&o.focus();break;case"img":N.src&&(o.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var H=A.memoizedState;if(H!==null){var Y=H.dehydrated;Y!==null&&Es(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}tt||t.flags&512&&Ka(t)}catch(W){Ae(t,t.return,W)}}if(t===e){ie=null;break}if(o=t.sibling,o!==null){o.return=t.return,ie=o;break}ie=t.return}}function $d(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ie=o;break}ie=t.return}}function Bd(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{xo(4,t)}catch(N){Ae(t,o,N)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(N){Ae(t,c,N)}}var d=t.return;try{Ka(t)}catch(N){Ae(t,d,N)}break;case 5:var y=t.return;try{Ka(t)}catch(N){Ae(t,y,N)}}}catch(N){Ae(t,t.return,N)}if(t===e){ie=null;break}var k=t.sibling;if(k!==null){k.return=t.return,ie=k;break}ie=t.return}}var t0=Math.ceil,wo=U.ReactCurrentDispatcher,Qa=U.ReactCurrentOwner,Et=U.ReactCurrentBatchConfig,ke=0,Ke=null,Be=null,Ge=0,kt=0,$r=Nn(0),Ve=0,Ys=null,nr=0,ko=0,Ga=0,Js=null,pt=null,Ya=0,Br=1/0,fn=null,So=!1,Ja=null,Ln=null,bo=!1,Pn=null,Co=0,Zs=0,Za=null,No=-1,jo=0;function ot(){return(ke&6)!==0?Re():No!==-1?No:No=Re()}function Mn(e){return(e.mode&1)===0?1:(ke&2)!==0&&Ge!==0?Ge&-Ge:Dg.transition!==null?(jo===0&&(jo=Mc()),jo):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Uc(e.type)),e)}function $t(e,t,o,a){if(50<Zs)throw Zs=0,Za=null,Error(s(185));Ss(e,o,a),((ke&2)===0||e!==Ke)&&(e===Ke&&((ke&2)===0&&(ko|=o),Ve===4&&An(e,Ge)),mt(e,a),o===1&&ke===0&&(t.mode&1)===0&&(Br=Re()+500,Xi&&En()))}function mt(e,t){var o=e.callbackNode;Dm(e,t);var a=Ai(e,e===Ke?Ge:0);if(a===0)o!==null&&Oc(o),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(o!=null&&Oc(o),t===1)e.tag===0?Fg(Vd.bind(null,e)):Tf(Vd.bind(null,e)),Mg(function(){(ke&6)===0&&En()}),o=null;else{switch(Ac(a)){case 1:o=Ll;break;case 4:o=Lc;break;case 16:o=Oi;break;case 536870912:o=Pc;break;default:o=Oi}o=Jd(o,Ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function Ud(e,t){if(No=-1,jo=0,(ke&6)!==0)throw Error(s(327));var o=e.callbackNode;if(Ur()&&e.callbackNode!==o)return null;var a=Ai(e,e===Ke?Ge:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Eo(e,a);else{t=a;var c=ke;ke|=2;var d=Kd();(Ke!==e||Ge!==t)&&(fn=null,Br=Re()+500,sr(e,t));do try{s0();break}catch(k){Wd(e,k)}while(!0);ga(),wo.current=d,ke=c,Be!==null?t=0:(Ke=null,Ge=0,t=Ve)}if(t!==0){if(t===2&&(c=Pl(e),c!==0&&(a=c,t=Xa(e,c))),t===1)throw o=Ys,sr(e,0),An(e,a),mt(e,Re()),o;if(t===6)An(e,a);else{if(c=e.current.alternate,(a&30)===0&&!n0(c)&&(t=Eo(e,a),t===2&&(d=Pl(e),d!==0&&(a=d,t=Xa(e,d))),t===1))throw o=Ys,sr(e,0),An(e,a),mt(e,Re()),o;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:ir(e,pt,fn);break;case 3:if(An(e,a),(a&130023424)===a&&(t=Ya+500-Re(),10<t)){if(Ai(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){ot(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ia(ir.bind(null,e,pt,fn),t);break}ir(e,pt,fn);break;case 4:if(An(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var y=31-At(a);d=1<<y,y=t[y],y>c&&(c=y),a&=~d}if(a=c,a=Re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*t0(a/1960))-a,10<a){e.timeoutHandle=ia(ir.bind(null,e,pt,fn),a);break}ir(e,pt,fn);break;case 5:ir(e,pt,fn);break;default:throw Error(s(329))}}}return mt(e,Re()),e.callbackNode===o?Ud.bind(null,e):null}function Xa(e,t){var o=Js;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=Eo(e,t),e!==2&&(t=pt,pt=o,t!==null&&eu(t)),e}function eu(e){pt===null?pt=e:pt.push.apply(pt,e)}function n0(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!It(d(),c))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~Ga,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-At(t),a=1<<o;e[o]=-1,t&=~a}}function Vd(e){if((ke&6)!==0)throw Error(s(327));Ur();var t=Ai(e,0);if((t&1)===0)return mt(e,Re()),null;var o=Eo(e,t);if(e.tag!==0&&o===2){var a=Pl(e);a!==0&&(t=a,o=Xa(e,a))}if(o===1)throw o=Ys,sr(e,0),An(e,t),mt(e,Re()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,pt,fn),mt(e,Re()),null}function tu(e,t){var o=ke;ke|=1;try{return e(t)}finally{ke=o,ke===0&&(Br=Re()+500,Xi&&En())}}function rr(e){Pn!==null&&Pn.tag===0&&(ke&6)===0&&Ur();var t=ke;ke|=1;var o=Et.transition,a=Ce;try{if(Et.transition=null,Ce=1,e)return e()}finally{Ce=a,Et.transition=o,ke=t,(ke&6)===0&&En()}}function nu(){kt=$r.current,_e($r)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Pg(o)),Be!==null)for(o=Be.return;o!==null;){var a=o;switch(fa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ji();break;case 3:Fr(),_e(ft),_e(Ze),Ca();break;case 5:Sa(a);break;case 4:Fr();break;case 13:_e(Pe);break;case 19:_e(Pe);break;case 10:ya(a.type._context);break;case 22:case 23:nu()}o=o.return}if(Ke=e,Be=e=In(e.current,null),Ge=kt=t,Ve=0,Ys=null,Ga=ko=nr=0,pt=Js=null,Xn!==null){for(t=0;t<Xn.length;t++)if(o=Xn[t],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var y=d.next;d.next=c,a.next=y}o.pending=a}Xn=null}return e}function Wd(e,t){do{var o=Be;try{if(ga(),uo.current=po,co){for(var a=Me.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}co=!1}if(tr=0,We=Ue=Me=null,Ws=!1,Ks=0,Qa.current=null,o===null||o.return===null){Ve=1,Ys=t,Be=null;break}e:{var d=e,y=o.return,k=o,N=t;if(t=Ge,k.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var A=N,H=k,Y=H.tag;if((H.mode&1)===0&&(Y===0||Y===11||Y===15)){var W=H.alternate;W?(H.updateQueue=W.updateQueue,H.memoizedState=W.memoizedState,H.lanes=W.lanes):(H.updateQueue=null,H.memoizedState=null)}var ne=md(y);if(ne!==null){ne.flags&=-257,gd(ne,y,k,d,t),ne.mode&1&&pd(d,A,t),t=ne,N=A;var oe=t.updateQueue;if(oe===null){var le=new Set;le.add(N),t.updateQueue=le}else oe.add(N);break e}else{if((t&1)===0){pd(d,A,t),ru();break e}N=Error(s(426))}}else if(Le&&k.mode&1){var Fe=md(y);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),gd(Fe,y,k,d,t),pa(Dr(N,k));break e}}d=N=Dr(N,k),Ve!==4&&(Ve=2),Js===null?Js=[d]:Js.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var O=dd(d,N,t);zf(d,O);break e;case 1:k=N;var j=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Ln===null||!Ln.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var X=hd(d,k,t);zf(d,X);break e}}d=d.return}while(d!==null)}Hd(o)}catch(ce){t=ce,Be===o&&o!==null&&(Be=o=o.return);continue}break}while(!0)}function Kd(){var e=wo.current;return wo.current=po,e===null?po:e}function ru(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ke===null||(nr&268435455)===0&&(ko&268435455)===0||An(Ke,Ge)}function Eo(e,t){var o=ke;ke|=2;var a=Kd();(Ke!==e||Ge!==t)&&(fn=null,sr(e,t));do try{r0();break}catch(c){Wd(e,c)}while(!0);if(ga(),ke=o,wo.current=a,Be!==null)throw Error(s(261));return Ke=null,Ge=0,Ve}function r0(){for(;Be!==null;)qd(Be)}function s0(){for(;Be!==null&&!_m();)qd(Be)}function qd(e){var t=Yd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Hd(e):Be=t,Qa.current=null}function Hd(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=Yg(o,t,kt),o!==null){Be=o;return}}else{if(o=Jg(o,t),o!==null){o.flags&=32767,Be=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function ir(e,t,o){var a=Ce,c=Et.transition;try{Et.transition=null,Ce=1,i0(e,t,o,a)}finally{Et.transition=c,Ce=a}return null}function i0(e,t,o,a){do Ur();while(Pn!==null);if((ke&6)!==0)throw Error(s(327));o=e.finishedWork;var c=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=o.lanes|o.childLanes;if(zm(e,d),e===Ke&&(Be=Ke=null,Ge=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||bo||(bo=!0,Jd(Oi,function(){return Ur(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=Et.transition,Et.transition=null;var y=Ce;Ce=1;var k=ke;ke|=4,Qa.current=null,Xg(e,o),Fd(o,e),Ng(ra),Fi=!!na,ra=na=null,e.current=o,e0(o),Om(),ke=k,Ce=y,Et.transition=d}else e.current=o;if(bo&&(bo=!1,Pn=e,Co=c),d=e.pendingLanes,d===0&&(Ln=null),Mm(o.stateNode),mt(e,Re()),t!==null)for(a=e.onRecoverableError,o=0;o<t.length;o++)c=t[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(So)throw So=!1,e=Ja,Ja=null,e;return(Co&1)!==0&&e.tag!==0&&Ur(),d=e.pendingLanes,(d&1)!==0?e===Za?Zs++:(Zs=0,Za=e):Zs=0,En(),null}function Ur(){if(Pn!==null){var e=Ac(Co),t=Et.transition,o=Ce;try{if(Et.transition=null,Ce=16>e?16:e,Pn===null)var a=!1;else{if(e=Pn,Pn=null,Co=0,(ke&6)!==0)throw Error(s(331));var c=ke;for(ke|=4,ie=e.current;ie!==null;){var d=ie,y=d.child;if((ie.flags&16)!==0){var k=d.deletions;if(k!==null){for(var N=0;N<k.length;N++){var A=k[N];for(ie=A;ie!==null;){var H=ie;switch(H.tag){case 0:case 11:case 15:Gs(8,H,d)}var Y=H.child;if(Y!==null)Y.return=H,ie=Y;else for(;ie!==null;){H=ie;var W=H.sibling,ne=H.return;if(Pd(H),H===A){ie=null;break}if(W!==null){W.return=ne,ie=W;break}ie=ne}}}var oe=d.alternate;if(oe!==null){var le=oe.child;if(le!==null){oe.child=null;do{var Fe=le.sibling;le.sibling=null,le=Fe}while(le!==null)}}ie=d}}if((d.subtreeFlags&2064)!==0&&y!==null)y.return=d,ie=y;else e:for(;ie!==null;){if(d=ie,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Gs(9,d,d.return)}var O=d.sibling;if(O!==null){O.return=d.return,ie=O;break e}ie=d.return}}var j=e.current;for(ie=j;ie!==null;){y=ie;var P=y.child;if((y.subtreeFlags&2064)!==0&&P!==null)P.return=y,ie=P;else e:for(y=j;ie!==null;){if(k=ie,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:xo(9,k)}}catch(ce){Ae(k,k.return,ce)}if(k===y){ie=null;break e}var X=k.sibling;if(X!==null){X.return=k.return,ie=X;break e}ie=k.return}}if(ke=c,En(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Li,e)}catch{}a=!0}return a}finally{Ce=o,Et.transition=t}}return!1}function Qd(e,t,o){t=Dr(o,t),t=dd(e,t,1),e=_n(e,t,1),t=ot(),e!==null&&(Ss(e,1,t),mt(e,t))}function Ae(e,t,o){if(e.tag===3)Qd(e,e,o);else for(;t!==null;){if(t.tag===3){Qd(t,e,o);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ln===null||!Ln.has(a))){e=Dr(o,e),e=hd(t,e,1),t=_n(t,e,1),e=ot(),t!==null&&(Ss(t,1,e),mt(t,e));break}}t=t.return}}function o0(e,t,o){var a=e.pingCache;a!==null&&a.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&o,Ke===e&&(Ge&o)===o&&(Ve===4||Ve===3&&(Ge&130023424)===Ge&&500>Re()-Ya?sr(e,0):Ga|=o),mt(e,t)}function Gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var o=ot();e=an(e,t),e!==null&&(Ss(e,t,o),mt(e,o))}function l0(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Gd(e,o)}function a0(e,t){var o=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Gd(e,o)}var Yd;Yd=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return ht=!1,Gg(e,t,o);ht=(e.flags&131072)!==0}else ht=!1,Le&&(t.flags&1048576)!==0&&_f(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;yo(e,t),e=t.pendingProps;var c=Or(t,Ze.current);Rr(t,o),c=Ea(null,t,a,e,c,o);var d=Ta();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(a)?(d=!0,Zi(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,wa(t),c.updater=mo,t.stateNode=c,c._reactInternals=t,Aa(t,a,e,o),t=Da(null,t,a,!0,d,o)):(t.tag=0,Le&&d&&ca(t),it(null,t,c,o),t=t.child),t;case 16:a=t.elementType;e:{switch(yo(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=c0(a),e=Ft(a,e),c){case 0:t=Fa(null,t,a,e,o);break e;case 1:t=Sd(null,t,a,e,o);break e;case 11:t=yd(null,t,a,e,o);break e;case 14:t=vd(null,t,a,Ft(a.type,e),o);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ft(a,c),Fa(e,t,a,c,o);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ft(a,c),Sd(e,t,a,c,o);case 3:e:{if(bd(t),e===null)throw Error(s(387));a=t.pendingProps,d=t.memoizedState,c=d.element,Df(e,t),lo(t,a,null,o);var y=t.memoizedState;if(a=y.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=Dr(Error(s(423)),t),t=Cd(e,t,a,o,c);break e}else if(a!==c){c=Dr(Error(s(424)),t),t=Cd(e,t,a,o,c);break e}else for(wt=Cn(t.stateNode.containerInfo.firstChild),xt=t,Le=!0,Rt=null,o=Rf(t,null,a,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Mr(),a===c){t=cn(e,t,o);break e}it(e,t,a,o)}t=t.child}return t;case 5:return Bf(t),e===null&&ha(t),a=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,y=c.children,sa(a,c)?y=null:d!==null&&sa(a,d)&&(t.flags|=32),kd(e,t),it(e,t,y,o),t.child;case 6:return e===null&&ha(t),null;case 13:return Nd(e,t,o);case 4:return ka(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ar(t,null,a,o):it(e,t,a,o),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ft(a,c),yd(e,t,a,c,o);case 7:return it(e,t,t.pendingProps,o),t.child;case 8:return it(e,t,t.pendingProps.children,o),t.child;case 12:return it(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,d=t.memoizedProps,y=c.value,je(so,a._currentValue),a._currentValue=y,d!==null)if(It(d.value,y)){if(d.children===c.children&&!ft.current){t=cn(e,t,o);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var k=d.dependencies;if(k!==null){y=d.child;for(var N=k.firstContext;N!==null;){if(N.context===a){if(d.tag===1){N=un(-1,o&-o),N.tag=2;var A=d.updateQueue;if(A!==null){A=A.shared;var H=A.pending;H===null?N.next=N:(N.next=H.next,H.next=N),A.pending=N}}d.lanes|=o,N=d.alternate,N!==null&&(N.lanes|=o),va(d.return,o,t),k.lanes|=o;break}N=N.next}}else if(d.tag===10)y=d.type===t.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(s(341));y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),va(y,o,t),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===t){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}it(e,t,c.children,o),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,Rr(t,o),c=Nt(c),a=a(c),t.flags|=1,it(e,t,a,o),t.child;case 14:return a=t.type,c=Ft(a,t.pendingProps),c=Ft(a.type,c),vd(e,t,a,c,o);case 15:return xd(e,t,t.type,t.pendingProps,o);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Ft(a,c),yo(e,t),t.tag=1,dt(a)?(e=!0,Zi(t)):e=!1,Rr(t,o),cd(t,a,c),Aa(t,a,c,o),Da(null,t,a,!0,e,o);case 19:return Ed(e,t,o);case 22:return wd(e,t,o)}throw Error(s(156,t.tag))};function Jd(e,t){return _c(e,t)}function u0(e,t,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,o,a){return new u0(e,t,o,a)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c0(e){if(typeof e=="function")return su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===L)return 11;if(e===_)return 14}return 2}function In(e,t){var o=e.alternate;return o===null?(o=Tt(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function To(e,t,o,a,c,d){var y=2;if(a=e,typeof e=="function")su(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case se:return or(o.children,c,d,t);case ee:y=8,c|=8;break;case fe:return e=Tt(12,o,t,c|2),e.elementType=fe,e.lanes=d,e;case Z:return e=Tt(13,o,t,c),e.elementType=Z,e.lanes=d,e;case te:return e=Tt(19,o,t,c),e.elementType=te,e.lanes=d,e;case $:return _o(o,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:y=10;break e;case Q:y=9;break e;case L:y=11;break e;case _:y=14;break e;case R:y=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Tt(y,o,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function or(e,t,o,a){return e=Tt(7,e,a,t),e.lanes=o,e}function _o(e,t,o,a){return e=Tt(22,e,a,t),e.elementType=$,e.lanes=o,e.stateNode={isHidden:!1},e}function iu(e,t,o){return e=Tt(6,e,null,t),e.lanes=o,e}function ou(e,t,o){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f0(e,t,o,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function lu(e,t,o,a,c,d,y,k,N){return e=new f0(e,t,o,k,N),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Tt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},wa(d),e}function d0(e,t,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:a==null?null:""+a,children:e,containerInfo:t,implementation:o}}function Zd(e){if(!e)return jn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(dt(o))return jf(e,o,t)}return t}function Xd(e,t,o,a,c,d,y,k,N){return e=lu(o,a,!0,e,c,d,y,k,N),e.context=Zd(null),o=e.current,a=ot(),c=Mn(o),d=un(a,c),d.callback=t??null,_n(o,d,c),e.current.lanes=c,Ss(e,c,a),mt(e,a),e}function Oo(e,t,o,a){var c=t.current,d=ot(),y=Mn(c);return o=Zd(o),t.context===null?t.context=o:t.pendingContext=o,t=un(d,y),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=_n(c,t,y),e!==null&&($t(e,c,y,d),oo(e,c,y)),y}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function au(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function h0(){return null}var th=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}Po.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Oo(e,t,null,null)},Po.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){Oo(null,e,null,null)}),t[rn]=null}};function Po(e){this._internalRoot=e}Po.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fc();e={blockedOn:null,target:e,priority:t};for(var o=0;o<kn.length&&t!==0&&t<kn[o].priority;o++);kn.splice(o,0,e),o===0&&$c(e)}};function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nh(){}function p0(e,t,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var A=Lo(y);d.call(A)}}var y=Xd(t,a,e,0,null,!1,!1,"",nh);return e._reactRootContainer=y,e[rn]=y.current,Rs(e.nodeType===8?e.parentNode:e),rr(),y}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var k=a;a=function(){var A=Lo(N);k.call(A)}}var N=lu(e,0,!1,null,null,!1,!1,"",nh);return e._reactRootContainer=N,e[rn]=N.current,Rs(e.nodeType===8?e.parentNode:e),rr(function(){Oo(t,N,o,a)}),N}function Ao(e,t,o,a,c){var d=o._reactRootContainer;if(d){var y=d;if(typeof c=="function"){var k=c;c=function(){var N=Lo(y);k.call(N)}}Oo(t,y,e,c)}else y=p0(o,t,e,c,a);return Lo(y)}Ic=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=ks(t.pendingLanes);o!==0&&(Al(t,o|1),mt(t,Re()),(ke&6)===0&&(Br=Re()+500,En()))}break;case 13:rr(function(){var a=an(e,1);if(a!==null){var c=ot();$t(a,e,1,c)}}),au(e,1)}},Il=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var o=ot();$t(t,e,134217728,o)}au(e,134217728)}},Rc=function(e){if(e.tag===13){var t=Mn(e),o=an(e,t);if(o!==null){var a=ot();$t(o,e,t,a)}au(e,t)}},Fc=function(){return Ce},Dc=function(e,t){var o=Ce;try{return Ce=e,t()}finally{Ce=o}},El=function(e,t,o){switch(t){case"input":if(xl(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var a=o[t];if(a!==e&&a.form===e.form){var c=Yi(a);if(!c)throw Error(s(90));ac(a),xl(a,c)}}}break;case"textarea":hc(e,o);break;case"select":t=o.value,t!=null&&vr(e,!!o.multiple,t,!1)}},Sc=tu,bc=rr;var m0={usingClientEntryPoint:!1,Events:[zs,Tr,Yi,wc,kc,tu]},Xs={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g0={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ec(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||h0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Li=Io.inject(g0),Qt=Io}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0,gt.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cu(t))throw Error(s(200));return d0(e,t,null,o)},gt.createRoot=function(e,t){if(!cu(e))throw Error(s(299));var o=!1,a="",c=th;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=lu(e,1,!1,null,null,o,!1,a,c),e[rn]=t.current,Rs(e.nodeType===8?e.parentNode:e),new uu(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ec(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return rr(e)},gt.hydrate=function(e,t,o){if(!Mo(t))throw Error(s(200));return Ao(null,e,t,!0,o)},gt.hydrateRoot=function(e,t,o){if(!cu(e))throw Error(s(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",y=th;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),t=Xd(t,null,e,1,o??null,c,!1,d,y),e[rn]=t.current,Rs(e),a)for(e=0;e<a.length;e++)o=a[e],c=o._getVersion,c=c(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,c]:t.mutableSourceEagerHydrationData.push(o,c);return new Po(t)},gt.render=function(e,t,o){if(!Mo(t))throw Error(s(200));return Ao(null,e,t,!1,o)},gt.unmountComponentAtNode=function(e){if(!Mo(e))throw Error(s(40));return e._reactRootContainer?(rr(function(){Ao(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1},gt.unstable_batchedUpdates=tu,gt.unstable_renderSubtreeIntoContainer=function(e,t,o,a){if(!Mo(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ao(e,t,o,!1,a)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var xh;function vp(){if(xh)return pu.exports;xh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),pu.exports=Z0(),pu.exports}var wh;function X0(){if(wh)return Do;wh=1;var r=vp();return Do.createRoot=r.createRoot,Do.hydrateRoot=r.hydrateRoot,Do}var ey=X0();const ty=fp(ey);function ny({filePath:r,onReload:n,onKeepMine:s}){const i=r.split("/").pop()??r;return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-96",children:[p.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:p.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"File Changed on Disk"})}),p.jsx("div",{className:"px-4 py-4",children:p.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["The file ",p.jsx("span",{className:"font-mono font-medium",children:i})," has been modified outside RuleZ UI. You have unsaved changes."]})}),p.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-end gap-2",children:[p.jsx("button",{type:"button",onClick:s,className:"px-3 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Keep Mine"}),p.jsx("button",{type:"button",onClick:n,className:"px-3 py-1.5 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Reload"})]})]})})}const ry="modulepreload",sy=function(r){return"/"+r},kh={},st=function(n,s,i){let l=Promise.resolve();if(s&&s.length>0){let f=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=f(s.map(g=>{if(g=sy(g),g in kh)return;kh[g]=!0;const x=g.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":ry,x||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),x)return new Promise((C,E)=>{v.addEventListener("load",C),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},sl=new Map,iy=`# Global RuleZ Configuration
version: "1.0"

settings:
  log_level: "info"
  fail_open: true

rules:
  - name: block-force-push
    description: "Block force push to main/master branches"
    matchers:
      tools: ["Bash"]
      command_match: "git push.*(--force|-f).*(main|master)"
    actions:
      block: true

  - name: inject-python-context
    description: "Inject Python best practices context"
    matchers:
      tools: ["Write", "Edit"]
      extensions: [".py"]
    actions:
      inject: "Follow PEP 8 style guidelines"

  - name: block-rm-rf
    description: "Block dangerous rm -rf commands"
    matchers:
      tools: ["Bash"]
      command_match: "rm\\\\s+-rf\\\\s+/"
    actions:
      block: true
`,oy=`# Project-specific RuleZ Configuration
version: "1.0"

settings:
  log_level: "debug"

rules:
  - name: project-security-check
    description: "Run security scanner on commits"
    matchers:
      tools: ["Bash"]
      command_match: "git commit"
    actions:
      run: "./scripts/security-check.sh"
`;sl.set("~/.claude/hooks.yaml",iy);sl.set(".claude/hooks.yaml",oy);function ly(r){const n=[{path:"~/.claude/hooks.yaml",exists:!0,modified:!1,hasErrors:!1}];return typeof window<"u"&&n.push({path:".claude/hooks.yaml",exists:!0,modified:!1,hasErrors:!1}),n}function xp(r){const n=sl.get(r);return n||`# New RuleZ Configuration
version: "1.0"

settings:
  log_level: "info"

rules: []
`}function ay(r,n){sl.set(r,n)}function Je(){return typeof window<"u"&&"__TAURI__"in window}async function uy(r){if(Je()){const{invoke:n}=await st(async()=>{const{invoke:s}=await import("./core-DxBnVPgq.js");return{invoke:s}},[]);return n("list_config_files",{projectDir:r})}return gy()}async function ai(r){if(Je()){const{invoke:n}=await st(async()=>{const{invoke:s}=await import("./core-DxBnVPgq.js");return{invoke:s}},[]);return n("read_config",{path:r})}return yy(r)}async function il(r,n){if(Je()){const{invoke:s}=await st(async()=>{const{invoke:i}=await import("./core-DxBnVPgq.js");return{invoke:i}},[]);return s("write_config",{path:r,content:n})}return vy(r,n)}async function wp(r){if(Je()){const{invoke:n}=await st(async()=>{const{invoke:s}=await import("./core-DxBnVPgq.js");return{invoke:s}},[]);return n("run_debug",r)}return xy(r)}async function cy(r){if(Je()){const{invoke:n}=await st(async()=>{const{invoke:s}=await import("./core-DxBnVPgq.js");return{invoke:s}},[]);return n("validate_config",{path:r})}return wy()}async function fy(){if(Je()){const{invoke:r}=await st(async()=>{const{invoke:n}=await import("./core-DxBnVPgq.js");return{invoke:n}},[]);return r("check_binary")}return ky()}async function dy(){const r="~/.claude/hooks.yaml";return await il(r,jy),r}async function hy(r){if(Je()){const{invoke:n}=await st(async()=>{const{invoke:s}=await import("./core-DxBnVPgq.js");return{invoke:s}},[]);return n("read_logs",{params:r})}return Ny()}async function py(){if(Je()){const{open:r}=await st(async()=>{const{open:u}=await import("./index-DkQ563B5.js");return{open:u}},__vite__mapDeps([0,1])),{readTextFile:n}=await st(async()=>{const{readTextFile:u}=await import("./index-Bmmla83_.js");return{readTextFile:u}},__vite__mapDeps([2,1])),s=await r({filters:[{name:"YAML",extensions:["yaml","yml"]}],multiple:!1});if(!s)return null;const i=s,l=await n(i);return{path:i,content:l}}return Sy()}async function my(r,n){if(Je()){const{save:s}=await st(async()=>{const{save:u}=await import("./index-DkQ563B5.js");return{save:u}},__vite__mapDeps([0,1])),{writeTextFile:i}=await st(async()=>{const{writeTextFile:u}=await import("./index-Bmmla83_.js");return{writeTextFile:u}},__vite__mapDeps([2,1])),l=await s({filters:[{name:"YAML",extensions:["yaml","yml"]}],defaultPath:n??"hooks.yaml"});return l?(await i(l,r),!0):!1}return by(r,n)}async function gy(r){return await Hn(50),ly()}async function yy(r){return await Hn(30),xp(r)}async function vy(r,n){await Hn(30),ay(r,n)}async function xy(r){if(await Hn(100),typeof window<"u"&&window.__rulezMockDebugResponse)return window.__rulezMockDebugResponse;const n=[{ruleName:"block-force-push",matched:r.command?.includes("--force")||r.command?.includes("-f")||!1,timeMs:.8,details:"command_match evaluated",pattern:"git push.*(--force|-f).*(main|master)",input:r.command},{ruleName:"inject-python-context",matched:!1,timeMs:.1,details:"tool mismatch"}],s=n.filter(l=>l.matched),i=s.some(l=>l.ruleName==="block-force-push");return{outcome:i?"Block":"Allow",reason:i?"Force push to main/master is prohibited":void 0,matchedRules:s.map(l=>l.ruleName),evaluationTimeMs:n.reduce((l,u)=>l+u.timeMs,0),evaluations:n}}async function wy(r){return await Hn(50),{valid:!0,errors:[]}}async function ky(){return await Hn(50),{found:!0,path:"/usr/local/bin/rulez"}}async function Sy(){return await Hn(100),{path:"imported-hooks.yaml",content:xp("~/.claude/hooks.yaml")}}async function by(r,n){const s=new Blob([r],{type:"text/yaml"}),i=URL.createObjectURL(s),l=document.createElement("a");return l.href=i,l.download=n??"hooks.yaml",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),!0}function Hn(r){return new Promise(n=>setTimeout(n,r))}function Cy(r){const n=["PreToolUse","PostToolUse","SessionStart","UserPromptSubmit"],s=["Bash","Write","Edit","Read","Glob","Grep"],i=["allow","block","inject"],l=["allowed","blocked","warned","audited"],u=["enforce","warn","audit"],f=["block-force-push","inject-python-context","block-rm-rf","security-check"],h=[],m=Date.now();for(let g=0;g<r;g++){const x=g%10===0?1:g%7===0?2:0,w=i[x]??"allow",v=w==="block"?"blocked":w==="inject"?"allowed":l[g%l.length]??"allowed";h.push({timestamp:new Date(m-g*6e4).toISOString(),eventType:n[g%n.length]??"PreToolUse",sessionId:`session-${String(Math.floor(g/20)).padStart(4,"0")}`,toolName:n[g%n.length]==="SessionStart"?null:s[g%s.length]??"Bash",rulesMatched:w!=="allow"?[f[g%f.length]??"rule"]:[],outcome:w,processingMs:Math.floor(Math.random()*10),rulesEvaluated:3+g%5,decision:v,mode:u[g%u.length]??"enforce",priority:null,responseContinue:w!=="block",responseReason:w==="block"?"Policy violation detected":null,eventDetailCommand:n[g%n.length]==="PreToolUse"?"git status":null,eventDetailFilePath:n[g%n.length]==="PostToolUse"?`/src/lib/example-${g}.ts`:null})}return h}async function Ny(r){return await Hn(100),Cy(50)}const jy=`# RuleZ Configuration
# Location: ~/.claude/hooks.yaml
# Documentation: https://github.com/SpillwaveSolutions/code_agent_context_hooks

version: "1.0"

# Global settings
settings:
  debug_logs: false
  log_level: info
  fail_open: true
  script_timeout: 5

# Policy rules
rules:
  # Block force push to protected branches
  - name: block-force-push
    description: Prevent force push to main/master
    matchers:
      tools: [Bash]
      command_match: "git push.*(--force|-f).*(main|master)"
    actions:
      block: true
    metadata:
      priority: 100
      enabled: true

  # Block hard reset on protected branches
  - name: block-hard-reset
    description: Prevent destructive git reset operations
    matchers:
      tools: [Bash]
      command_match: "git reset --hard"
    actions:
      block: true
    metadata:
      priority: 90
      enabled: true
`;function Ey(r){const n=r.debounceMs??500;let s=[],i=new Map,l=[...r.paths];function u(m){const g=i.get(m);g&&clearTimeout(g),i.set(m,setTimeout(()=>{i.delete(m),r.onFileChanged(m)},n))}async function f(m){if(Je())try{const{watchImmediate:g}=await st(async()=>{const{watchImmediate:x}=await import("./index-Bmmla83_.js");return{watchImmediate:x}},__vite__mapDeps([2,1]));for(const x of m)try{const w=await g(x,v=>{const E=v.type;(E&&typeof E=="object"&&"modify"in E||E&&typeof E=="string"&&E==="modify")&&u(x)});s.push(w)}catch{}}catch{}}function h(){for(const m of s)m();s=[];for(const m of i.values())clearTimeout(m);i=new Map}return{start:async()=>{await f(l)},stop:()=>{h()},updatePaths:async m=>{h(),l=[...m],await f(l)}}}const Sh=r=>{let n;const s=new Set,i=(g,x)=>{const w=typeof g=="function"?g(n):g;if(!Object.is(w,n)){const v=n;n=x??(typeof w!="object"||w===null)?w:Object.assign({},n,w),s.forEach(C=>C(n,v))}},l=()=>n,h={setState:i,getState:l,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g))},m=n=r(i,l,h);return h},Ty=(r=>r?Sh(r):Sh),_y=r=>r;function Oy(r,n=_y){const s=Kt.useSyncExternalStore(r.subscribe,Kt.useCallback(()=>n(r.getState()),[r,n]),Kt.useCallback(()=>n(r.getInitialState()),[r,n]));return Kt.useDebugValue(s),s}const bh=r=>{const n=Ty(r),s=i=>Oy(n,i);return Object.assign(s,n),s},cs=(r=>r?bh(r):bh),Lt=cs((r,n)=>({globalConfig:null,projectConfig:null,activeFile:null,openFiles:new Map,setGlobalConfig:s=>r({globalConfig:s}),setProjectConfig:s=>r({projectConfig:s}),setActiveFile:s=>r({activeFile:s}),openFile:(s,i)=>r(l=>{const u=new Map(l.openFiles);return u.has(s)||u.set(s,{content:i,originalContent:i,modified:!1}),{openFiles:u,activeFile:s}}),closeFile:s=>r(i=>{const l=new Map(i.openFiles);l.delete(s);let u=i.activeFile;if(i.activeFile===s){const f=Array.from(l.keys());u=f.length>0?f[0]:null}return{openFiles:l,activeFile:u}}),updateContent:(s,i)=>r(l=>{const u=new Map(l.openFiles),f=u.get(s);return f&&u.set(s,{...f,content:i,modified:i!==f.originalContent}),{openFiles:u}}),markSaved:s=>r(i=>{const l=new Map(i.openFiles),u=l.get(s);return u&&l.set(s,{...u,originalContent:u.content,modified:!1}),{openFiles:l}}),reloadFile:(s,i)=>r(l=>{const u=new Map(l.openFiles);return u.has(s)&&u.set(s,{content:i,originalContent:i,modified:!1}),{openFiles:u}}),getActiveContent:()=>{const s=n();return s.activeFile?s.openFiles.get(s.activeFile)?.content??null:null},hasUnsavedChanges:()=>{const s=n();for(const i of s.openFiles.values())if(i.modified)return!0;return!1},getScopeInfo:()=>{const{globalConfig:s,projectConfig:i}=n(),l=i?.exists===!0,u=s?.exists===!0;return l?{activeScope:"project",globalStatus:u?"overridden":"missing",projectStatus:"active"}:u?{activeScope:"global",globalStatus:"active",projectStatus:"missing"}:{activeScope:"none",globalStatus:"missing",projectStatus:"missing"}}})),ol=cs(r=>({sidebarOpen:!0,rightPanelTab:"simulator",mainView:"editor",statusMessage:null,toggleSidebar:()=>r(n=>({sidebarOpen:!n.sidebarOpen})),setSidebarOpen:n=>r({sidebarOpen:n}),setRightPanelTab:n=>r({rightPanelTab:n}),setMainView:n=>r({mainView:n}),setStatusMessage:n=>r({statusMessage:n})})),Jr={theme:"system",editorFontSize:14,editorTabSize:2,rulezBinaryPath:null,onboardingComplete:!1},Ly="settings.json",Wu="settings",kp="rulez-ui-settings";let yu=null;function Sp(r){return{...Jr,...r??{}}}async function bp(){const{Store:r}=await st(async()=>{const{Store:n}=await import("./index-5gUknsVJ.js");return{Store:n}},__vite__mapDeps([3,1]));return yu||(yu=r.load(Ly,{autoSave:!0,defaults:{[Wu]:Jr}})),yu}function Py(){if(typeof window>"u")return Jr;const r=window.localStorage.getItem(kp);if(!r)return Jr;try{const n=JSON.parse(r);return Sp(n)}catch{return Jr}}function My(r){typeof window>"u"||window.localStorage.setItem(kp,JSON.stringify(r))}async function Cp(){if(Je()){const n=await(await bp()).get(Wu);return Sp(n??void 0)}return Py()}async function Vr(r){const s={...await Cp(),...r};if(Je()){const i=await bp();return await i.set(Wu,s),await i.save(),s}return My(s),s}const ut=cs(r=>({settings:Jr,isLoaded:!1,loadSettings:async()=>{const n=await Cp();r({settings:n,isLoaded:!0})},updateSettings:async n=>{const s=await Vr(n);r({settings:s,isLoaded:!0})},setTheme:async n=>{const s=await Vr({theme:n});r({settings:s,isLoaded:!0})},setEditorFontSize:async n=>{const s=await Vr({editorFontSize:n});r({settings:s,isLoaded:!0})},setEditorTabSize:async n=>{const s=await Vr({editorTabSize:n});r({settings:s,isLoaded:!0})},setRulezBinaryPath:async n=>{const s=await Vr({rulezBinaryPath:n});r({settings:s,isLoaded:!0})},setOnboardingComplete:async n=>{const s=await Vr({onboardingComplete:n});r({settings:s,isLoaded:!0})}}));function Ay(){const r=ut(u=>u.settings.theme),n=ut(u=>u.setTheme),s=()=>{n(r==="light"?"dark":r==="dark"?"system":"light")},i=()=>r==="light"?p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):r==="dark"?p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l=()=>r==="light"?"Light mode":r==="dark"?"Dark mode":"System preference";return p.jsx("button",{type:"button",onClick:s,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400","aria-label":l(),title:l(),children:i()})}function Iy(){const{toggleSidebar:r,sidebarOpen:n,setRightPanelTab:s,mainView:i,setMainView:l}=ol();return p.jsxs("header",{className:"flex items-center justify-between h-12 px-4 border-b border-gray-200 dark:border-gray-700 bg-surface dark:bg-surface-dark no-select",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{type:"button",onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":n?"Hide sidebar":"Show sidebar",title:n?"Hide sidebar":"Show sidebar",children:p.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"w-6 h-6 text-accent dark:text-accent-dark",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:p.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),p.jsx("span",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:"RuleZ UI"})]}),p.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-200 dark:bg-gray-700 rounded p-0.5",children:[p.jsx("button",{type:"button",onClick:()=>l("editor"),className:`px-2 py-0.5 text-xs rounded transition-colors ${i==="editor"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,"aria-label":"Editor",children:"Editor"}),p.jsx("button",{type:"button",onClick:()=>l("logs"),className:`px-2 py-0.5 text-xs rounded transition-colors ${i==="logs"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,"aria-label":"Logs",children:"Logs"})]}),p.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:Je()?"Desktop":"Web (Test)"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{type:"button",onClick:()=>s("settings"),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Open settings",title:"Settings",children:p.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 4c0-.59-.06-1.17-.17-1.73l2.07-1.62-2-3.46-2.49 1a7.952 7.952 0 00-2.99-1.73l-.38-2.65H9.02l-.38 2.65a7.952 7.952 0 00-2.99 1.73l-2.49-1-2 3.46 2.07 1.62c-.11.56-.17 1.14-.17 1.73s.06 1.17.17 1.73l-2.07 1.62 2 3.46 2.49-1c.86.72 1.88 1.28 2.99 1.73l.38 2.65h3.96l.38-2.65a7.952 7.952 0 002.99-1.73l2.49 1 2-3.46-2.07-1.62c.11-.56.17-1.14.17-1.73z"})})}),p.jsx("button",{type:"button",className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Help",title:"Help",children:p.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx(Ay,{})]})]})}const qt=cs((r,n)=>({cursorPosition:{line:1,column:1},selection:null,errors:[],warnings:[],isValidating:!1,editorRef:null,setCursorPosition:s=>r({cursorPosition:s}),setSelection:s=>r({selection:s}),setErrors:s=>r({errors:s}),setWarnings:s=>r({warnings:s}),setValidationResults:(s,i)=>r({errors:s,warnings:i,isValidating:!1}),clearValidation:()=>r({errors:[],warnings:[],isValidating:!1}),setIsValidating:s=>r({isValidating:s}),setEditorRef:s=>r({editorRef:s}),getErrorCount:()=>n().errors.length,getWarningCount:()=>n().warnings.length}));function Ch(r,n){(n==null||n>r.length)&&(n=r.length);for(var s=0,i=Array(n);s<n;s++)i[s]=r[s];return i}function Ry(r){if(Array.isArray(r))return r}function Fy(r,n,s){return(n=Wy(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function Dy(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,l,u,f,h=[],m=!0,g=!1;try{if(u=(s=s.call(r)).next,n!==0)for(;!(m=(i=u.call(s)).done)&&(h.push(i.value),h.length!==n);m=!0);}catch(x){g=!0,l=x}finally{try{if(!m&&s.return!=null&&(f=s.return(),Object(f)!==f))return}finally{if(g)throw l}}return h}}function zy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nh(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,i)}return s}function jh(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Nh(Object(s),!0).forEach(function(i){Fy(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Nh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}function $y(r,n){if(r==null)return{};var s,i,l=By(r,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(i=0;i<u.length;i++)s=u[i],n.indexOf(s)===-1&&{}.propertyIsEnumerable.call(r,s)&&(l[s]=r[s])}return l}function By(r,n){if(r==null)return{};var s={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(n.indexOf(i)!==-1)continue;s[i]=r[i]}return s}function Uy(r,n){return Ry(r)||Dy(r,n)||Ky(r,n)||zy()}function Vy(r,n){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Wy(r){var n=Vy(r,"string");return typeof n=="symbol"?n:n+""}function Ky(r,n){if(r){if(typeof r=="string")return Ch(r,n);var s={}.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ch(r,n):void 0}}function qy(r,n,s){return n in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function Eh(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,i)}return s}function Th(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Eh(Object(s),!0).forEach(function(i){qy(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Eh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}function Hy(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return function(i){return n.reduceRight(function(l,u){return u(l)},i)}}function ii(r){return function n(){for(var s=this,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length>=r.length?r.apply(this,l):function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return n.apply(s,[].concat(l,h))}}}function Jo(r){return{}.toString.call(r).includes("Object")}function Qy(r){return!Object.keys(r).length}function pi(r){return typeof r=="function"}function Gy(r,n){return Object.prototype.hasOwnProperty.call(r,n)}function Yy(r,n){return Jo(n)||Kn("changeType"),Object.keys(n).some(function(s){return!Gy(r,s)})&&Kn("changeField"),n}function Jy(r){pi(r)||Kn("selectorType")}function Zy(r){pi(r)||Jo(r)||Kn("handlerType"),Jo(r)&&Object.values(r).some(function(n){return!pi(n)})&&Kn("handlersType")}function Xy(r){r||Kn("initialIsRequired"),Jo(r)||Kn("initialType"),Qy(r)&&Kn("initialContent")}function ev(r,n){throw new Error(r[n]||r.default)}var tv={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Kn=ii(ev)(tv),zo={changes:Yy,selector:Jy,handler:Zy,initial:Xy};function nv(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zo.initial(r),zo.handler(n);var s={current:r},i=ii(iv)(s,n),l=ii(sv)(s),u=ii(zo.changes)(r),f=ii(rv)(s);function h(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(x){return x};return zo.selector(g),g(s.current)}function m(g){Hy(i,l,u,f)(g)}return[h,m]}function rv(r,n){return pi(n)?n(r.current):n}function sv(r,n){return r.current=Th(Th({},r.current),n),n}function iv(r,n,s){return pi(n)?n(r.current):Object.keys(s).forEach(function(i){var l;return(l=n[i])===null||l===void 0?void 0:l.call(n,r.current[i])}),s}var ov={create:nv},lv={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function av(r){return function n(){for(var s=this,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length>=r.length?r.apply(this,l):function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return n.apply(s,[].concat(l,h))}}}function uv(r){return{}.toString.call(r).includes("Object")}function cv(r){return r||_h("configIsRequired"),uv(r)||_h("configType"),r.urls?(fv(),{paths:{vs:r.urls.monacoBase}}):r}function fv(){console.warn(Np.deprecation)}function dv(r,n){throw new Error(r[n]||r.default)}var Np={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},_h=av(dv)(Np),hv={config:cv},pv=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return function(l){return s.reduceRight(function(u,f){return f(u)},l)}};function jp(r,n){return Object.keys(n).forEach(function(s){n[s]instanceof Object&&r[s]&&Object.assign(n[s],jp(r[s],n[s]))}),jh(jh({},r),n)}var mv={type:"cancelation",msg:"operation is manually canceled"};function vu(r){var n=!1,s=new Promise(function(i,l){r.then(function(u){return n?l(mv):i(u)}),r.catch(l)});return s.cancel=function(){return n=!0},s}var gv=["monaco"],yv=ov.create({config:lv,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ep=Uy(yv,2),wi=Ep[0],ll=Ep[1];function vv(r){var n=hv.config(r),s=n.monaco,i=$y(n,gv);ll(function(l){return{config:jp(l.config,i),monaco:s}})}function xv(){var r=wi(function(n){var s=n.monaco,i=n.isInitialized,l=n.resolve;return{monaco:s,isInitialized:i,resolve:l}});if(!r.isInitialized){if(ll({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),vu(xu);if(window.monaco&&window.monaco.editor)return Tp(window.monaco),r.resolve(window.monaco),vu(xu);pv(wv,Sv)(bv)}return vu(xu)}function wv(r){return document.body.appendChild(r)}function kv(r){var n=document.createElement("script");return r&&(n.src=r),n}function Sv(r){var n=wi(function(i){var l=i.config,u=i.reject;return{config:l,reject:u}}),s=kv("".concat(n.config.paths.vs,"/loader.js"));return s.onload=function(){return r()},s.onerror=n.reject,s}function bv(){var r=wi(function(s){var i=s.config,l=s.resolve,u=s.reject;return{config:i,resolve:l,reject:u}}),n=window.require;n.config(r.config),n(["vs/editor/editor.main"],function(s){var i=s.m||s;Tp(i),r.resolve(i)},function(s){r.reject(s)})}function Tp(r){wi().monaco||ll({monaco:r})}function Cv(){return wi(function(r){var n=r.monaco;return n})}var xu=new Promise(function(r,n){return ll({resolve:r,reject:n})}),Ku={config:vv,init:xv,__getMonacoInstance:Cv},Nv={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},wu=Nv,jv={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ev=jv;function Tv({children:r}){return Kt.createElement("div",{style:Ev.container},r)}var _v=Tv,Ov=_v;function Lv({width:r,height:n,isEditorReady:s,loading:i,_ref:l,className:u,wrapperProps:f}){return Kt.createElement("section",{style:{...wu.wrapper,width:r,height:n},...f},!s&&Kt.createElement(Ov,null,i),Kt.createElement("div",{ref:l,style:{...wu.fullWidth,...!s&&wu.hide},className:u}))}var Pv=Lv,_p=D.memo(Pv);function Mv(r){D.useEffect(r,[])}var Op=Mv;function Av(r,n,s=!0){let i=D.useRef(!0);D.useEffect(i.current||!s?()=>{i.current=!1}:r,n)}var St=Av;function ui(){}function Hr(r,n,s,i){return Iv(r,i)||Rv(r,n,s,i)}function Iv(r,n){return r.editor.getModel(Lp(r,n))}function Rv(r,n,s,i){return r.editor.createModel(n,s,i?Lp(r,i):void 0)}function Lp(r,n){return r.Uri.parse(n)}function Fv({original:r,modified:n,language:s,originalLanguage:i,modifiedLanguage:l,originalModelPath:u,modifiedModelPath:f,keepCurrentOriginalModel:h=!1,keepCurrentModifiedModel:m=!1,theme:g="light",loading:x="Loading...",options:w={},height:v="100%",width:C="100%",className:E,wrapperProps:S={},beforeMount:T=ui,onMount:K=ui}){let[B,J]=D.useState(!1),[U,G]=D.useState(!0),q=D.useRef(null),se=D.useRef(null),ee=D.useRef(null),fe=D.useRef(K),ae=D.useRef(T),Q=D.useRef(!1);Op(()=>{let _=Ku.init();return _.then(R=>(se.current=R)&&G(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>q.current?te():_.cancel()}),St(()=>{if(q.current&&se.current){let _=q.current.getOriginalEditor(),R=Hr(se.current,r||"",i||s||"text",u||"");R!==_.getModel()&&_.setModel(R)}},[u],B),St(()=>{if(q.current&&se.current){let _=q.current.getModifiedEditor(),R=Hr(se.current,n||"",l||s||"text",f||"");R!==_.getModel()&&_.setModel(R)}},[f],B),St(()=>{let _=q.current.getModifiedEditor();_.getOption(se.current.editor.EditorOption.readOnly)?_.setValue(n||""):n!==_.getValue()&&(_.executeEdits("",[{range:_.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),_.pushUndoStop())},[n],B),St(()=>{q.current?.getModel()?.original.setValue(r||"")},[r],B),St(()=>{let{original:_,modified:R}=q.current.getModel();se.current.editor.setModelLanguage(_,i||s||"text"),se.current.editor.setModelLanguage(R,l||s||"text")},[s,i,l],B),St(()=>{se.current?.editor.setTheme(g)},[g],B),St(()=>{q.current?.updateOptions(w)},[w],B);let L=D.useCallback(()=>{if(!se.current)return;ae.current(se.current);let _=Hr(se.current,r||"",i||s||"text",u||""),R=Hr(se.current,n||"",l||s||"text",f||"");q.current?.setModel({original:_,modified:R})},[s,n,l,r,i,u,f]),Z=D.useCallback(()=>{!Q.current&&ee.current&&(q.current=se.current.editor.createDiffEditor(ee.current,{automaticLayout:!0,...w}),L(),se.current?.editor.setTheme(g),J(!0),Q.current=!0)},[w,g,L]);D.useEffect(()=>{B&&fe.current(q.current,se.current)},[B]),D.useEffect(()=>{!U&&!B&&Z()},[U,B,Z]);function te(){let _=q.current?.getModel();h||_?.original?.dispose(),m||_?.modified?.dispose(),q.current?.dispose()}return Kt.createElement(_p,{width:C,height:v,isEditorReady:B,loading:x,_ref:ee,className:E,wrapperProps:S})}var Dv=Fv;D.memo(Dv);function zv(r){let n=D.useRef();return D.useEffect(()=>{n.current=r},[r]),n.current}var $v=zv,$o=new Map;function Bv({defaultValue:r,defaultLanguage:n,defaultPath:s,value:i,language:l,path:u,theme:f="light",line:h,loading:m="Loading...",options:g={},overrideServices:x={},saveViewState:w=!0,keepCurrentModel:v=!1,width:C="100%",height:E="100%",className:S,wrapperProps:T={},beforeMount:K=ui,onMount:B=ui,onChange:J,onValidate:U=ui}){let[G,q]=D.useState(!1),[se,ee]=D.useState(!0),fe=D.useRef(null),ae=D.useRef(null),Q=D.useRef(null),L=D.useRef(B),Z=D.useRef(K),te=D.useRef(),_=D.useRef(i),R=$v(u),$=D.useRef(!1),I=D.useRef(!1);Op(()=>{let b=Ku.init();return b.then(M=>(fe.current=M)&&ee(!1)).catch(M=>M?.type!=="cancelation"&&console.error("Monaco initialization: error:",M)),()=>ae.current?F():b.cancel()}),St(()=>{let b=Hr(fe.current,r||i||"",n||l||"",u||s||"");b!==ae.current?.getModel()&&(w&&$o.set(R,ae.current?.saveViewState()),ae.current?.setModel(b),w&&ae.current?.restoreViewState($o.get(u)))},[u],G),St(()=>{ae.current?.updateOptions(g)},[g],G),St(()=>{!ae.current||i===void 0||(ae.current.getOption(fe.current.editor.EditorOption.readOnly)?ae.current.setValue(i):i!==ae.current.getValue()&&(I.current=!0,ae.current.executeEdits("",[{range:ae.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),ae.current.pushUndoStop(),I.current=!1))},[i],G),St(()=>{let b=ae.current?.getModel();b&&l&&fe.current?.editor.setModelLanguage(b,l)},[l],G),St(()=>{h!==void 0&&ae.current?.revealLine(h)},[h],G),St(()=>{fe.current?.editor.setTheme(f)},[f],G);let V=D.useCallback(()=>{if(!(!Q.current||!fe.current)&&!$.current){Z.current(fe.current);let b=u||s,M=Hr(fe.current,i||r||"",n||l||"",b||"");ae.current=fe.current?.editor.create(Q.current,{model:M,automaticLayout:!0,...g},x),w&&ae.current.restoreViewState($o.get(b)),fe.current.editor.setTheme(f),h!==void 0&&ae.current.revealLine(h),q(!0),$.current=!0}},[r,n,s,i,l,u,g,x,w,f,h]);D.useEffect(()=>{G&&L.current(ae.current,fe.current)},[G]),D.useEffect(()=>{!se&&!G&&V()},[se,G,V]),_.current=i,D.useEffect(()=>{G&&J&&(te.current?.dispose(),te.current=ae.current?.onDidChangeModelContent(b=>{I.current||J(ae.current.getValue(),b)}))},[G,J]),D.useEffect(()=>{if(G){let b=fe.current.editor.onDidChangeMarkers(M=>{let ue=ae.current.getModel()?.uri;if(ue&&M.find(re=>re.path===ue.path)){let re=fe.current.editor.getModelMarkers({resource:ue});U?.(re)}});return()=>{b?.dispose()}}return()=>{}},[G,U]);function F(){te.current?.dispose(),v?w&&$o.set(u,ae.current.saveViewState()):ae.current.getModel()?.dispose(),ae.current.dispose()}return Kt.createElement(_p,{width:C,height:E,isEditorReady:G,loading:m,_ref:Q,className:S,wrapperProps:T})}var Uv=Bv,Vv=D.memo(Uv),Wv=Vv;function Kv(){const r=qt(x=>x.editorRef),[n,s]=D.useState(!1),[i,l]=D.useState(!1),u=()=>{r?.trigger("toolbar","undo",null)},f=()=>{r?.trigger("toolbar","redo",null)},h=()=>{r?.trigger("toolbar","editor.action.formatDocument",null)},m=()=>{const x=!n;s(x),r?.updateOptions({wordWrap:x?"on":"off"})},g=()=>{const x=!i;l(x),r?.updateOptions({minimap:{enabled:x}})};return p.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-[#252525]",children:[p.jsx(ti,{onClick:u,title:"Undo (Ctrl+Z)",children:p.jsx(qv,{})}),p.jsx(ti,{onClick:f,title:"Redo (Ctrl+Shift+Z)",children:p.jsx(Hv,{})}),p.jsx("div",{className:"w-px h-5 mx-1 bg-gray-300 dark:bg-gray-600"}),p.jsx(ti,{onClick:h,title:"Format Document",children:p.jsx(Qv,{})}),p.jsx("div",{className:"w-px h-5 mx-1 bg-gray-300 dark:bg-gray-600"}),p.jsx(ti,{onClick:m,title:"Toggle Word Wrap",active:n,children:p.jsx(Gv,{})}),p.jsx(ti,{onClick:g,title:"Toggle Minimap",active:i,children:p.jsx(Yv,{})})]})}function ti({onClick:r,title:n,active:s,children:i}){return p.jsx("button",{type:"button",onClick:r,title:n,className:`p-1.5 rounded transition-colors ${s?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200"}`,children:i})}function qv(){return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:"img","aria-label":"Undo",children:[p.jsx("path",{d:"M3 7v6h6"}),p.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})}function Hv(){return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:"img","aria-label":"Redo",children:[p.jsx("path",{d:"M21 7v6h-6"}),p.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"})]})}function Qv(){return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:"img","aria-label":"Format",children:[p.jsx("path",{d:"M4 7h16"}),p.jsx("path",{d:"M4 12h10"}),p.jsx("path",{d:"M4 17h16"})]})}function Gv(){return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:"img","aria-label":"Word wrap",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M3 12h15a3 3 0 1 1 0 6h-4"}),p.jsx("path",{d:"m16 16-2 2 2 2"}),p.jsx("path",{d:"M3 18h7"})]})}function Yv(){return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:"img","aria-label":"Minimap",children:[p.jsx("rect",{x:"2",y:"3",width:"20",height:"18",rx:"2"}),p.jsx("rect",{x:"15",y:"5",width:"5",height:"14",rx:"1",opacity:"0.5"})]})}function Oh({item:r,type:n,onClick:s}){const i=n==="error";return p.jsxs("button",{type:"button",onClick:()=>s(r.line),className:`w-full text-left px-3 py-2 flex items-start gap-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors border-l-2 ${i?"border-error dark:border-error-dark":"border-warning dark:border-warning-dark"}`,children:[p.jsx("span",{className:`flex-shrink-0 mt-0.5 ${i?"text-error dark:text-error-dark":"text-warning dark:text-warning-dark"}`,children:i?p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:["Ln ",r.line,":",r.column]})}),p.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 break-words",children:r.message})]})]})}function Jv(){const r=qt(u=>u.errors),n=qt(u=>u.warnings),s=qt(u=>u.editorRef),i=D.useCallback(u=>{s&&(s.revealLineInCenter(u),s.setPosition({lineNumber:u,column:1}),s.focus())},[s]);return r.length>0||n.length>0?p.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1A1A1A] max-h-40 overflow-y-auto",children:[p.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 px-3 py-1.5 border-b border-gray-200 dark:border-gray-700 flex items-center gap-4 text-xs font-medium text-gray-600 dark:text-gray-400",children:[p.jsx("span",{children:"Problems"}),r.length>0&&p.jsxs("span",{className:"flex items-center gap-1 text-error dark:text-error-dark",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.length]}),n.length>0&&p.jsxs("span",{className:"flex items-center gap-1 text-warning dark:text-warning-dark",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.length]})]}),p.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[r.map((u,f)=>p.jsx(Oh,{item:u,type:"error",onClick:i},`error-${f}-${u.line}-${u.column}`)),n.map((u,f)=>p.jsx(Oh,{item:u,type:"warning",onClick:i},`warning-${f}-${u.line}-${u.column}`))]})]}):null}var Pp;(()=>{var r={975:Q=>{function L(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}function Z(_,R){for(var $,I="",V=0,F=-1,b=0,M=0;M<=_.length;++M){if(M<_.length)$=_.charCodeAt(M);else{if($===47)break;$=47}if($===47){if(!(F===M-1||b===1))if(F!==M-1&&b===2){if(I.length<2||V!==2||I.charCodeAt(I.length-1)!==46||I.charCodeAt(I.length-2)!==46){if(I.length>2){var ue=I.lastIndexOf("/");if(ue!==I.length-1){ue===-1?(I="",V=0):V=(I=I.slice(0,ue)).length-1-I.lastIndexOf("/"),F=M,b=0;continue}}else if(I.length===2||I.length===1){I="",V=0,F=M,b=0;continue}}R&&(I.length>0?I+="/..":I="..",V=2)}else I.length>0?I+="/"+_.slice(F+1,M):I=_.slice(F+1,M),V=M-F-1;F=M,b=0}else $===46&&b!==-1?++b:b=-1}return I}var te={resolve:function(){for(var _,R="",$=!1,I=arguments.length-1;I>=-1&&!$;I--){var V;I>=0?V=arguments[I]:(_===void 0&&(_=process.cwd()),V=_),L(V),V.length!==0&&(R=V+"/"+R,$=V.charCodeAt(0)===47)}return R=Z(R,!$),$?R.length>0?"/"+R:"/":R.length>0?R:"."},normalize:function(_){if(L(_),_.length===0)return".";var R=_.charCodeAt(0)===47,$=_.charCodeAt(_.length-1)===47;return(_=Z(_,!R)).length!==0||R||(_="."),_.length>0&&$&&(_+="/"),R?"/"+_:_},isAbsolute:function(_){return L(_),_.length>0&&_.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var _,R=0;R<arguments.length;++R){var $=arguments[R];L($),$.length>0&&(_===void 0?_=$:_+="/"+$)}return _===void 0?".":te.normalize(_)},relative:function(_,R){if(L(_),L(R),_===R||(_=te.resolve(_))===(R=te.resolve(R)))return"";for(var $=1;$<_.length&&_.charCodeAt($)===47;++$);for(var I=_.length,V=I-$,F=1;F<R.length&&R.charCodeAt(F)===47;++F);for(var b=R.length-F,M=V<b?V:b,ue=-1,re=0;re<=M;++re){if(re===M){if(b>M){if(R.charCodeAt(F+re)===47)return R.slice(F+re+1);if(re===0)return R.slice(F+re)}else V>M&&(_.charCodeAt($+re)===47?ue=re:re===0&&(ue=0));break}var ye=_.charCodeAt($+re);if(ye!==R.charCodeAt(F+re))break;ye===47&&(ue=re)}var ve="";for(re=$+ue+1;re<=I;++re)re!==I&&_.charCodeAt(re)!==47||(ve.length===0?ve+="..":ve+="/..");return ve.length>0?ve+R.slice(F+ue):(F+=ue,R.charCodeAt(F)===47&&++F,R.slice(F))},_makeLong:function(_){return _},dirname:function(_){if(L(_),_.length===0)return".";for(var R=_.charCodeAt(0),$=R===47,I=-1,V=!0,F=_.length-1;F>=1;--F)if((R=_.charCodeAt(F))===47){if(!V){I=F;break}}else V=!1;return I===-1?$?"/":".":$&&I===1?"//":_.slice(0,I)},basename:function(_,R){if(R!==void 0&&typeof R!="string")throw new TypeError('"ext" argument must be a string');L(_);var $,I=0,V=-1,F=!0;if(R!==void 0&&R.length>0&&R.length<=_.length){if(R.length===_.length&&R===_)return"";var b=R.length-1,M=-1;for($=_.length-1;$>=0;--$){var ue=_.charCodeAt($);if(ue===47){if(!F){I=$+1;break}}else M===-1&&(F=!1,M=$+1),b>=0&&(ue===R.charCodeAt(b)?--b==-1&&(V=$):(b=-1,V=M))}return I===V?V=M:V===-1&&(V=_.length),_.slice(I,V)}for($=_.length-1;$>=0;--$)if(_.charCodeAt($)===47){if(!F){I=$+1;break}}else V===-1&&(F=!1,V=$+1);return V===-1?"":_.slice(I,V)},extname:function(_){L(_);for(var R=-1,$=0,I=-1,V=!0,F=0,b=_.length-1;b>=0;--b){var M=_.charCodeAt(b);if(M!==47)I===-1&&(V=!1,I=b+1),M===46?R===-1?R=b:F!==1&&(F=1):R!==-1&&(F=-1);else if(!V){$=b+1;break}}return R===-1||I===-1||F===0||F===1&&R===I-1&&R===$+1?"":_.slice(R,I)},format:function(_){if(_===null||typeof _!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof _);return(function(R,$){var I=$.dir||$.root,V=$.base||($.name||"")+($.ext||"");return I?I===$.root?I+V:I+"/"+V:V})(0,_)},parse:function(_){L(_);var R={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return R;var $,I=_.charCodeAt(0),V=I===47;V?(R.root="/",$=1):$=0;for(var F=-1,b=0,M=-1,ue=!0,re=_.length-1,ye=0;re>=$;--re)if((I=_.charCodeAt(re))!==47)M===-1&&(ue=!1,M=re+1),I===46?F===-1?F=re:ye!==1&&(ye=1):F!==-1&&(ye=-1);else if(!ue){b=re+1;break}return F===-1||M===-1||ye===0||ye===1&&F===M-1&&F===b+1?M!==-1&&(R.base=R.name=b===0&&V?_.slice(1,M):_.slice(b,M)):(b===0&&V?(R.name=_.slice(1,F),R.base=_.slice(1,M)):(R.name=_.slice(b,F),R.base=_.slice(b,M)),R.ext=_.slice(F,M)),b>0?R.dir=_.slice(0,b-1):V&&(R.dir="/"),R},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,Q.exports=te}},n={};function s(Q){var L=n[Q];if(L!==void 0)return L.exports;var Z=n[Q]={exports:{}};return r[Q](Z,Z.exports,s),Z.exports}s.d=(Q,L)=>{for(var Z in L)s.o(L,Z)&&!s.o(Q,Z)&&Object.defineProperty(Q,Z,{enumerable:!0,get:L[Z]})},s.o=(Q,L)=>Object.prototype.hasOwnProperty.call(Q,L),s.r=Q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var i={};let l;s.r(i),s.d(i,{URI:()=>v,Utils:()=>ae}),typeof process=="object"?l=process.platform==="win32":typeof navigator=="object"&&(l=navigator.userAgent.indexOf("Windows")>=0);const u=/^\w[\w\d+.-]*$/,f=/^\//,h=/^\/\//;function m(Q,L){if(!Q.scheme&&L)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Q.authority}", path: "${Q.path}", query: "${Q.query}", fragment: "${Q.fragment}"}`);if(Q.scheme&&!u.test(Q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Q.path){if(Q.authority){if(!f.test(Q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(h.test(Q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const g="",x="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class v{static isUri(L){return L instanceof v||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"}scheme;authority;path;query;fragment;constructor(L,Z,te,_,R,$=!1){typeof L=="object"?(this.scheme=L.scheme||g,this.authority=L.authority||g,this.path=L.path||g,this.query=L.query||g,this.fragment=L.fragment||g):(this.scheme=(function(I,V){return I||V?I:"file"})(L,$),this.authority=Z||g,this.path=(function(I,V){switch(I){case"https":case"http":case"file":V?V[0]!==x&&(V=x+V):V=x}return V})(this.scheme,te||g),this.query=_||g,this.fragment=R||g,m(this,$))}get fsPath(){return B(this)}with(L){if(!L)return this;let{scheme:Z,authority:te,path:_,query:R,fragment:$}=L;return Z===void 0?Z=this.scheme:Z===null&&(Z=g),te===void 0?te=this.authority:te===null&&(te=g),_===void 0?_=this.path:_===null&&(_=g),R===void 0?R=this.query:R===null&&(R=g),$===void 0?$=this.fragment:$===null&&($=g),Z===this.scheme&&te===this.authority&&_===this.path&&R===this.query&&$===this.fragment?this:new E(Z,te,_,R,$)}static parse(L,Z=!1){const te=w.exec(L);return te?new E(te[2]||g,q(te[4]||g),q(te[5]||g),q(te[7]||g),q(te[9]||g),Z):new E(g,g,g,g,g)}static file(L){let Z=g;if(l&&(L=L.replace(/\\/g,x)),L[0]===x&&L[1]===x){const te=L.indexOf(x,2);te===-1?(Z=L.substring(2),L=x):(Z=L.substring(2,te),L=L.substring(te)||x)}return new E("file",Z,L,g,g)}static from(L){const Z=new E(L.scheme,L.authority,L.path,L.query,L.fragment);return m(Z,!0),Z}toString(L=!1){return J(this,L)}toJSON(){return this}static revive(L){if(L){if(L instanceof v)return L;{const Z=new E(L);return Z._formatted=L.external,Z._fsPath=L._sep===C?L.fsPath:null,Z}}return L}}const C=l?1:void 0;class E extends v{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=B(this)),this._fsPath}toString(L=!1){return L?J(this,!0):(this._formatted||(this._formatted=J(this,!1)),this._formatted)}toJSON(){const L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=C),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L}}const S={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function T(Q,L,Z){let te,_=-1;for(let R=0;R<Q.length;R++){const $=Q.charCodeAt(R);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||L&&$===47||Z&&$===91||Z&&$===93||Z&&$===58)_!==-1&&(te+=encodeURIComponent(Q.substring(_,R)),_=-1),te!==void 0&&(te+=Q.charAt(R));else{te===void 0&&(te=Q.substr(0,R));const I=S[$];I!==void 0?(_!==-1&&(te+=encodeURIComponent(Q.substring(_,R)),_=-1),te+=I):_===-1&&(_=R)}}return _!==-1&&(te+=encodeURIComponent(Q.substring(_))),te!==void 0?te:Q}function K(Q){let L;for(let Z=0;Z<Q.length;Z++){const te=Q.charCodeAt(Z);te===35||te===63?(L===void 0&&(L=Q.substr(0,Z)),L+=S[te]):L!==void 0&&(L+=Q[Z])}return L!==void 0?L:Q}function B(Q,L){let Z;return Z=Q.authority&&Q.path.length>1&&Q.scheme==="file"?`//${Q.authority}${Q.path}`:Q.path.charCodeAt(0)===47&&(Q.path.charCodeAt(1)>=65&&Q.path.charCodeAt(1)<=90||Q.path.charCodeAt(1)>=97&&Q.path.charCodeAt(1)<=122)&&Q.path.charCodeAt(2)===58?Q.path[1].toLowerCase()+Q.path.substr(2):Q.path,l&&(Z=Z.replace(/\//g,"\\")),Z}function J(Q,L){const Z=L?K:T;let te="",{scheme:_,authority:R,path:$,query:I,fragment:V}=Q;if(_&&(te+=_,te+=":"),(R||_==="file")&&(te+=x,te+=x),R){let F=R.indexOf("@");if(F!==-1){const b=R.substr(0,F);R=R.substr(F+1),F=b.lastIndexOf(":"),F===-1?te+=Z(b,!1,!1):(te+=Z(b.substr(0,F),!1,!1),te+=":",te+=Z(b.substr(F+1),!1,!0)),te+="@"}R=R.toLowerCase(),F=R.lastIndexOf(":"),F===-1?te+=Z(R,!1,!0):(te+=Z(R.substr(0,F),!1,!0),te+=R.substr(F))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58){const F=$.charCodeAt(1);F>=65&&F<=90&&($=`/${String.fromCharCode(F+32)}:${$.substr(3)}`)}else if($.length>=2&&$.charCodeAt(1)===58){const F=$.charCodeAt(0);F>=65&&F<=90&&($=`${String.fromCharCode(F+32)}:${$.substr(2)}`)}te+=Z($,!0,!1)}return I&&(te+="?",te+=Z(I,!1,!1)),V&&(te+="#",te+=L?V:T(V,!1,!1)),te}function U(Q){try{return decodeURIComponent(Q)}catch{return Q.length>3?Q.substr(0,3)+U(Q.substr(3)):Q}}const G=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function q(Q){return Q.match(G)?Q.replace(G,(L=>U(L))):Q}var se=s(975);const ee=se.posix||se,fe="/";var ae;(function(Q){Q.joinPath=function(L,...Z){return L.with({path:ee.join(L.path,...Z)})},Q.resolvePath=function(L,...Z){let te=L.path,_=!1;te[0]!==fe&&(te=fe+te,_=!0);let R=ee.resolve(te,...Z);return _&&R[0]===fe&&!L.authority&&(R=R.substring(1)),L.with({path:R})},Q.dirname=function(L){if(L.path.length===0||L.path===fe)return L;let Z=ee.dirname(L.path);return Z.length===1&&Z.charCodeAt(0)===46&&(Z=""),L.with({path:Z})},Q.basename=function(L){return ee.basename(L.path)},Q.extname=function(L){return ee.extname(L.path)}})(ae||(ae={})),Pp=i})();const{URI:mn,Utils:Xw}=Pp;function Zv(r){return r===4?1:r===3?2:r===2?4:8}function Xv(r){return r}function e1(r){return{start:{line:r.startLineNumber-1,character:r.startColumn-1},end:{line:r.endLineNumber-1,character:r.endColumn-1}}}function Ye(r){return{startLineNumber:r.start.line+1,startColumn:r.start.character+1,endLineNumber:r.end.line+1,endColumn:r.end.character+1}}function t1(r){return{...Ye(r.location.range),message:r.message,resource:mn.parse(r.location.uri)}}function Mp(r){const n={...Ye(r.range),message:r.message,severity:r.severity?Zv(r.severity):8};return r.code!=null&&(n.code=r.codeDescription==null?String(r.code):{value:String(r.code),target:mn.parse(r.codeDescription.href)}),r.relatedInformation&&(n.relatedInformation=r.relatedInformation.map(t1)),r.tags&&(n.tags=r.tags.map(Xv)),r.source!=null&&(n.source=r.source),n}function Mu(r){return{range:Ye(r.range),text:r.newText}}function n1(r){const n={};return r.ignoreIfExists!=null&&(n.ignoreIfExists=r.ignoreIfExists),r.ignoreIfNotExists!=null&&(n.ignoreIfNotExists=r.ignoreIfNotExists),r.overwrite!=null&&(n.overwrite=r.overwrite),r.recursive!=null&&(n.recursive=r.recursive),n}function r1(r){const n=r.kind==="create"?{newResource:mn.parse(r.uri)}:r.kind==="delete"?{oldResource:mn.parse(r.uri)}:{oldResource:mn.parse(r.oldUri),newResource:mn.parse(r.newUri)};return r.options&&(n.options=n1(r.options)),n}function Lh(r,n,s){return{resource:mn.parse(n),versionId:s,textEdit:Mu(r)}}function s1(r){var n;const s=[];if(r.changes)for(const[i,l]of Object.entries(r.changes))for(const u of l)s.push(Lh(u,i));if(r.documentChanges)for(const i of r.documentChanges)if("textDocument"in i)for(const l of i.edits)s.push(Lh(l,i.textDocument.uri,(n=i.textDocument.version)!==null&&n!==void 0?n:void 0));else s.push(r1(i));return{edits:s}}function i1(r){const n={title:r.title,isPreferred:r.isPreferred};return r.diagnostics&&(n.diagnostics=r.diagnostics.map(Mp)),r.disabled&&(n.disabled=r.disabled.reason),r.edit&&(n.edit=s1(r.edit)),r.isPreferred!=null&&(n.isPreferred=r.isPreferred),r.kind&&(n.kind=r.kind),n}function o1(r){const n={title:r.title,id:r.command};return r.arguments&&(n.arguments=r.arguments),n}function l1(r){return r===1?18:r===2?0:r===3?1:r===4?2:r===5?3:r===6?4:r===7?5:r===8?7:r===9?8:r===10?9:r===11?12:r===12?13:r===13?15:r===14?17:r===15?27:r===16?19:r===17?20:r===18?21:r===19?23:r===20?16:r===21?14:r===22?6:r===23?10:r===24?11:24}function a1(r){return r}function Ap(r){return{value:r.value}}function u1(r){return{range:Ye(r.range),text:r.newText}}function c1(r){return"range"in r?Ye(r.range):"insert"in r&&"replace"in r?{insert:Ye(r.insert),replace:Ye(r.replace)}:Ye(r)}function f1(r,n){var s,i,l,u,f;const h=(s=n.itemDefaults)!==null&&s!==void 0?s:{},m=(i=r.textEdit)!==null&&i!==void 0?i:h.editRange,g=(l=r.commitCharacters)!==null&&l!==void 0?l:h.commitCharacters,x=(u=r.insertTextFormat)!==null&&u!==void 0?u:h.insertTextFormat,w=(f=r.insertTextMode)!==null&&f!==void 0?f:h.insertTextMode;let v=r.insertText,C;m?(C=c1(m),"newText"in m&&(v=m.newText)):C={...n.range};const E={insertText:v??r.label,kind:r.kind==null?18:l1(r.kind),label:r.label,range:C};return r.additionalTextEdits&&(E.additionalTextEdits=r.additionalTextEdits.map(u1)),r.command&&(E.command=o1(r.command)),g&&(E.commitCharacters=g),r.detail!=null&&(E.detail=r.detail),typeof r.documentation=="string"?E.documentation=r.documentation:r.documentation&&(E.documentation=Ap(r.documentation)),r.filterText!=null&&(E.filterText=r.filterText),x===2?E.insertTextRules=4:w===2&&(E.insertTextRules=1),r.preselect!=null&&(E.preselect=r.preselect),r.sortText!=null&&(E.sortText=r.sortText),r.tags&&(E.tags=r.tags.map(a1)),E}function d1(r,n){return{incomplete:!!r.isIncomplete,suggestions:r.items.map(s=>f1(s,{range:n.range,itemDefaults:r.itemDefaults}))}}function h1(r){return r===1?0:r===2?1:r===3?2:r===4?3:r===5?4:r===6?5:r===7?6:r===8?7:r===9?8:r===10?9:r===11?10:r===12?11:r===13?12:r===14?13:r===15?14:r===16?15:r===17?16:r===18?17:r===19?18:r===20?19:r===21?20:r===22?21:r===23?22:r===24?23:r===25?24:25}function p1(r){return r}function Ip(r){var n,s,i;const l={detail:(n=r.detail)!==null&&n!==void 0?n:"",kind:h1(r.kind),name:r.name,range:Ye(r.range),selectionRange:Ye(r.selectionRange),tags:(i=(s=r.tags)===null||s===void 0?void 0:s.map(p1))!==null&&i!==void 0?i:[]};return r.children&&(l.children=r.children.map(Ip)),l}function m1(r){const n={start:r.startLine+1,end:r.endLine+1};return r.kind!=null&&(n.kind={value:r.kind}),n}function g1(r){return{insertSpaces:r.insertSpaces,tabSize:r.tabSize}}function Ph(r){return typeof r=="string"?{value:r}:{value:`\`\`\`${r.language}
${r.value}
\`\`\``}}function y1(r){return typeof r=="string"||"language"in r?[Ph(r)]:Array.isArray(r)?r.map(Ph):[Ap(r)]}function v1(r){const n={contents:y1(r.contents)};return r.range&&(n.range=Ye(r.range)),n}function ni(r){return{character:r.column-1,line:r.lineNumber-1}}function x1(r){const n={range:Ye(r.range)};return r.tooltip!=null&&(n.tooltip=r.tooltip),r.target!=null&&(n.url=mn.parse(r.target)),n}function w1(r){const n={range:Ye(r.targetRange),targetSelectionRange:Ye(r.targetSelectionRange),uri:mn.parse(r.targetUri)};return r.originSelectionRange&&(n.originSelectionRange=Ye(r.originSelectionRange)),n}function k1(r){const n=[];let s=r;for(;s;)n.push({range:Ye(s.range)}),s=s.parent;return n}function S1(r,n,s){const i=new Map,l=v=>Array.isArray(n)?n.includes(v):n===v,u=async v=>{const C=v.getVersionId(),E=await s.provideMarkerData(v);!v.isDisposed()&&C===v.getVersionId()&&l(v.getLanguageId())&&r.editor.setModelMarkers(v,s.owner,E??[])},f=v=>{if(!l(v.getLanguageId()))return;let C;const E=v.onDidChangeContent(()=>{clearTimeout(C),C=setTimeout(()=>{u(v)},500)});i.set(v,{dispose(){clearTimeout(C),E.dispose()}}),u(v)},h=v=>{r.editor.setModelMarkers(v,s.owner,[]);const C=i.get(v);C&&(C.dispose(),i.delete(v))};function m(v,C=v.getLanguageId()){s.doReset&&l(C)&&s.doReset(v)}const g=r.editor.onDidCreateModel(f),x=r.editor.onWillDisposeModel(v=>{h(v),m(v)}),w=r.editor.onDidChangeModelLanguage(({model:v,oldLanguage:C})=>{h(v),f(v),m(v,C)});for(const v of r.editor.getModels())f(v);return{dispose(){for(const v of i.keys())h(v);g.dispose(),x.dispose(),w.dispose()},async revalidate(){await Promise.all(r.editor.getModels().map(u))}}}function b1(r,n){let{createData:s,interval:i=3e4,label:l,moduleId:u,stopWhenIdleFor:f=12e4}=n,h,m=0,g=!1;const x=()=>{h&&(h.dispose(),h=void 0)},w=setInterval(()=>{if(!h)return;Date.now()-m>f&&x()},i);return{dispose(){g=!0,clearInterval(w),x()},getWorker(...v){if(g)throw new Error("Worker manager has been disposed");return m=Date.now(),h||(h=r.editor.createWebWorker({createData:s,label:l,moduleId:u})),h.withSyncedResources(v)},updateCreateData(v){s=v,x()}}}function C1(r,n){const s={completion:!0,customTags:[],enableSchemaRequest:!1,format:!0,isKubernetes:!1,hover:!0,schemas:[],validate:!0,yamlVersion:"1.2",...n};r.languages.register({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]});const i=b1(r,{label:"yaml",moduleId:"monaco-yaml/yaml.worker",createData:s}),l=new WeakMap,u=S1(r,"yaml",{owner:"yaml",async provideMarkerData(h){const g=await(await i.getWorker(h.uri)).doValidation(String(h.uri));return l.set(h,g),g?.map(Mp)},async doReset(h){await(await i.getWorker(h.uri)).resetSchema(String(h.uri))}}),f=[i,u,r.languages.registerCompletionItemProvider("yaml",{triggerCharacters:[" ",":"],async provideCompletionItems(h,m){const g=h.getWordUntilPosition(m),w=await(await i.getWorker(h.uri)).doComplete(String(h.uri),ni(m));if(w)return d1(w,{range:{startLineNumber:m.lineNumber,startColumn:g.startColumn,endLineNumber:m.lineNumber,endColumn:g.endColumn}})}}),r.languages.registerHoverProvider("yaml",{async provideHover(h,m){const x=await(await i.getWorker(h.uri)).doHover(String(h.uri),ni(m));if(x)return v1(x)}}),r.languages.registerDefinitionProvider("yaml",{async provideDefinition(h,m){const x=await(await i.getWorker(h.uri)).doDefinition(String(h.uri),ni(m));return x?.map(w1)}}),r.languages.registerDocumentSymbolProvider("yaml",{displayName:"yaml",async provideDocumentSymbols(h){const g=await(await i.getWorker(h.uri)).findDocumentSymbols(String(h.uri));return g?.map(Ip)}}),r.languages.registerDocumentFormattingEditProvider("yaml",{displayName:"yaml",async provideDocumentFormattingEdits(h){const g=await(await i.getWorker(h.uri)).format(String(h.uri));return g?.map(Mu)}}),r.languages.registerLinkProvider("yaml",{async provideLinks(h){const g=await(await i.getWorker(h.uri)).findLinks(String(h.uri));if(g)return{links:g.map(x1)}}}),r.languages.registerCodeActionProvider("yaml",{async provideCodeActions(h,m,g){var x;const v=await(await i.getWorker(h.uri)).getCodeAction(String(h.uri),e1(m),{diagnostics:((x=l.get(h))==null?void 0:x.filter(C=>m.intersectRanges(Ye(C.range))))||[],only:g.only?[g.only]:void 0,triggerKind:g.trigger});if(v)return{actions:v.map(i1),dispose(){}}}}),r.languages.registerFoldingRangeProvider("yaml",{async provideFoldingRanges(h){const g=await(await i.getWorker(h.uri)).getFoldingRanges(String(h.uri));return g?.map(m1)}}),r.languages.setLanguageConfiguration("yaml",{comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]}),r.languages.registerOnTypeFormattingEditProvider("yaml",{autoFormatTriggerCharacters:[`
`],async provideOnTypeFormattingEdits(h,m,g,x){const v=await(await i.getWorker(h.uri)).doDocumentOnTypeFormatting(String(h.uri),ni(m),g,g1(x));return v?.map(Mu)}}),r.languages.registerSelectionRangeProvider("yaml",{async provideSelectionRanges(h,m){const x=await(await i.getWorker(h.uri)).getSelectionRanges(String(h.uri),m.map(ni));return x?.map(k1)}})];return{dispose(){for(const h of f)h.dispose()},async update(h){i.updateCreateData(Object.assign(s,h)),await u.revalidate()}}}const N1="http://json-schema.org/draft-07/schema#",j1="https://spillwave.dev/schemas/hooks-config/v1.0",E1="RuleZ Hooks Configuration",T1="Configuration schema for RuleZ hooks.yaml files. Defines rules that intercept Claude Code tool calls to block dangerous operations, inject context, or run custom scripts.",_1="object",O1=["version"],L1=!1,P1={version:{type:"string",title:"Configuration Version",description:"The version of the hooks configuration format. Currently only '1.0' is supported.",enum:["1.0"],examples:["1.0"]},settings:{$ref:"#/definitions/HooksSettings"},rules:{type:"array",title:"Rules",description:"List of hook rules that define matchers and actions for intercepting Claude Code tool calls.",items:{$ref:"#/definitions/Rule"},examples:[[{name:"block-force-push",description:"Block force push to main/master branches",matchers:{tools:["Bash"],command_match:"git push.*(--force|-f).*(main|master)"},actions:{block:!0}}]]},hooks:{type:"array",title:"Hooks (alias for rules)",description:"Alias for the 'rules' property. Use either 'rules' or 'hooks', but not both. Each entry defines matchers and actions for intercepting Claude Code tool calls.",items:{$ref:"#/definitions/Rule"}}},M1={HooksSettings:{type:"object",title:"Global Settings",description:"Global configuration settings that apply to all hook rules.",additionalProperties:!1,properties:{log_level:{type:"string",title:"Log Level",description:"Controls the verbosity of RuleZ log output. Use 'debug' for troubleshooting, 'info' for normal operation, 'warn' for important warnings only, or 'error' for critical errors only.",enum:["debug","info","warn","error"],default:"info",examples:["info","debug"]},fail_open:{type:"boolean",title:"Fail Open",description:"When true, if RuleZ encounters an internal error processing a hook, it allows the tool call to proceed rather than blocking it. When false, errors cause the tool call to be blocked. Recommended: true for development, false for strict security environments.",default:!0,examples:[!0,!1]},max_context_size:{type:"string",title:"Maximum Context Size",description:"Maximum size of injected context content. Accepts human-readable size strings like '4KB', '1MB'. Limits how much text can be injected into Claude's context via inject actions.",examples:["4KB","8KB","1MB"],pattern:"^\\d+\\s*(B|KB|MB|GB)$"}}},Rule:{type:"object",title:"Hook Rule",description:"A single hook rule that matches tool calls based on matchers and performs actions when matched. Rules are evaluated in order; the first matching rule with a block action stops further evaluation.",required:["name","matchers","actions"],additionalProperties:!1,properties:{name:{type:"string",title:"Rule Name",description:"A unique, descriptive identifier for this rule. Use kebab-case naming convention (e.g., 'block-force-push', 'inject-python-context').",pattern:"^[a-zA-Z][a-zA-Z0-9_-]*$",examples:["block-force-push","inject-python-context","log-file-writes","block-rm-rf"]},description:{type:"string",title:"Rule Description",description:"A human-readable description of what this rule does and why it exists. Shown in logs and the RuleZ UI.",examples:["Block force push to main/master branches","Inject Python best practices context when editing .py files"]},enabled:{type:"boolean",title:"Enabled",description:"Whether this rule is active. Set to false to temporarily disable a rule without removing it from the configuration.",default:!0},event:{type:"string",title:"Hook Event Type",description:"The Claude Code hook event that triggers this rule. PreToolUse fires before a tool executes, PostToolUse fires after, and other events correspond to specific Claude Code lifecycle points.",enum:["PreToolUse","PostToolUse","PermissionRequest","UserPromptSubmit","SessionStart","SessionEnd","PreCompact"],default:"PreToolUse",examples:["PreToolUse","PostToolUse"]},matchers:{$ref:"#/definitions/RuleMatcher"},actions:{$ref:"#/definitions/RuleAction"}}},RuleMatcher:{type:"object",title:"Rule Matchers",description:"Conditions that determine when a rule fires. All specified matchers must match (AND logic). At least one matcher should be specified for the rule to be useful.",additionalProperties:!1,properties:{tools:{type:"array",title:"Tool Names",description:"List of Claude Code tool names to match against. The rule fires only when one of these tools is invoked. Uses OR logic: matching any listed tool is sufficient.",items:{type:"string",enum:["Bash","Read","Write","Edit","Glob","Grep","WebFetch","WebSearch","Task","NotebookEdit"]},uniqueItems:!0,examples:[["Bash"],["Write","Edit"],["Bash","Write","Edit"]]},extensions:{type:"array",title:"File Extensions",description:"List of file extensions to match against the tool's target file path. Include the leading dot. Uses OR logic: matching any listed extension is sufficient.",items:{type:"string",pattern:"^\\.[a-zA-Z0-9]+$"},uniqueItems:!0,examples:[[".py"],[".ts",".tsx"],[".js",".jsx",".ts",".tsx"],[".rs"]]},directories:{type:"array",title:"Directory Paths",description:"List of directory paths to match against the tool's target file path. A match occurs if the file path starts with or contains any of these directories. Uses OR logic.",items:{type:"string"},uniqueItems:!0,examples:[["src/"],["src/","lib/"],[".env","secrets/"]]},command_match:{type:"string",title:"Command Pattern",description:"A regular expression pattern matched against the command string for Bash tool calls. Uses Rust regex syntax. The pattern is searched within the command (not anchored).",examples:["git push.*(--force|-f).*(main|master)","rm\\s+-rf\\s+/","curl.*\\|.*sh","npm publish"]},path_match:{type:"string",title:"Path Pattern",description:"A regular expression pattern matched against file paths for file-based tool calls (Write, Edit, Read, etc.). Uses Rust regex syntax. The pattern is searched within the path.",examples:["\\.env$","node_modules/","src/.*\\.test\\.ts$","\\.(key|pem|cert)$"]}}},RuleAction:{type:"object",title:"Rule Actions",description:"Actions to perform when all matchers match. Multiple actions can be specified on a single rule. Block actions prevent the tool call; inject actions add context; run actions execute scripts.",additionalProperties:!1,properties:{block:{type:"boolean",title:"Block Tool Call",description:"When true, prevents the matched tool call from executing. RuleZ returns exit code 2 to Claude Code, which interprets this as a blocked operation. The tool call is not performed.",examples:[!0]},inject:{title:"Inject Context",description:"Text content to inject into Claude's context when the rule matches. Can be a single string or an array of strings (which are joined with newlines). Use this to provide guidelines, best practices, or project-specific instructions.",oneOf:[{type:"string",examples:["Follow PEP 8 style guidelines","Use async/await for all I/O operations"]},{type:"array",items:{type:"string"},examples:[["Follow PEP 8 style guidelines","Use type hints for all function parameters","Add docstrings to all public functions"]]}]},run:{type:"string",title:"Run Script",description:"A shell command or path to a script to execute when the rule matches. The script receives the tool call event as JSON on stdin and can output context or validation results on stdout. A non-zero exit code from the script blocks the tool call.",examples:["./scripts/validate-commit.sh","python scripts/check-imports.py","echo 'Tool call intercepted'"]},block_if_match:{type:"string",title:"Conditional Block Pattern",description:"A regular expression pattern. If specified, the tool call is blocked only if the run script's stdout matches this pattern. This enables conditional blocking based on dynamic script output.",examples:["BLOCK","UNSAFE","violation found"]}}}},A1=[{version:"1.0",settings:{log_level:"info",fail_open:!0},rules:[{name:"block-force-push",description:"Block force push to main/master branches",matchers:{tools:["Bash"],command_match:"git push.*(--force|-f).*(main|master)"},actions:{block:!0}},{name:"inject-python-context",description:"Inject Python best practices context",matchers:{tools:["Write","Edit"],extensions:[".py"]},actions:{inject:"Follow PEP 8 style guidelines"}}]}],I1={$schema:N1,$id:j1,title:E1,description:T1,type:_1,required:O1,additionalProperties:L1,properties:P1,definitions:M1,examples:A1};function R1(r){return C1(r,{enableSchemaRequest:!1,schemas:[{uri:"https://spillwave.dev/schemas/hooks-config/v1.0",fileMatch:["*"],schema:I1}]})}const qu=Symbol.for("yaml.alias"),Au=Symbol.for("yaml.document"),qn=Symbol.for("yaml.map"),Rp=Symbol.for("yaml.pair"),nn=Symbol.for("yaml.scalar"),fs=Symbol.for("yaml.seq"),Mt=Symbol.for("yaml.node.type"),yr=r=>!!r&&typeof r=="object"&&r[Mt]===qu,al=r=>!!r&&typeof r=="object"&&r[Mt]===Au,ki=r=>!!r&&typeof r=="object"&&r[Mt]===qn,$e=r=>!!r&&typeof r=="object"&&r[Mt]===Rp,Ee=r=>!!r&&typeof r=="object"&&r[Mt]===nn,Si=r=>!!r&&typeof r=="object"&&r[Mt]===fs;function De(r){if(r&&typeof r=="object")switch(r[Mt]){case qn:case fs:return!0}return!1}function ze(r){if(r&&typeof r=="object")switch(r[Mt]){case qu:case qn:case nn:case fs:return!0}return!1}const Fp=r=>(Ee(r)||De(r))&&!!r.anchor,lr=Symbol("break visit"),F1=Symbol("skip children"),ci=Symbol("remove node");function ds(r,n){const s=D1(n);al(r)?Qr(null,r.contents,s,Object.freeze([r]))===ci&&(r.contents=null):Qr(null,r,s,Object.freeze([]))}ds.BREAK=lr;ds.SKIP=F1;ds.REMOVE=ci;function Qr(r,n,s,i){const l=z1(r,n,s,i);if(ze(l)||$e(l))return $1(r,i,l),Qr(r,l,s,i);if(typeof l!="symbol"){if(De(n)){i=Object.freeze(i.concat(n));for(let u=0;u<n.items.length;++u){const f=Qr(u,n.items[u],s,i);if(typeof f=="number")u=f-1;else{if(f===lr)return lr;f===ci&&(n.items.splice(u,1),u-=1)}}}else if($e(n)){i=Object.freeze(i.concat(n));const u=Qr("key",n.key,s,i);if(u===lr)return lr;u===ci&&(n.key=null);const f=Qr("value",n.value,s,i);if(f===lr)return lr;f===ci&&(n.value=null)}}return l}function D1(r){return typeof r=="object"&&(r.Collection||r.Node||r.Value)?Object.assign({Alias:r.Node,Map:r.Node,Scalar:r.Node,Seq:r.Node},r.Value&&{Map:r.Value,Scalar:r.Value,Seq:r.Value},r.Collection&&{Map:r.Collection,Seq:r.Collection},r):r}function z1(r,n,s,i){if(typeof s=="function")return s(r,n,i);if(ki(n))return s.Map?.(r,n,i);if(Si(n))return s.Seq?.(r,n,i);if($e(n))return s.Pair?.(r,n,i);if(Ee(n))return s.Scalar?.(r,n,i);if(yr(n))return s.Alias?.(r,n,i)}function $1(r,n,s){const i=n[n.length-1];if(De(i))i.items[r]=s;else if($e(i))r==="key"?i.key=s:i.value=s;else if(al(i))i.contents=s;else{const l=yr(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${l} parent`)}}const B1={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},U1=r=>r.replace(/[!,[\]{}]/g,n=>B1[n]);class lt{constructor(n,s){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},lt.defaultYaml,n),this.tags=Object.assign({},lt.defaultTags,s)}clone(){const n=new lt(this.yaml,this.tags);return n.docStart=this.docStart,n}atDocument(){const n=new lt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:lt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},lt.defaultTags);break}return n}add(n,s){this.atNextDocument&&(this.yaml={explicit:lt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},lt.defaultTags),this.atNextDocument=!1);const i=n.trim().split(/[ \t]+/),l=i.shift();switch(l){case"%TAG":{if(i.length!==2&&(s(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;const[u,f]=i;return this.tags[u]=f,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return s(0,"%YAML directive should contain exactly one part"),!1;const[u]=i;if(u==="1.1"||u==="1.2")return this.yaml.version=u,!0;{const f=/^\d+\.\d+$/.test(u);return s(6,`Unsupported YAML version ${u}`,f),!1}}default:return s(0,`Unknown directive ${l}`,!0),!1}}tagName(n,s){if(n==="!")return"!";if(n[0]!=="!")return s(`Not a valid tag: ${n}`),null;if(n[1]==="<"){const f=n.slice(2,-1);return f==="!"||f==="!!"?(s(`Verbatim tags aren't resolved, so ${n} is invalid.`),null):(n[n.length-1]!==">"&&s("Verbatim tags must end with a >"),f)}const[,i,l]=n.match(/^(.*!)([^!]*)$/s);l||s(`The ${n} tag has no suffix`);const u=this.tags[i];if(u)try{return u+decodeURIComponent(l)}catch(f){return s(String(f)),null}return i==="!"?n:(s(`Could not resolve tag: ${n}`),null)}tagString(n){for(const[s,i]of Object.entries(this.tags))if(n.startsWith(i))return s+U1(n.substring(i.length));return n[0]==="!"?n:`!<${n}>`}toString(n){const s=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);let l;if(n&&i.length>0&&ze(n.contents)){const u={};ds(n.contents,(f,h)=>{ze(h)&&h.tag&&(u[h.tag]=!0)}),l=Object.keys(u)}else l=[];for(const[u,f]of i)u==="!!"&&f==="tag:yaml.org,2002:"||(!n||l.some(h=>h.startsWith(f)))&&s.push(`%TAG ${u} ${f}`);return s.join(`
`)}}lt.defaultYaml={explicit:!1,version:"1.2"};lt.defaultTags={"!!":"tag:yaml.org,2002:"};function Dp(r){if(/[\x00-\x19\s,[\]{}]/.test(r)){const s=`Anchor must not contain whitespace or control characters: ${JSON.stringify(r)}`;throw new Error(s)}return!0}function zp(r){const n=new Set;return ds(r,{Value(s,i){i.anchor&&n.add(i.anchor)}}),n}function $p(r,n){for(let s=1;;++s){const i=`${r}${s}`;if(!n.has(i))return i}}function V1(r,n){const s=[],i=new Map;let l=null;return{onAnchor:u=>{s.push(u),l??(l=zp(r));const f=$p(n,l);return l.add(f),f},setAnchors:()=>{for(const u of s){const f=i.get(u);if(typeof f=="object"&&f.anchor&&(Ee(f.node)||De(f.node)))f.node.anchor=f.anchor;else{const h=new Error("Failed to resolve repeated object (this should not happen)");throw h.source=u,h}}},sourceObjects:i}}function Gr(r,n,s,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let l=0,u=i.length;l<u;++l){const f=i[l],h=Gr(r,i,String(l),f);h===void 0?delete i[l]:h!==f&&(i[l]=h)}else if(i instanceof Map)for(const l of Array.from(i.keys())){const u=i.get(l),f=Gr(r,i,l,u);f===void 0?i.delete(l):f!==u&&i.set(l,f)}else if(i instanceof Set)for(const l of Array.from(i)){const u=Gr(r,i,l,l);u===void 0?i.delete(l):u!==l&&(i.delete(l),i.add(u))}else for(const[l,u]of Object.entries(i)){const f=Gr(r,i,l,u);f===void 0?delete i[l]:f!==u&&(i[l]=f)}return r.call(n,s,i)}function Pt(r,n,s){if(Array.isArray(r))return r.map((i,l)=>Pt(i,String(l),s));if(r&&typeof r.toJSON=="function"){if(!s||!Fp(r))return r.toJSON(n,s);const i={aliasCount:0,count:1,res:void 0};s.anchors.set(r,i),s.onCreate=u=>{i.res=u,delete s.onCreate};const l=r.toJSON(n,s);return s.onCreate&&s.onCreate(l),l}return typeof r=="bigint"&&!s?.keep?Number(r):r}class Hu{constructor(n){Object.defineProperty(this,Mt,{value:n})}clone(){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(n.range=this.range.slice()),n}toJS(n,{mapAsMap:s,maxAliasCount:i,onAnchor:l,reviver:u}={}){if(!al(n))throw new TypeError("A document argument is required");const f={anchors:new Map,doc:n,keep:!0,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},h=Pt(this,"",f);if(typeof l=="function")for(const{count:m,res:g}of f.anchors.values())l(g,m);return typeof u=="function"?Gr(u,{"":h},"",h):h}}class Qu extends Hu{constructor(n){super(qu),this.source=n,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(n,s){let i;s?.aliasResolveCache?i=s.aliasResolveCache:(i=[],ds(n,{Node:(u,f)=>{(yr(f)||Fp(f))&&i.push(f)}}),s&&(s.aliasResolveCache=i));let l;for(const u of i){if(u===this)break;u.anchor===this.source&&(l=u)}return l}toJSON(n,s){if(!s)return{source:this.source};const{anchors:i,doc:l,maxAliasCount:u}=s,f=this.resolve(l,s);if(!f){const m=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(m)}let h=i.get(f);if(h||(Pt(f,null,s),h=i.get(f)),h?.res===void 0){const m="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(m)}if(u>=0&&(h.count+=1,h.aliasCount===0&&(h.aliasCount=Ho(l,f,i)),h.count*h.aliasCount>u)){const m="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(m)}return h.res}toString(n,s,i){const l=`*${this.source}`;if(n){if(Dp(this.source),n.options.verifyAliasOrder&&!n.anchors.has(this.source)){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(u)}if(n.implicitKey)return`${l} `}return l}}function Ho(r,n,s){if(yr(n)){const i=n.resolve(r),l=s&&i&&s.get(i);return l?l.count*l.aliasCount:0}else if(De(n)){let i=0;for(const l of n.items){const u=Ho(r,l,s);u>i&&(i=u)}return i}else if($e(n)){const i=Ho(r,n.key,s),l=Ho(r,n.value,s);return Math.max(i,l)}return 1}const Bp=r=>!r||typeof r!="function"&&typeof r!="object";class ge extends Hu{constructor(n){super(nn),this.value=n}toJSON(n,s){return s?.keep?this.value:Pt(this.value,n,s)}toString(){return String(this.value)}}ge.BLOCK_FOLDED="BLOCK_FOLDED";ge.BLOCK_LITERAL="BLOCK_LITERAL";ge.PLAIN="PLAIN";ge.QUOTE_DOUBLE="QUOTE_DOUBLE";ge.QUOTE_SINGLE="QUOTE_SINGLE";const W1="tag:yaml.org,2002:";function K1(r,n,s){if(n){const i=s.filter(u=>u.tag===n),l=i.find(u=>!u.format)??i[0];if(!l)throw new Error(`Tag ${n} not found`);return l}return s.find(i=>i.identify?.(r)&&!i.format)}function mi(r,n,s){if(al(r)&&(r=r.contents),ze(r))return r;if($e(r)){const w=s.schema[qn].createNode?.(s.schema,null,s);return w.items.push(r),w}(r instanceof String||r instanceof Number||r instanceof Boolean||typeof BigInt<"u"&&r instanceof BigInt)&&(r=r.valueOf());const{aliasDuplicateObjects:i,onAnchor:l,onTagObj:u,schema:f,sourceObjects:h}=s;let m;if(i&&r&&typeof r=="object"){if(m=h.get(r),m)return m.anchor??(m.anchor=l(r)),new Qu(m.anchor);m={anchor:null,node:null},h.set(r,m)}n?.startsWith("!!")&&(n=W1+n.slice(2));let g=K1(r,n,f.tags);if(!g){if(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),!r||typeof r!="object"){const w=new ge(r);return m&&(m.node=w),w}g=r instanceof Map?f[qn]:Symbol.iterator in Object(r)?f[fs]:f[qn]}u&&(u(g),delete s.onTagObj);const x=g?.createNode?g.createNode(s.schema,r,s):typeof g?.nodeClass?.from=="function"?g.nodeClass.from(s.schema,r,s):new ge(r);return n?x.tag=n:g.default||(x.tag=g.tag),m&&(m.node=x),x}function Zo(r,n,s){let i=s;for(let l=n.length-1;l>=0;--l){const u=n[l];if(typeof u=="number"&&Number.isInteger(u)&&u>=0){const f=[];f[u]=i,i=f}else i=new Map([[u,i]])}return mi(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:r,sourceObjects:new Map})}const oi=r=>r==null||typeof r=="object"&&!!r[Symbol.iterator]().next().done;class Up extends Hu{constructor(n,s){super(n),Object.defineProperty(this,"schema",{value:s,configurable:!0,enumerable:!1,writable:!0})}clone(n){const s=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return n&&(s.schema=n),s.items=s.items.map(i=>ze(i)||$e(i)?i.clone(n):i),this.range&&(s.range=this.range.slice()),s}addIn(n,s){if(oi(n))this.add(s);else{const[i,...l]=n,u=this.get(i,!0);if(De(u))u.addIn(l,s);else if(u===void 0&&this.schema)this.set(i,Zo(this.schema,l,s));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${l}`)}}deleteIn(n){const[s,...i]=n;if(i.length===0)return this.delete(s);const l=this.get(s,!0);if(De(l))return l.deleteIn(i);throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}getIn(n,s){const[i,...l]=n,u=this.get(i,!0);return l.length===0?!s&&Ee(u)?u.value:u:De(u)?u.getIn(l,s):void 0}hasAllNullValues(n){return this.items.every(s=>{if(!$e(s))return!1;const i=s.value;return i==null||n&&Ee(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(n){const[s,...i]=n;if(i.length===0)return this.has(s);const l=this.get(s,!0);return De(l)?l.hasIn(i):!1}setIn(n,s){const[i,...l]=n;if(l.length===0)this.set(i,s);else{const u=this.get(i,!0);if(De(u))u.setIn(l,s);else if(u===void 0&&this.schema)this.set(i,Zo(this.schema,l,s));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${l}`)}}}const q1=r=>r.replace(/^(?!$)(?: $)?/gm,"#");function gn(r,n){return/^\n+$/.test(r)?r.substring(1):n?r.replace(/^(?! *$)/gm,n):r}const ar=(r,n,s)=>r.endsWith(`
`)?gn(s,n):s.includes(`
`)?`
`+gn(s,n):(r.endsWith(" ")?"":" ")+s,Vp="flow",Iu="block",Qo="quoted";function ul(r,n,s="flow",{indentAtStart:i,lineWidth:l=80,minContentWidth:u=20,onFold:f,onOverflow:h}={}){if(!l||l<0)return r;l<u&&(u=0);const m=Math.max(1+u,1+l-n.length);if(r.length<=m)return r;const g=[],x={};let w=l-n.length;typeof i=="number"&&(i>l-Math.max(2,u)?g.push(0):w=l-i);let v,C,E=!1,S=-1,T=-1,K=-1;s===Iu&&(S=Mh(r,S,n.length),S!==-1&&(w=S+m));for(let J;J=r[S+=1];){if(s===Qo&&J==="\\"){switch(T=S,r[S+1]){case"x":S+=3;break;case"u":S+=5;break;case"U":S+=9;break;default:S+=1}K=S}if(J===`
`)s===Iu&&(S=Mh(r,S,n.length)),w=S+n.length+m,v=void 0;else{if(J===" "&&C&&C!==" "&&C!==`
`&&C!=="	"){const U=r[S+1];U&&U!==" "&&U!==`
`&&U!=="	"&&(v=S)}if(S>=w)if(v)g.push(v),w=v+m,v=void 0;else if(s===Qo){for(;C===" "||C==="	";)C=J,J=r[S+=1],E=!0;const U=S>K+1?S-2:T-1;if(x[U])return r;g.push(U),x[U]=!0,w=U+m,v=void 0}else E=!0}C=J}if(E&&h&&h(),g.length===0)return r;f&&f();let B=r.slice(0,g[0]);for(let J=0;J<g.length;++J){const U=g[J],G=g[J+1]||r.length;U===0?B=`
${n}${r.slice(0,G)}`:(s===Qo&&x[U]&&(B+=`${r[U]}\\`),B+=`
${n}${r.slice(U+1,G)}`)}return B}function Mh(r,n,s){let i=n,l=n+1,u=r[l];for(;u===" "||u==="	";)if(n<l+s)u=r[++n];else{do u=r[++n];while(u&&u!==`
`);i=n,l=n+1,u=r[l]}return i}const cl=(r,n)=>({indentAtStart:n?r.indent.length:r.indentAtStart,lineWidth:r.options.lineWidth,minContentWidth:r.options.minContentWidth}),fl=r=>/^(%|---|\.\.\.)/m.test(r);function H1(r,n,s){if(!n||n<0)return!1;const i=n-s,l=r.length;if(l<=i)return!1;for(let u=0,f=0;u<l;++u)if(r[u]===`
`){if(u-f>i)return!0;if(f=u+1,l-f<=i)return!1}return!0}function fi(r,n){const s=JSON.stringify(r);if(n.options.doubleQuotedAsJSON)return s;const{implicitKey:i}=n,l=n.options.doubleQuotedMinMultiLineLength,u=n.indent||(fl(r)?"  ":"");let f="",h=0;for(let m=0,g=s[m];g;g=s[++m])if(g===" "&&s[m+1]==="\\"&&s[m+2]==="n"&&(f+=s.slice(h,m)+"\\ ",m+=1,h=m,g="\\"),g==="\\")switch(s[m+1]){case"u":{f+=s.slice(h,m);const x=s.substr(m+2,4);switch(x){case"0000":f+="\\0";break;case"0007":f+="\\a";break;case"000b":f+="\\v";break;case"001b":f+="\\e";break;case"0085":f+="\\N";break;case"00a0":f+="\\_";break;case"2028":f+="\\L";break;case"2029":f+="\\P";break;default:x.substr(0,2)==="00"?f+="\\x"+x.substr(2):f+=s.substr(m,6)}m+=5,h=m+1}break;case"n":if(i||s[m+2]==='"'||s.length<l)m+=1;else{for(f+=s.slice(h,m)+`

`;s[m+2]==="\\"&&s[m+3]==="n"&&s[m+4]!=='"';)f+=`
`,m+=2;f+=u,s[m+2]===" "&&(f+="\\"),m+=1,h=m+1}break;default:m+=1}return f=h?f+s.slice(h):s,i?f:ul(f,u,Qo,cl(n,!1))}function Ru(r,n){if(n.options.singleQuote===!1||n.implicitKey&&r.includes(`
`)||/[ \t]\n|\n[ \t]/.test(r))return fi(r,n);const s=n.indent||(fl(r)?"  ":""),i="'"+r.replace(/'/g,"''").replace(/\n+/g,`$&
${s}`)+"'";return n.implicitKey?i:ul(i,s,Vp,cl(n,!1))}function Yr(r,n){const{singleQuote:s}=n.options;let i;if(s===!1)i=fi;else{const l=r.includes('"'),u=r.includes("'");l&&!u?i=Ru:u&&!l?i=fi:i=s?Ru:fi}return i(r,n)}let Fu;try{Fu=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Fu=/\n+(?!\n|$)/g}function Go({comment:r,type:n,value:s},i,l,u){const{blockQuote:f,commentString:h,lineWidth:m}=i.options;if(!f||/\n[\t ]+$/.test(s))return Yr(s,i);const g=i.indent||(i.forceBlockIndent||fl(s)?"  ":""),x=f==="literal"?!0:f==="folded"||n===ge.BLOCK_FOLDED?!1:n===ge.BLOCK_LITERAL?!0:!H1(s,m,g.length);if(!s)return x?`|
`:`>
`;let w,v;for(v=s.length;v>0;--v){const G=s[v-1];if(G!==`
`&&G!=="	"&&G!==" ")break}let C=s.substring(v);const E=C.indexOf(`
`);E===-1?w="-":s===C||E!==C.length-1?(w="+",u&&u()):w="",C&&(s=s.slice(0,-C.length),C[C.length-1]===`
`&&(C=C.slice(0,-1)),C=C.replace(Fu,`$&${g}`));let S=!1,T,K=-1;for(T=0;T<s.length;++T){const G=s[T];if(G===" ")S=!0;else if(G===`
`)K=T;else break}let B=s.substring(0,K<T?K+1:T);B&&(s=s.substring(B.length),B=B.replace(/\n+/g,`$&${g}`));let U=(S?g?"2":"1":"")+w;if(r&&(U+=" "+h(r.replace(/ ?[\r\n]+/g," ")),l&&l()),!x){const G=s.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);let q=!1;const se=cl(i,!0);f!=="folded"&&n!==ge.BLOCK_FOLDED&&(se.onOverflow=()=>{q=!0});const ee=ul(`${B}${G}${C}`,g,Iu,se);if(!q)return`>${U}
${g}${ee}`}return s=s.replace(/\n+/g,`$&${g}`),`|${U}
${g}${B}${s}${C}`}function Q1(r,n,s,i){const{type:l,value:u}=r,{actualString:f,implicitKey:h,indent:m,indentStep:g,inFlow:x}=n;if(h&&u.includes(`
`)||x&&/[[\]{},]/.test(u))return Yr(u,n);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(u))return h||x||!u.includes(`
`)?Yr(u,n):Go(r,n,s,i);if(!h&&!x&&l!==ge.PLAIN&&u.includes(`
`))return Go(r,n,s,i);if(fl(u)){if(m==="")return n.forceBlockIndent=!0,Go(r,n,s,i);if(h&&m===g)return Yr(u,n)}const w=u.replace(/\n+/g,`$&
${m}`);if(f){const v=S=>S.default&&S.tag!=="tag:yaml.org,2002:str"&&S.test?.test(w),{compat:C,tags:E}=n.doc.schema;if(E.some(v)||C?.some(v))return Yr(u,n)}return h?w:ul(w,m,Vp,cl(n,!1))}function Gu(r,n,s,i){const{implicitKey:l,inFlow:u}=n,f=typeof r.value=="string"?r:Object.assign({},r,{value:String(r.value)});let{type:h}=r;h!==ge.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(h=ge.QUOTE_DOUBLE);const m=x=>{switch(x){case ge.BLOCK_FOLDED:case ge.BLOCK_LITERAL:return l||u?Yr(f.value,n):Go(f,n,s,i);case ge.QUOTE_DOUBLE:return fi(f.value,n);case ge.QUOTE_SINGLE:return Ru(f.value,n);case ge.PLAIN:return Q1(f,n,s,i);default:return null}};let g=m(h);if(g===null){const{defaultKeyType:x,defaultStringType:w}=n.options,v=l&&x||w;if(g=m(v),g===null)throw new Error(`Unsupported default string type ${v}`)}return g}function Wp(r,n){const s=Object.assign({blockQuote:!0,commentString:q1,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},r.schema.toStringOptions,n);let i;switch(s.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:r,flowCollectionPadding:s.flowCollectionPadding?" ":"",indent:"",indentStep:typeof s.indent=="number"?" ".repeat(s.indent):"  ",inFlow:i,options:s}}function G1(r,n){if(n.tag){const l=r.filter(u=>u.tag===n.tag);if(l.length>0)return l.find(u=>u.format===n.format)??l[0]}let s,i;if(Ee(n)){i=n.value;let l=r.filter(u=>u.identify?.(i));if(l.length>1){const u=l.filter(f=>f.test);u.length>0&&(l=u)}s=l.find(u=>u.format===n.format)??l.find(u=>!u.format)}else i=n,s=r.find(l=>l.nodeClass&&i instanceof l.nodeClass);if(!s){const l=i?.constructor?.name??(i===null?"null":typeof i);throw new Error(`Tag not resolved for ${l} value`)}return s}function Y1(r,n,{anchors:s,doc:i}){if(!i.directives)return"";const l=[],u=(Ee(r)||De(r))&&r.anchor;u&&Dp(u)&&(s.add(u),l.push(`&${u}`));const f=r.tag??(n.default?null:n.tag);return f&&l.push(i.directives.tagString(f)),l.join(" ")}function as(r,n,s,i){if($e(r))return r.toString(n,s,i);if(yr(r)){if(n.doc.directives)return r.toString(n);if(n.resolvedAliases?.has(r))throw new TypeError("Cannot stringify circular structure without alias nodes");n.resolvedAliases?n.resolvedAliases.add(r):n.resolvedAliases=new Set([r]),r=r.resolve(n.doc)}let l;const u=ze(r)?r:n.doc.createNode(r,{onTagObj:m=>l=m});l??(l=G1(n.doc.schema.tags,u));const f=Y1(u,l,n);f.length>0&&(n.indentAtStart=(n.indentAtStart??0)+f.length+1);const h=typeof l.stringify=="function"?l.stringify(u,n,s,i):Ee(u)?Gu(u,n,s,i):u.toString(n,s,i);return f?Ee(u)||h[0]==="{"||h[0]==="["?`${f} ${h}`:`${f}
${n.indent}${h}`:h}function J1({key:r,value:n},s,i,l){const{allNullValues:u,doc:f,indent:h,indentStep:m,options:{commentString:g,indentSeq:x,simpleKeys:w}}=s;let v=ze(r)&&r.comment||null;if(w){if(v)throw new Error("With simple keys, key nodes cannot have comments");if(De(r)||!ze(r)&&typeof r=="object"){const se="With simple keys, collection cannot be used as a key value";throw new Error(se)}}let C=!w&&(!r||v&&n==null&&!s.inFlow||De(r)||(Ee(r)?r.type===ge.BLOCK_FOLDED||r.type===ge.BLOCK_LITERAL:typeof r=="object"));s=Object.assign({},s,{allNullValues:!1,implicitKey:!C&&(w||!u),indent:h+m});let E=!1,S=!1,T=as(r,s,()=>E=!0,()=>S=!0);if(!C&&!s.inFlow&&T.length>1024){if(w)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");C=!0}if(s.inFlow){if(u||n==null)return E&&i&&i(),T===""?"?":C?`? ${T}`:T}else if(u&&!w||n==null&&C)return T=`? ${T}`,v&&!E?T+=ar(T,s.indent,g(v)):S&&l&&l(),T;E&&(v=null),C?(v&&(T+=ar(T,s.indent,g(v))),T=`? ${T}
${h}:`):(T=`${T}:`,v&&(T+=ar(T,s.indent,g(v))));let K,B,J;ze(n)?(K=!!n.spaceBefore,B=n.commentBefore,J=n.comment):(K=!1,B=null,J=null,n&&typeof n=="object"&&(n=f.createNode(n))),s.implicitKey=!1,!C&&!v&&Ee(n)&&(s.indentAtStart=T.length+1),S=!1,!x&&m.length>=2&&!s.inFlow&&!C&&Si(n)&&!n.flow&&!n.tag&&!n.anchor&&(s.indent=s.indent.substring(2));let U=!1;const G=as(n,s,()=>U=!0,()=>S=!0);let q=" ";if(v||K||B){if(q=K?`
`:"",B){const se=g(B);q+=`
${gn(se,s.indent)}`}G===""&&!s.inFlow?q===`
`&&J&&(q=`

`):q+=`
${s.indent}`}else if(!C&&De(n)){const se=G[0],ee=G.indexOf(`
`),fe=ee!==-1,ae=s.inFlow??n.flow??n.items.length===0;if(fe||!ae){let Q=!1;if(fe&&(se==="&"||se==="!")){let L=G.indexOf(" ");se==="&"&&L!==-1&&L<ee&&G[L+1]==="!"&&(L=G.indexOf(" ",L+1)),(L===-1||ee<L)&&(Q=!0)}Q||(q=`
${s.indent}`)}}else(G===""||G[0]===`
`)&&(q="");return T+=q+G,s.inFlow?U&&i&&i():J&&!U?T+=ar(T,s.indent,g(J)):S&&l&&l(),T}function Z1(r,n){(r==="debug"||r==="warn")&&console.warn(n)}const Bo="<<",yn={identify:r=>r===Bo||typeof r=="symbol"&&r.description===Bo,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new ge(Symbol(Bo)),{addToJSMap:Kp}),stringify:()=>Bo},X1=(r,n)=>(yn.identify(n)||Ee(n)&&(!n.type||n.type===ge.PLAIN)&&yn.identify(n.value))&&r?.doc.schema.tags.some(s=>s.tag===yn.tag&&s.default);function Kp(r,n,s){if(s=r&&yr(s)?s.resolve(r.doc):s,Si(s))for(const i of s.items)ku(r,n,i);else if(Array.isArray(s))for(const i of s)ku(r,n,i);else ku(r,n,s)}function ku(r,n,s){const i=r&&yr(s)?s.resolve(r.doc):s;if(!ki(i))throw new Error("Merge sources must be maps or map aliases");const l=i.toJSON(null,r,Map);for(const[u,f]of l)n instanceof Map?n.has(u)||n.set(u,f):n instanceof Set?n.add(u):Object.prototype.hasOwnProperty.call(n,u)||Object.defineProperty(n,u,{value:f,writable:!0,enumerable:!0,configurable:!0});return n}function qp(r,n,{key:s,value:i}){if(ze(s)&&s.addToJSMap)s.addToJSMap(r,n,i);else if(X1(r,s))Kp(r,n,i);else{const l=Pt(s,"",r);if(n instanceof Map)n.set(l,Pt(i,l,r));else if(n instanceof Set)n.add(l);else{const u=ex(s,l,r),f=Pt(i,u,r);u in n?Object.defineProperty(n,u,{value:f,writable:!0,enumerable:!0,configurable:!0}):n[u]=f}}return n}function ex(r,n,s){if(n===null)return"";if(typeof n!="object")return String(n);if(ze(r)&&s?.doc){const i=Wp(s.doc,{});i.anchors=new Set;for(const u of s.anchors.keys())i.anchors.add(u.anchor);i.inFlow=!0,i.inStringifyKey=!0;const l=r.toString(i);if(!s.mapKeyWarned){let u=JSON.stringify(l);u.length>40&&(u=u.substring(0,36)+'..."'),Z1(s.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${u}. Set mapAsMap: true to use object keys.`),s.mapKeyWarned=!0}return l}return JSON.stringify(n)}function Yu(r,n,s){const i=mi(r,void 0,s),l=mi(n,void 0,s);return new ct(i,l)}class ct{constructor(n,s=null){Object.defineProperty(this,Mt,{value:Rp}),this.key=n,this.value=s}clone(n){let{key:s,value:i}=this;return ze(s)&&(s=s.clone(n)),ze(i)&&(i=i.clone(n)),new ct(s,i)}toJSON(n,s){const i=s?.mapAsMap?new Map:{};return qp(s,i,this)}toString(n,s,i){return n?.doc?J1(this,n,s,i):JSON.stringify(this)}}function Hp(r,n,s){return(n.inFlow??r.flow?nx:tx)(r,n,s)}function tx({comment:r,items:n},s,{blockItemPrefix:i,flowChars:l,itemIndent:u,onChompKeep:f,onComment:h}){const{indent:m,options:{commentString:g}}=s,x=Object.assign({},s,{indent:u,type:null});let w=!1;const v=[];for(let E=0;E<n.length;++E){const S=n[E];let T=null;if(ze(S))!w&&S.spaceBefore&&v.push(""),Xo(s,v,S.commentBefore,w),S.comment&&(T=S.comment);else if($e(S)){const B=ze(S.key)?S.key:null;B&&(!w&&B.spaceBefore&&v.push(""),Xo(s,v,B.commentBefore,w))}w=!1;let K=as(S,x,()=>T=null,()=>w=!0);T&&(K+=ar(K,u,g(T))),w&&T&&(w=!1),v.push(i+K)}let C;if(v.length===0)C=l.start+l.end;else{C=v[0];for(let E=1;E<v.length;++E){const S=v[E];C+=S?`
${m}${S}`:`
`}}return r?(C+=`
`+gn(g(r),m),h&&h()):w&&f&&f(),C}function nx({items:r},n,{flowChars:s,itemIndent:i}){const{indent:l,indentStep:u,flowCollectionPadding:f,options:{commentString:h}}=n;i+=u;const m=Object.assign({},n,{indent:i,inFlow:!0,type:null});let g=!1,x=0;const w=[];for(let E=0;E<r.length;++E){const S=r[E];let T=null;if(ze(S))S.spaceBefore&&w.push(""),Xo(n,w,S.commentBefore,!1),S.comment&&(T=S.comment);else if($e(S)){const B=ze(S.key)?S.key:null;B&&(B.spaceBefore&&w.push(""),Xo(n,w,B.commentBefore,!1),B.comment&&(g=!0));const J=ze(S.value)?S.value:null;J?(J.comment&&(T=J.comment),J.commentBefore&&(g=!0)):S.value==null&&B?.comment&&(T=B.comment)}T&&(g=!0);let K=as(S,m,()=>T=null);E<r.length-1&&(K+=","),T&&(K+=ar(K,i,h(T))),!g&&(w.length>x||K.includes(`
`))&&(g=!0),w.push(K),x=w.length}const{start:v,end:C}=s;if(w.length===0)return v+C;if(!g){const E=w.reduce((S,T)=>S+T.length+2,2);g=n.options.lineWidth>0&&E>n.options.lineWidth}if(g){let E=v;for(const S of w)E+=S?`
${u}${l}${S}`:`
`;return`${E}
${l}${C}`}else return`${v}${f}${w.join(" ")}${f}${C}`}function Xo({indent:r,options:{commentString:n}},s,i,l){if(i&&l&&(i=i.replace(/^\n+/,"")),i){const u=gn(n(i),r);s.push(u.trimStart())}}function ur(r,n){const s=Ee(n)?n.value:n;for(const i of r)if($e(i)&&(i.key===n||i.key===s||Ee(i.key)&&i.key.value===s))return i}class Ot extends Up{static get tagName(){return"tag:yaml.org,2002:map"}constructor(n){super(qn,n),this.items=[]}static from(n,s,i){const{keepUndefined:l,replacer:u}=i,f=new this(n),h=(m,g)=>{if(typeof u=="function")g=u.call(s,m,g);else if(Array.isArray(u)&&!u.includes(m))return;(g!==void 0||l)&&f.items.push(Yu(m,g,i))};if(s instanceof Map)for(const[m,g]of s)h(m,g);else if(s&&typeof s=="object")for(const m of Object.keys(s))h(m,s[m]);return typeof n.sortMapEntries=="function"&&f.items.sort(n.sortMapEntries),f}add(n,s){let i;$e(n)?i=n:!n||typeof n!="object"||!("key"in n)?i=new ct(n,n?.value):i=new ct(n.key,n.value);const l=ur(this.items,i.key),u=this.schema?.sortMapEntries;if(l){if(!s)throw new Error(`Key ${i.key} already set`);Ee(l.value)&&Bp(i.value)?l.value.value=i.value:l.value=i.value}else if(u){const f=this.items.findIndex(h=>u(i,h)<0);f===-1?this.items.push(i):this.items.splice(f,0,i)}else this.items.push(i)}delete(n){const s=ur(this.items,n);return s?this.items.splice(this.items.indexOf(s),1).length>0:!1}get(n,s){const l=ur(this.items,n)?.value;return(!s&&Ee(l)?l.value:l)??void 0}has(n){return!!ur(this.items,n)}set(n,s){this.add(new ct(n,s),!0)}toJSON(n,s,i){const l=i?new i:s?.mapAsMap?new Map:{};s?.onCreate&&s.onCreate(l);for(const u of this.items)qp(s,l,u);return l}toString(n,s,i){if(!n)return JSON.stringify(this);for(const l of this.items)if(!$e(l))throw new Error(`Map items must all be pairs; found ${JSON.stringify(l)} instead`);return!n.allNullValues&&this.hasAllNullValues(!1)&&(n=Object.assign({},n,{allNullValues:!0})),Hp(this,n,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:n.indent||"",onChompKeep:i,onComment:s})}}const hs={collection:"map",default:!0,nodeClass:Ot,tag:"tag:yaml.org,2002:map",resolve(r,n){return ki(r)||n("Expected a mapping for this tag"),r},createNode:(r,n,s)=>Ot.from(r,n,s)};class gr extends Up{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(n){super(fs,n),this.items=[]}add(n){this.items.push(n)}delete(n){const s=Uo(n);return typeof s!="number"?!1:this.items.splice(s,1).length>0}get(n,s){const i=Uo(n);if(typeof i!="number")return;const l=this.items[i];return!s&&Ee(l)?l.value:l}has(n){const s=Uo(n);return typeof s=="number"&&s<this.items.length}set(n,s){const i=Uo(n);if(typeof i!="number")throw new Error(`Expected a valid index, not ${n}.`);const l=this.items[i];Ee(l)&&Bp(s)?l.value=s:this.items[i]=s}toJSON(n,s){const i=[];s?.onCreate&&s.onCreate(i);let l=0;for(const u of this.items)i.push(Pt(u,String(l++),s));return i}toString(n,s,i){return n?Hp(this,n,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(n.indent||"")+"  ",onChompKeep:i,onComment:s}):JSON.stringify(this)}static from(n,s,i){const{replacer:l}=i,u=new this(n);if(s&&Symbol.iterator in Object(s)){let f=0;for(let h of s){if(typeof l=="function"){const m=s instanceof Set?h:String(f++);h=l.call(s,m,h)}u.items.push(mi(h,void 0,i))}}return u}}function Uo(r){let n=Ee(r)?r.value:r;return n&&typeof n=="string"&&(n=Number(n)),typeof n=="number"&&Number.isInteger(n)&&n>=0?n:null}const ps={collection:"seq",default:!0,nodeClass:gr,tag:"tag:yaml.org,2002:seq",resolve(r,n){return Si(r)||n("Expected a sequence for this tag"),r},createNode:(r,n,s)=>gr.from(r,n,s)},dl={identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify(r,n,s,i){return n=Object.assign({actualString:!0},n),Gu(r,n,s,i)}},hl={identify:r=>r==null,createNode:()=>new ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ge(null),stringify:({source:r},n)=>typeof r=="string"&&hl.test.test(r)?r:n.options.nullStr},Ju={identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:r=>new ge(r[0]==="t"||r[0]==="T"),stringify({source:r,value:n},s){if(r&&Ju.test.test(r)){const i=r[0]==="t"||r[0]==="T";if(n===i)return r}return n?s.options.trueStr:s.options.falseStr}};function Ht({format:r,minFractionDigits:n,tag:s,value:i}){if(typeof i=="bigint")return String(i);const l=typeof i=="number"?i:Number(i);if(!isFinite(l))return isNaN(l)?".nan":l<0?"-.inf":".inf";let u=Object.is(i,-0)?"-0":JSON.stringify(i);if(!r&&n&&(!s||s==="tag:yaml.org,2002:float")&&/^\d/.test(u)){let f=u.indexOf(".");f<0&&(f=u.length,u+=".");let h=n-(u.length-f-1);for(;h-- >0;)u+="0"}return u}const Qp={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ht},Gp={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r),stringify(r){const n=Number(r.value);return isFinite(n)?n.toExponential():Ht(r)}},Yp={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(r){const n=new ge(parseFloat(r)),s=r.indexOf(".");return s!==-1&&r[r.length-1]==="0"&&(n.minFractionDigits=r.length-s-1),n},stringify:Ht},pl=r=>typeof r=="bigint"||Number.isInteger(r),Zu=(r,n,s,{intAsBigInt:i})=>i?BigInt(r):parseInt(r.substring(n),s);function Jp(r,n,s){const{value:i}=r;return pl(i)&&i>=0?s+i.toString(n):Ht(r)}const Zp={identify:r=>pl(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(r,n,s)=>Zu(r,2,8,s),stringify:r=>Jp(r,8,"0o")},Xp={identify:pl,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(r,n,s)=>Zu(r,0,10,s),stringify:Ht},em={identify:r=>pl(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(r,n,s)=>Zu(r,2,16,s),stringify:r=>Jp(r,16,"0x")},rx=[hs,ps,dl,hl,Ju,Zp,Xp,em,Qp,Gp,Yp];function Ah(r){return typeof r=="bigint"||Number.isInteger(r)}const Vo=({value:r})=>JSON.stringify(r),sx=[{identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify:Vo},{identify:r=>r==null,createNode:()=>new ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Vo},{identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:r=>r==="true",stringify:Vo},{identify:Ah,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(r,n,{intAsBigInt:s})=>s?BigInt(r):parseInt(r,10),stringify:({value:r})=>Ah(r)?r.toString():JSON.stringify(r)},{identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:r=>parseFloat(r),stringify:Vo}],ix={default:!0,tag:"",test:/^/,resolve(r,n){return n(`Unresolved plain scalar ${JSON.stringify(r)}`),r}},ox=[hs,ps].concat(sx,ix),Xu={identify:r=>r instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(r,n){if(typeof atob=="function"){const s=atob(r.replace(/[\n\r]/g,"")),i=new Uint8Array(s.length);for(let l=0;l<s.length;++l)i[l]=s.charCodeAt(l);return i}else return n("This environment does not support reading binary tags; either Buffer or atob is required"),r},stringify({comment:r,type:n,value:s},i,l,u){if(!s)return"";const f=s;let h;if(typeof btoa=="function"){let m="";for(let g=0;g<f.length;++g)m+=String.fromCharCode(f[g]);h=btoa(m)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(n??(n=ge.BLOCK_LITERAL),n!==ge.QUOTE_DOUBLE){const m=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),g=Math.ceil(h.length/m),x=new Array(g);for(let w=0,v=0;w<g;++w,v+=m)x[w]=h.substr(v,m);h=x.join(n===ge.BLOCK_LITERAL?`
`:" ")}return Gu({comment:r,type:n,value:h},i,l,u)}};function tm(r,n){if(Si(r))for(let s=0;s<r.items.length;++s){let i=r.items[s];if(!$e(i)){if(ki(i)){i.items.length>1&&n("Each pair must have its own sequence indicator");const l=i.items[0]||new ct(new ge(null));if(i.commentBefore&&(l.key.commentBefore=l.key.commentBefore?`${i.commentBefore}
${l.key.commentBefore}`:i.commentBefore),i.comment){const u=l.value??l.key;u.comment=u.comment?`${i.comment}
${u.comment}`:i.comment}i=l}r.items[s]=$e(i)?i:new ct(i)}}else n("Expected a sequence for this tag");return r}function nm(r,n,s){const{replacer:i}=s,l=new gr(r);l.tag="tag:yaml.org,2002:pairs";let u=0;if(n&&Symbol.iterator in Object(n))for(let f of n){typeof i=="function"&&(f=i.call(n,String(u++),f));let h,m;if(Array.isArray(f))if(f.length===2)h=f[0],m=f[1];else throw new TypeError(`Expected [key, value] tuple: ${f}`);else if(f&&f instanceof Object){const g=Object.keys(f);if(g.length===1)h=g[0],m=f[h];else throw new TypeError(`Expected tuple with one key, not ${g.length} keys`)}else h=f;l.items.push(Yu(h,m,s))}return l}const ec={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:tm,createNode:nm};class Zr extends gr{constructor(){super(),this.add=Ot.prototype.add.bind(this),this.delete=Ot.prototype.delete.bind(this),this.get=Ot.prototype.get.bind(this),this.has=Ot.prototype.has.bind(this),this.set=Ot.prototype.set.bind(this),this.tag=Zr.tag}toJSON(n,s){if(!s)return super.toJSON(n);const i=new Map;s?.onCreate&&s.onCreate(i);for(const l of this.items){let u,f;if($e(l)?(u=Pt(l.key,"",s),f=Pt(l.value,u,s)):u=Pt(l,"",s),i.has(u))throw new Error("Ordered maps must not include duplicate keys");i.set(u,f)}return i}static from(n,s,i){const l=nm(n,s,i),u=new this;return u.items=l.items,u}}Zr.tag="tag:yaml.org,2002:omap";const tc={collection:"seq",identify:r=>r instanceof Map,nodeClass:Zr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(r,n){const s=tm(r,n),i=[];for(const{key:l}of s.items)Ee(l)&&(i.includes(l.value)?n(`Ordered maps must not include duplicate keys: ${l.value}`):i.push(l.value));return Object.assign(new Zr,s)},createNode:(r,n,s)=>Zr.from(r,n,s)};function rm({value:r,source:n},s){return n&&(r?sm:im).test.test(n)?n:r?s.options.trueStr:s.options.falseStr}const sm={identify:r=>r===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ge(!0),stringify:rm},im={identify:r=>r===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new ge(!1),stringify:rm},lx={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ht},ax={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r.replace(/_/g,"")),stringify(r){const n=Number(r.value);return isFinite(n)?n.toExponential():Ht(r)}},ux={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(r){const n=new ge(parseFloat(r.replace(/_/g,""))),s=r.indexOf(".");if(s!==-1){const i=r.substring(s+1).replace(/_/g,"");i[i.length-1]==="0"&&(n.minFractionDigits=i.length)}return n},stringify:Ht},bi=r=>typeof r=="bigint"||Number.isInteger(r);function ml(r,n,s,{intAsBigInt:i}){const l=r[0];if((l==="-"||l==="+")&&(n+=1),r=r.substring(n).replace(/_/g,""),i){switch(s){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}const f=BigInt(r);return l==="-"?BigInt(-1)*f:f}const u=parseInt(r,s);return l==="-"?-1*u:u}function nc(r,n,s){const{value:i}=r;if(bi(i)){const l=i.toString(n);return i<0?"-"+s+l.substr(1):s+l}return Ht(r)}const cx={identify:bi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(r,n,s)=>ml(r,2,2,s),stringify:r=>nc(r,2,"0b")},fx={identify:bi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(r,n,s)=>ml(r,1,8,s),stringify:r=>nc(r,8,"0")},dx={identify:bi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(r,n,s)=>ml(r,0,10,s),stringify:Ht},hx={identify:bi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(r,n,s)=>ml(r,2,16,s),stringify:r=>nc(r,16,"0x")};class Xr extends Ot{constructor(n){super(n),this.tag=Xr.tag}add(n){let s;$e(n)?s=n:n&&typeof n=="object"&&"key"in n&&"value"in n&&n.value===null?s=new ct(n.key,null):s=new ct(n,null),ur(this.items,s.key)||this.items.push(s)}get(n,s){const i=ur(this.items,n);return!s&&$e(i)?Ee(i.key)?i.key.value:i.key:i}set(n,s){if(typeof s!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof s}`);const i=ur(this.items,n);i&&!s?this.items.splice(this.items.indexOf(i),1):!i&&s&&this.items.push(new ct(n))}toJSON(n,s){return super.toJSON(n,s,Set)}toString(n,s,i){if(!n)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},n,{allNullValues:!0}),s,i);throw new Error("Set items must all have null values")}static from(n,s,i){const{replacer:l}=i,u=new this(n);if(s&&Symbol.iterator in Object(s))for(let f of s)typeof l=="function"&&(f=l.call(s,f,f)),u.items.push(Yu(f,null,i));return u}}Xr.tag="tag:yaml.org,2002:set";const rc={collection:"map",identify:r=>r instanceof Set,nodeClass:Xr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(r,n,s)=>Xr.from(r,n,s),resolve(r,n){if(ki(r)){if(r.hasAllNullValues(!0))return Object.assign(new Xr,r);n("Set items must all have null values")}else n("Expected a mapping for this tag");return r}};function sc(r,n){const s=r[0],i=s==="-"||s==="+"?r.substring(1):r,l=f=>n?BigInt(f):Number(f),u=i.replace(/_/g,"").split(":").reduce((f,h)=>f*l(60)+l(h),l(0));return s==="-"?l(-1)*u:u}function om(r){let{value:n}=r,s=f=>f;if(typeof n=="bigint")s=f=>BigInt(f);else if(isNaN(n)||!isFinite(n))return Ht(r);let i="";n<0&&(i="-",n*=s(-1));const l=s(60),u=[n%l];return n<60?u.unshift(0):(n=(n-u[0])/l,u.unshift(n%l),n>=60&&(n=(n-u[0])/l,u.unshift(n))),i+u.map(f=>String(f).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const lm={identify:r=>typeof r=="bigint"||Number.isInteger(r),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(r,n,{intAsBigInt:s})=>sc(r,s),stringify:om},am={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:r=>sc(r,!1),stringify:om},gl={identify:r=>r instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(r){const n=r.match(gl.test);if(!n)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,s,i,l,u,f,h]=n.map(Number),m=n[7]?Number((n[7]+"00").substr(1,3)):0;let g=Date.UTC(s,i-1,l,u||0,f||0,h||0,m);const x=n[8];if(x&&x!=="Z"){let w=sc(x,!1);Math.abs(w)<30&&(w*=60),g-=6e4*w}return new Date(g)},stringify:({value:r})=>r?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Ih=[hs,ps,dl,hl,sm,im,cx,fx,dx,hx,lx,ax,ux,Xu,yn,tc,ec,rc,lm,am,gl],Rh=new Map([["core",rx],["failsafe",[hs,ps,dl]],["json",ox],["yaml11",Ih],["yaml-1.1",Ih]]),Fh={binary:Xu,bool:Ju,float:Yp,floatExp:Gp,floatNaN:Qp,floatTime:am,int:Xp,intHex:em,intOct:Zp,intTime:lm,map:hs,merge:yn,null:hl,omap:tc,pairs:ec,seq:ps,set:rc,timestamp:gl},px={"tag:yaml.org,2002:binary":Xu,"tag:yaml.org,2002:merge":yn,"tag:yaml.org,2002:omap":tc,"tag:yaml.org,2002:pairs":ec,"tag:yaml.org,2002:set":rc,"tag:yaml.org,2002:timestamp":gl};function Su(r,n,s){const i=Rh.get(n);if(i&&!r)return s&&!i.includes(yn)?i.concat(yn):i.slice();let l=i;if(!l)if(Array.isArray(r))l=[];else{const u=Array.from(Rh.keys()).filter(f=>f!=="yaml11").map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown schema "${n}"; use one of ${u} or define customTags array`)}if(Array.isArray(r))for(const u of r)l=l.concat(u);else typeof r=="function"&&(l=r(l.slice()));return s&&(l=l.concat(yn)),l.reduce((u,f)=>{const h=typeof f=="string"?Fh[f]:f;if(!h){const m=JSON.stringify(f),g=Object.keys(Fh).map(x=>JSON.stringify(x)).join(", ");throw new Error(`Unknown custom tag ${m}; use one of ${g}`)}return u.includes(h)||u.push(h),u},[])}const mx=(r,n)=>r.key<n.key?-1:r.key>n.key?1:0;class ic{constructor({compat:n,customTags:s,merge:i,resolveKnownTags:l,schema:u,sortMapEntries:f,toStringDefaults:h}){this.compat=Array.isArray(n)?Su(n,"compat"):n?Su(null,n):null,this.name=typeof u=="string"&&u||"core",this.knownTags=l?px:{},this.tags=Su(s,this.name,i),this.toStringOptions=h??null,Object.defineProperty(this,qn,{value:hs}),Object.defineProperty(this,nn,{value:dl}),Object.defineProperty(this,fs,{value:ps}),this.sortMapEntries=typeof f=="function"?f:f===!0?mx:null}clone(){const n=Object.create(ic.prototype,Object.getOwnPropertyDescriptors(this));return n.tags=this.tags.slice(),n}}function gx(r,n){const s=[];let i=n.directives===!0;if(n.directives!==!1&&r.directives){const m=r.directives.toString(r);m?(s.push(m),i=!0):r.directives.docStart&&(i=!0)}i&&s.push("---");const l=Wp(r,n),{commentString:u}=l.options;if(r.commentBefore){s.length!==1&&s.unshift("");const m=u(r.commentBefore);s.unshift(gn(m,""))}let f=!1,h=null;if(r.contents){if(ze(r.contents)){if(r.contents.spaceBefore&&i&&s.push(""),r.contents.commentBefore){const x=u(r.contents.commentBefore);s.push(gn(x,""))}l.forceBlockIndent=!!r.comment,h=r.contents.comment}const m=h?void 0:()=>f=!0;let g=as(r.contents,l,()=>h=null,m);h&&(g+=ar(g,"",u(h))),(g[0]==="|"||g[0]===">")&&s[s.length-1]==="---"?s[s.length-1]=`--- ${g}`:s.push(g)}else s.push(as(r.contents,l));if(r.directives?.docEnd)if(r.comment){const m=u(r.comment);m.includes(`
`)?(s.push("..."),s.push(gn(m,""))):s.push(`... ${m}`)}else s.push("...");else{let m=r.comment;m&&f&&(m=m.replace(/^\n+/,"")),m&&((!f||h)&&s[s.length-1]!==""&&s.push(""),s.push(gn(u(m),"")))}return s.join(`
`)+`
`}class yl{constructor(n,s,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Mt,{value:Au});let l=null;typeof s=="function"||Array.isArray(s)?l=s:i===void 0&&s&&(i=s,s=void 0);const u=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},i);this.options=u;let{version:f}=u;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(f=this.directives.yaml.version)):this.directives=new lt({version:f}),this.setSchema(f,i),this.contents=n===void 0?null:this.createNode(n,l,i)}clone(){const n=Object.create(yl.prototype,{[Mt]:{value:Au}});return n.commentBefore=this.commentBefore,n.comment=this.comment,n.errors=this.errors.slice(),n.warnings=this.warnings.slice(),n.options=Object.assign({},this.options),this.directives&&(n.directives=this.directives.clone()),n.schema=this.schema.clone(),n.contents=ze(this.contents)?this.contents.clone(n.schema):this.contents,this.range&&(n.range=this.range.slice()),n}add(n){Wr(this.contents)&&this.contents.add(n)}addIn(n,s){Wr(this.contents)&&this.contents.addIn(n,s)}createAlias(n,s){if(!n.anchor){const i=zp(this);n.anchor=!s||i.has(s)?$p(s||"a",i):s}return new Qu(n.anchor)}createNode(n,s,i){let l;if(typeof s=="function")n=s.call({"":n},"",n),l=s;else if(Array.isArray(s)){const T=B=>typeof B=="number"||B instanceof String||B instanceof Number,K=s.filter(T).map(String);K.length>0&&(s=s.concat(K)),l=s}else i===void 0&&s&&(i=s,s=void 0);const{aliasDuplicateObjects:u,anchorPrefix:f,flow:h,keepUndefined:m,onTagObj:g,tag:x}=i??{},{onAnchor:w,setAnchors:v,sourceObjects:C}=V1(this,f||"a"),E={aliasDuplicateObjects:u??!0,keepUndefined:m??!1,onAnchor:w,onTagObj:g,replacer:l,schema:this.schema,sourceObjects:C},S=mi(n,x,E);return h&&De(S)&&(S.flow=!0),v(),S}createPair(n,s,i={}){const l=this.createNode(n,null,i),u=this.createNode(s,null,i);return new ct(l,u)}delete(n){return Wr(this.contents)?this.contents.delete(n):!1}deleteIn(n){return oi(n)?this.contents==null?!1:(this.contents=null,!0):Wr(this.contents)?this.contents.deleteIn(n):!1}get(n,s){return De(this.contents)?this.contents.get(n,s):void 0}getIn(n,s){return oi(n)?!s&&Ee(this.contents)?this.contents.value:this.contents:De(this.contents)?this.contents.getIn(n,s):void 0}has(n){return De(this.contents)?this.contents.has(n):!1}hasIn(n){return oi(n)?this.contents!==void 0:De(this.contents)?this.contents.hasIn(n):!1}set(n,s){this.contents==null?this.contents=Zo(this.schema,[n],s):Wr(this.contents)&&this.contents.set(n,s)}setIn(n,s){oi(n)?this.contents=s:this.contents==null?this.contents=Zo(this.schema,Array.from(n),s):Wr(this.contents)&&this.contents.setIn(n,s)}setSchema(n,s={}){typeof n=="number"&&(n=String(n));let i;switch(n){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new lt({version:"1.1"}),i={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=n:this.directives=new lt({version:n}),i={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{const l=JSON.stringify(n);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${l}`)}}if(s.schema instanceof Object)this.schema=s.schema;else if(i)this.schema=new ic(Object.assign(i,s));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:n,jsonArg:s,mapAsMap:i,maxAliasCount:l,onAnchor:u,reviver:f}={}){const h={anchors:new Map,doc:this,keep:!n,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof l=="number"?l:100},m=Pt(this.contents,s??"",h);if(typeof u=="function")for(const{count:g,res:x}of h.anchors.values())u(x,g);return typeof f=="function"?Gr(f,{"":m},"",m):m}toJSON(n,s){return this.toJS({json:!0,jsonArg:n,mapAsMap:!1,onAnchor:s})}toString(n={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in n&&(!Number.isInteger(n.indent)||Number(n.indent)<=0)){const s=JSON.stringify(n.indent);throw new Error(`"indent" option must be a positive integer, not ${s}`)}return gx(this,n)}}function Wr(r){if(De(r))return!0;throw new Error("Expected a YAML collection as document contents")}class um extends Error{constructor(n,s,i,l){super(),this.name=n,this.code=i,this.message=l,this.pos=s}}class li extends um{constructor(n,s,i){super("YAMLParseError",n,s,i)}}class yx extends um{constructor(n,s,i){super("YAMLWarning",n,s,i)}}const Dh=(r,n)=>s=>{if(s.pos[0]===-1)return;s.linePos=s.pos.map(h=>n.linePos(h));const{line:i,col:l}=s.linePos[0];s.message+=` at line ${i}, column ${l}`;let u=l-1,f=r.substring(n.lineStarts[i-1],n.lineStarts[i]).replace(/[\n\r]+$/,"");if(u>=60&&f.length>80){const h=Math.min(u-39,f.length-79);f=""+f.substring(h),u-=h-1}if(f.length>80&&(f=f.substring(0,79)+""),i>1&&/^ *$/.test(f.substring(0,u))){let h=r.substring(n.lineStarts[i-2],n.lineStarts[i-1]);h.length>80&&(h=h.substring(0,79)+`
`),f=h+f}if(/[^ ]/.test(f)){let h=1;const m=s.linePos[1];m?.line===i&&m.col>l&&(h=Math.max(1,Math.min(m.col-l,80-u)));const g=" ".repeat(u)+"^".repeat(h);s.message+=`:

${f}
${g}
`}};function us(r,{flow:n,indicator:s,next:i,offset:l,onError:u,parentIndent:f,startOnNewline:h}){let m=!1,g=h,x=h,w="",v="",C=!1,E=!1,S=null,T=null,K=null,B=null,J=null,U=null,G=null;for(const ee of r)switch(E&&(ee.type!=="space"&&ee.type!=="newline"&&ee.type!=="comma"&&u(ee.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),E=!1),S&&(g&&ee.type!=="comment"&&ee.type!=="newline"&&u(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),S=null),ee.type){case"space":!n&&(s!=="doc-start"||i?.type!=="flow-collection")&&ee.source.includes("	")&&(S=ee),x=!0;break;case"comment":{x||u(ee,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const fe=ee.source.substring(1)||" ";w?w+=v+fe:w=fe,v="",g=!1;break}case"newline":g?w?w+=ee.source:(!U||s!=="seq-item-ind")&&(m=!0):v+=ee.source,g=!0,C=!0,(T||K)&&(B=ee),x=!0;break;case"anchor":T&&u(ee,"MULTIPLE_ANCHORS","A node can have at most one anchor"),ee.source.endsWith(":")&&u(ee.offset+ee.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),T=ee,G??(G=ee.offset),g=!1,x=!1,E=!0;break;case"tag":{K&&u(ee,"MULTIPLE_TAGS","A node can have at most one tag"),K=ee,G??(G=ee.offset),g=!1,x=!1,E=!0;break}case s:(T||K)&&u(ee,"BAD_PROP_ORDER",`Anchors and tags must be after the ${ee.source} indicator`),U&&u(ee,"UNEXPECTED_TOKEN",`Unexpected ${ee.source} in ${n??"collection"}`),U=ee,g=s==="seq-item-ind"||s==="explicit-key-ind",x=!1;break;case"comma":if(n){J&&u(ee,"UNEXPECTED_TOKEN",`Unexpected , in ${n}`),J=ee,g=!1,x=!1;break}default:u(ee,"UNEXPECTED_TOKEN",`Unexpected ${ee.type} token`),g=!1,x=!1}const q=r[r.length-1],se=q?q.offset+q.source.length:l;return E&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&u(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),S&&(g&&S.indent<=f||i?.type==="block-map"||i?.type==="block-seq")&&u(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:J,found:U,spaceBefore:m,comment:w,hasNewline:C,anchor:T,tag:K,newlineAfterProp:B,end:se,start:G??se}}function gi(r){if(!r)return null;switch(r.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(r.source.includes(`
`))return!0;if(r.end){for(const n of r.end)if(n.type==="newline")return!0}return!1;case"flow-collection":for(const n of r.items){for(const s of n.start)if(s.type==="newline")return!0;if(n.sep){for(const s of n.sep)if(s.type==="newline")return!0}if(gi(n.key)||gi(n.value))return!0}return!1;default:return!0}}function Du(r,n,s){if(n?.type==="flow-collection"){const i=n.end[0];i.indent===r&&(i.source==="]"||i.source==="}")&&gi(n)&&s(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function cm(r,n,s){const{uniqueKeys:i}=r.options;if(i===!1)return!1;const l=typeof i=="function"?i:(u,f)=>u===f||Ee(u)&&Ee(f)&&u.value===f.value;return n.some(u=>l(u.key,s))}const zh="All mapping items must start at the same column";function vx({composeNode:r,composeEmptyNode:n},s,i,l,u){const f=u?.nodeClass??Ot,h=new f(s.schema);s.atRoot&&(s.atRoot=!1);let m=i.offset,g=null;for(const x of i.items){const{start:w,key:v,sep:C,value:E}=x,S=us(w,{indicator:"explicit-key-ind",next:v??C?.[0],offset:m,onError:l,parentIndent:i.indent,startOnNewline:!0}),T=!S.found;if(T){if(v&&(v.type==="block-seq"?l(m,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in v&&v.indent!==i.indent&&l(m,"BAD_INDENT",zh)),!S.anchor&&!S.tag&&!C){g=S.end,S.comment&&(h.comment?h.comment+=`
`+S.comment:h.comment=S.comment);continue}(S.newlineAfterProp||gi(v))&&l(v??w[w.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else S.found?.indent!==i.indent&&l(m,"BAD_INDENT",zh);s.atKey=!0;const K=S.end,B=v?r(s,v,S,l):n(s,K,w,null,S,l);s.schema.compat&&Du(i.indent,v,l),s.atKey=!1,cm(s,h.items,B)&&l(K,"DUPLICATE_KEY","Map keys must be unique");const J=us(C??[],{indicator:"map-value-ind",next:E,offset:B.range[2],onError:l,parentIndent:i.indent,startOnNewline:!v||v.type==="block-scalar"});if(m=J.end,J.found){T&&(E?.type==="block-map"&&!J.hasNewline&&l(m,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),s.options.strict&&S.start<J.found.offset-1024&&l(B.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const U=E?r(s,E,J,l):n(s,m,C,null,J,l);s.schema.compat&&Du(i.indent,E,l),m=U.range[2];const G=new ct(B,U);s.options.keepSourceTokens&&(G.srcToken=x),h.items.push(G)}else{T&&l(B.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),J.comment&&(B.comment?B.comment+=`
`+J.comment:B.comment=J.comment);const U=new ct(B);s.options.keepSourceTokens&&(U.srcToken=x),h.items.push(U)}}return g&&g<m&&l(g,"IMPOSSIBLE","Map comment with trailing content"),h.range=[i.offset,m,g??m],h}function xx({composeNode:r,composeEmptyNode:n},s,i,l,u){const f=u?.nodeClass??gr,h=new f(s.schema);s.atRoot&&(s.atRoot=!1),s.atKey&&(s.atKey=!1);let m=i.offset,g=null;for(const{start:x,value:w}of i.items){const v=us(x,{indicator:"seq-item-ind",next:w,offset:m,onError:l,parentIndent:i.indent,startOnNewline:!0});if(!v.found)if(v.anchor||v.tag||w)w?.type==="block-seq"?l(v.end,"BAD_INDENT","All sequence items must start at the same column"):l(m,"MISSING_CHAR","Sequence item without - indicator");else{g=v.end,v.comment&&(h.comment=v.comment);continue}const C=w?r(s,w,v,l):n(s,v.end,x,null,v,l);s.schema.compat&&Du(i.indent,w,l),m=C.range[2],h.items.push(C)}return h.range=[i.offset,m,g??m],h}function Ci(r,n,s,i){let l="";if(r){let u=!1,f="";for(const h of r){const{source:m,type:g}=h;switch(g){case"space":u=!0;break;case"comment":{s&&!u&&i(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const x=m.substring(1)||" ";l?l+=f+x:l=x,f="";break}case"newline":l&&(f+=m),u=!0;break;default:i(h,"UNEXPECTED_TOKEN",`Unexpected ${g} at node end`)}n+=m.length}}return{comment:l,offset:n}}const bu="Block collections are not allowed within flow collections",Cu=r=>r&&(r.type==="block-map"||r.type==="block-seq");function wx({composeNode:r,composeEmptyNode:n},s,i,l,u){const f=i.start.source==="{",h=f?"flow map":"flow sequence",m=u?.nodeClass??(f?Ot:gr),g=new m(s.schema);g.flow=!0;const x=s.atRoot;x&&(s.atRoot=!1),s.atKey&&(s.atKey=!1);let w=i.offset+i.start.source.length;for(let T=0;T<i.items.length;++T){const K=i.items[T],{start:B,key:J,sep:U,value:G}=K,q=us(B,{flow:h,indicator:"explicit-key-ind",next:J??U?.[0],offset:w,onError:l,parentIndent:i.indent,startOnNewline:!1});if(!q.found){if(!q.anchor&&!q.tag&&!U&&!G){T===0&&q.comma?l(q.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`):T<i.items.length-1&&l(q.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${h}`),q.comment&&(g.comment?g.comment+=`
`+q.comment:g.comment=q.comment),w=q.end;continue}!f&&s.options.strict&&gi(J)&&l(J,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(T===0)q.comma&&l(q.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`);else if(q.comma||l(q.start,"MISSING_CHAR",`Missing , between ${h} items`),q.comment){let se="";e:for(const ee of B)switch(ee.type){case"comma":case"space":break;case"comment":se=ee.source.substring(1);break e;default:break e}if(se){let ee=g.items[g.items.length-1];$e(ee)&&(ee=ee.value??ee.key),ee.comment?ee.comment+=`
`+se:ee.comment=se,q.comment=q.comment.substring(se.length+1)}}if(!f&&!U&&!q.found){const se=G?r(s,G,q,l):n(s,q.end,U,null,q,l);g.items.push(se),w=se.range[2],Cu(G)&&l(se.range,"BLOCK_IN_FLOW",bu)}else{s.atKey=!0;const se=q.end,ee=J?r(s,J,q,l):n(s,se,B,null,q,l);Cu(J)&&l(ee.range,"BLOCK_IN_FLOW",bu),s.atKey=!1;const fe=us(U??[],{flow:h,indicator:"map-value-ind",next:G,offset:ee.range[2],onError:l,parentIndent:i.indent,startOnNewline:!1});if(fe.found){if(!f&&!q.found&&s.options.strict){if(U)for(const L of U){if(L===fe.found)break;if(L.type==="newline"){l(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}q.start<fe.found.offset-1024&&l(fe.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else G&&("source"in G&&G.source?.[0]===":"?l(G,"MISSING_CHAR",`Missing space after : in ${h}`):l(fe.start,"MISSING_CHAR",`Missing , or : between ${h} items`));const ae=G?r(s,G,fe,l):fe.found?n(s,fe.end,U,null,fe,l):null;ae?Cu(G)&&l(ae.range,"BLOCK_IN_FLOW",bu):fe.comment&&(ee.comment?ee.comment+=`
`+fe.comment:ee.comment=fe.comment);const Q=new ct(ee,ae);if(s.options.keepSourceTokens&&(Q.srcToken=K),f){const L=g;cm(s,L.items,ee)&&l(se,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(Q)}else{const L=new Ot(s.schema);L.flow=!0,L.items.push(Q);const Z=(ae??ee).range;L.range=[ee.range[0],Z[1],Z[2]],g.items.push(L)}w=ae?ae.range[2]:fe.end}}const v=f?"}":"]",[C,...E]=i.end;let S=w;if(C?.source===v)S=C.offset+C.source.length;else{const T=h[0].toUpperCase()+h.substring(1),K=x?`${T} must end with a ${v}`:`${T} in block collection must be sufficiently indented and end with a ${v}`;l(w,x?"MISSING_CHAR":"BAD_INDENT",K),C&&C.source.length!==1&&E.unshift(C)}if(E.length>0){const T=Ci(E,S,s.options.strict,l);T.comment&&(g.comment?g.comment+=`
`+T.comment:g.comment=T.comment),g.range=[i.offset,S,T.offset]}else g.range=[i.offset,S,S];return g}function Nu(r,n,s,i,l,u){const f=s.type==="block-map"?vx(r,n,s,i,u):s.type==="block-seq"?xx(r,n,s,i,u):wx(r,n,s,i,u),h=f.constructor;return l==="!"||l===h.tagName?(f.tag=h.tagName,f):(l&&(f.tag=l),f)}function kx(r,n,s,i,l){const u=i.tag,f=u?n.directives.tagName(u.source,v=>l(u,"TAG_RESOLVE_FAILED",v)):null;if(s.type==="block-seq"){const{anchor:v,newlineAfterProp:C}=i,E=v&&u?v.offset>u.offset?v:u:v??u;E&&(!C||C.offset<E.offset)&&l(E,"MISSING_CHAR","Missing newline after block sequence props")}const h=s.type==="block-map"?"map":s.type==="block-seq"?"seq":s.start.source==="{"?"map":"seq";if(!u||!f||f==="!"||f===Ot.tagName&&h==="map"||f===gr.tagName&&h==="seq")return Nu(r,n,s,l,f);let m=n.schema.tags.find(v=>v.tag===f&&v.collection===h);if(!m){const v=n.schema.knownTags[f];if(v?.collection===h)n.schema.tags.push(Object.assign({},v,{default:!1})),m=v;else return v?l(u,"BAD_COLLECTION_TYPE",`${v.tag} used for ${h} collection, but expects ${v.collection??"scalar"}`,!0):l(u,"TAG_RESOLVE_FAILED",`Unresolved tag: ${f}`,!0),Nu(r,n,s,l,f)}const g=Nu(r,n,s,l,f,m),x=m.resolve?.(g,v=>l(u,"TAG_RESOLVE_FAILED",v),n.options)??g,w=ze(x)?x:new ge(x);return w.range=g.range,w.tag=f,m?.format&&(w.format=m.format),w}function Sx(r,n,s){const i=n.offset,l=bx(n,r.options.strict,s);if(!l)return{value:"",type:null,comment:"",range:[i,i,i]};const u=l.mode===">"?ge.BLOCK_FOLDED:ge.BLOCK_LITERAL,f=n.source?Cx(n.source):[];let h=f.length;for(let S=f.length-1;S>=0;--S){const T=f[S][1];if(T===""||T==="\r")h=S;else break}if(h===0){const S=l.chomp==="+"&&f.length>0?`
`.repeat(Math.max(1,f.length-1)):"";let T=i+l.length;return n.source&&(T+=n.source.length),{value:S,type:u,comment:l.comment,range:[i,T,T]}}let m=n.indent+l.indent,g=n.offset+l.length,x=0;for(let S=0;S<h;++S){const[T,K]=f[S];if(K===""||K==="\r")l.indent===0&&T.length>m&&(m=T.length);else{T.length<m&&s(g+T.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),l.indent===0&&(m=T.length),x=S,m===0&&!r.atRoot&&s(g,"BAD_INDENT","Block scalar values in collections must be indented");break}g+=T.length+K.length+1}for(let S=f.length-1;S>=h;--S)f[S][0].length>m&&(h=S+1);let w="",v="",C=!1;for(let S=0;S<x;++S)w+=f[S][0].slice(m)+`
`;for(let S=x;S<h;++S){let[T,K]=f[S];g+=T.length+K.length+1;const B=K[K.length-1]==="\r";if(B&&(K=K.slice(0,-1)),K&&T.length<m){const U=`Block scalar lines must not be less indented than their ${l.indent?"explicit indentation indicator":"first line"}`;s(g-K.length-(B?2:1),"BAD_INDENT",U),T=""}u===ge.BLOCK_LITERAL?(w+=v+T.slice(m)+K,v=`
`):T.length>m||K[0]==="	"?(v===" "?v=`
`:!C&&v===`
`&&(v=`

`),w+=v+T.slice(m)+K,v=`
`,C=!0):K===""?v===`
`?w+=`
`:v=`
`:(w+=v+K,v=" ",C=!1)}switch(l.chomp){case"-":break;case"+":for(let S=h;S<f.length;++S)w+=`
`+f[S][0].slice(m);w[w.length-1]!==`
`&&(w+=`
`);break;default:w+=`
`}const E=i+l.length+n.source.length;return{value:w,type:u,comment:l.comment,range:[i,E,E]}}function bx({offset:r,props:n},s,i){if(n[0].type!=="block-scalar-header")return i(n[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:l}=n[0],u=l[0];let f=0,h="",m=-1;for(let v=1;v<l.length;++v){const C=l[v];if(!h&&(C==="-"||C==="+"))h=C;else{const E=Number(C);!f&&E?f=E:m===-1&&(m=r+v)}}m!==-1&&i(m,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${l}`);let g=!1,x="",w=l.length;for(let v=1;v<n.length;++v){const C=n[v];switch(C.type){case"space":g=!0;case"newline":w+=C.source.length;break;case"comment":s&&!g&&i(C,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),w+=C.source.length,x=C.source.substring(1);break;case"error":i(C,"UNEXPECTED_TOKEN",C.message),w+=C.source.length;break;default:{const E=`Unexpected token in block scalar header: ${C.type}`;i(C,"UNEXPECTED_TOKEN",E);const S=C.source;S&&typeof S=="string"&&(w+=S.length)}}}return{mode:u,indent:f,chomp:h,comment:x,length:w}}function Cx(r){const n=r.split(/\n( *)/),s=n[0],i=s.match(/^( *)/),u=[i?.[1]?[i[1],s.slice(i[1].length)]:["",s]];for(let f=1;f<n.length;f+=2)u.push([n[f],n[f+1]]);return u}function Nx(r,n,s){const{offset:i,type:l,source:u,end:f}=r;let h,m;const g=(v,C,E)=>s(i+v,C,E);switch(l){case"scalar":h=ge.PLAIN,m=jx(u,g);break;case"single-quoted-scalar":h=ge.QUOTE_SINGLE,m=Ex(u,g);break;case"double-quoted-scalar":h=ge.QUOTE_DOUBLE,m=Tx(u,g);break;default:return s(r,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${l}`),{value:"",type:null,comment:"",range:[i,i+u.length,i+u.length]}}const x=i+u.length,w=Ci(f,x,n,s);return{value:m,type:h,comment:w.comment,range:[i,x,w.offset]}}function jx(r,n){let s="";switch(r[0]){case"	":s="a tab character";break;case",":s="flow indicator character ,";break;case"%":s="directive indicator character %";break;case"|":case">":{s=`block scalar indicator ${r[0]}`;break}case"@":case"`":{s=`reserved character ${r[0]}`;break}}return s&&n(0,"BAD_SCALAR_START",`Plain value cannot start with ${s}`),fm(r)}function Ex(r,n){return(r[r.length-1]!=="'"||r.length===1)&&n(r.length,"MISSING_CHAR","Missing closing 'quote"),fm(r.slice(1,-1)).replace(/''/g,"'")}function fm(r){let n,s;try{n=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),s=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{n=/(.*?)[ \t]*\r?\n/sy,s=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=n.exec(r);if(!i)return r;let l=i[1],u=" ",f=n.lastIndex;for(s.lastIndex=f;i=s.exec(r);)i[1]===""?u===`
`?l+=u:u=`
`:(l+=u+i[1],u=" "),f=s.lastIndex;const h=/[ \t]*(.*)/sy;return h.lastIndex=f,i=h.exec(r),l+u+(i?.[1]??"")}function Tx(r,n){let s="";for(let i=1;i<r.length-1;++i){const l=r[i];if(!(l==="\r"&&r[i+1]===`
`))if(l===`
`){const{fold:u,offset:f}=_x(r,i);s+=u,i=f}else if(l==="\\"){let u=r[++i];const f=Ox[u];if(f)s+=f;else if(u===`
`)for(u=r[i+1];u===" "||u==="	";)u=r[++i+1];else if(u==="\r"&&r[i+1]===`
`)for(u=r[++i+1];u===" "||u==="	";)u=r[++i+1];else if(u==="x"||u==="u"||u==="U"){const h={x:2,u:4,U:8}[u];s+=Lx(r,i+1,h,n),i+=h}else{const h=r.substr(i-1,2);n(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${h}`),s+=h}}else if(l===" "||l==="	"){const u=i;let f=r[i+1];for(;f===" "||f==="	";)f=r[++i+1];f!==`
`&&!(f==="\r"&&r[i+2]===`
`)&&(s+=i>u?r.slice(u,i+1):l)}else s+=l}return(r[r.length-1]!=='"'||r.length===1)&&n(r.length,"MISSING_CHAR",'Missing closing "quote'),s}function _x(r,n){let s="",i=r[n+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&r[n+2]!==`
`);)i===`
`&&(s+=`
`),n+=1,i=r[n+1];return s||(s=" "),{fold:s,offset:n}}const Ox={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Lx(r,n,s,i){const l=r.substr(n,s),f=l.length===s&&/^[0-9a-fA-F]+$/.test(l)?parseInt(l,16):NaN;if(isNaN(f)){const h=r.substr(n-2,s+2);return i(n-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${h}`),h}return String.fromCodePoint(f)}function dm(r,n,s,i){const{value:l,type:u,comment:f,range:h}=n.type==="block-scalar"?Sx(r,n,i):Nx(n,r.options.strict,i),m=s?r.directives.tagName(s.source,w=>i(s,"TAG_RESOLVE_FAILED",w)):null;let g;r.options.stringKeys&&r.atKey?g=r.schema[nn]:m?g=Px(r.schema,l,m,s,i):n.type==="scalar"?g=Mx(r,l,n,i):g=r.schema[nn];let x;try{const w=g.resolve(l,v=>i(s??n,"TAG_RESOLVE_FAILED",v),r.options);x=Ee(w)?w:new ge(w)}catch(w){const v=w instanceof Error?w.message:String(w);i(s??n,"TAG_RESOLVE_FAILED",v),x=new ge(l)}return x.range=h,x.source=l,u&&(x.type=u),m&&(x.tag=m),g.format&&(x.format=g.format),f&&(x.comment=f),x}function Px(r,n,s,i,l){if(s==="!")return r[nn];const u=[];for(const h of r.tags)if(!h.collection&&h.tag===s)if(h.default&&h.test)u.push(h);else return h;for(const h of u)if(h.test?.test(n))return h;const f=r.knownTags[s];return f&&!f.collection?(r.tags.push(Object.assign({},f,{default:!1,test:void 0})),f):(l(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,s!=="tag:yaml.org,2002:str"),r[nn])}function Mx({atKey:r,directives:n,schema:s},i,l,u){const f=s.tags.find(h=>(h.default===!0||r&&h.default==="key")&&h.test?.test(i))||s[nn];if(s.compat){const h=s.compat.find(m=>m.default&&m.test?.test(i))??s[nn];if(f.tag!==h.tag){const m=n.tagString(f.tag),g=n.tagString(h.tag),x=`Value may be parsed as either ${m} or ${g}`;u(l,"TAG_RESOLVE_FAILED",x,!0)}}return f}function Ax(r,n,s){if(n){s??(s=n.length);for(let i=s-1;i>=0;--i){let l=n[i];switch(l.type){case"space":case"comment":case"newline":r-=l.source.length;continue}for(l=n[++i];l?.type==="space";)r+=l.source.length,l=n[++i];break}}return r}const Ix={composeNode:hm,composeEmptyNode:oc};function hm(r,n,s,i){const l=r.atKey,{spaceBefore:u,comment:f,anchor:h,tag:m}=s;let g,x=!0;switch(n.type){case"alias":g=Rx(r,n,i),(h||m)&&i(n,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":g=dm(r,n,m,i),h&&(g.anchor=h.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":g=kx(Ix,r,n,s,i),h&&(g.anchor=h.source.substring(1));break;default:{const w=n.type==="error"?n.message:`Unsupported token (type: ${n.type})`;i(n,"UNEXPECTED_TOKEN",w),g=oc(r,n.offset,void 0,null,s,i),x=!1}}return h&&g.anchor===""&&i(h,"BAD_ALIAS","Anchor cannot be an empty string"),l&&r.options.stringKeys&&(!Ee(g)||typeof g.value!="string"||g.tag&&g.tag!=="tag:yaml.org,2002:str")&&i(m??n,"NON_STRING_KEY","With stringKeys, all keys must be strings"),u&&(g.spaceBefore=!0),f&&(n.type==="scalar"&&n.source===""?g.comment=f:g.commentBefore=f),r.options.keepSourceTokens&&x&&(g.srcToken=n),g}function oc(r,n,s,i,{spaceBefore:l,comment:u,anchor:f,tag:h,end:m},g){const x={type:"scalar",offset:Ax(n,s,i),indent:-1,source:""},w=dm(r,x,h,g);return f&&(w.anchor=f.source.substring(1),w.anchor===""&&g(f,"BAD_ALIAS","Anchor cannot be an empty string")),l&&(w.spaceBefore=!0),u&&(w.comment=u,w.range[2]=m),w}function Rx({options:r},{offset:n,source:s,end:i},l){const u=new Qu(s.substring(1));u.source===""&&l(n,"BAD_ALIAS","Alias cannot be an empty string"),u.source.endsWith(":")&&l(n+s.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const f=n+s.length,h=Ci(i,f,r.strict,l);return u.range=[n,f,h.offset],h.comment&&(u.comment=h.comment),u}function Fx(r,n,{offset:s,start:i,value:l,end:u},f){const h=Object.assign({_directives:n},r),m=new yl(void 0,h),g={atKey:!1,atRoot:!0,directives:m.directives,options:m.options,schema:m.schema},x=us(i,{indicator:"doc-start",next:l??u?.[0],offset:s,onError:f,parentIndent:0,startOnNewline:!0});x.found&&(m.directives.docStart=!0,l&&(l.type==="block-map"||l.type==="block-seq")&&!x.hasNewline&&f(x.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),m.contents=l?hm(g,l,x,f):oc(g,x.end,i,null,x,f);const w=m.contents.range[2],v=Ci(u,w,!1,f);return v.comment&&(m.comment=v.comment),m.range=[s,w,v.offset],m}function ri(r){if(typeof r=="number")return[r,r+1];if(Array.isArray(r))return r.length===2?r:[r[0],r[1]];const{offset:n,source:s}=r;return[n,n+(typeof s=="string"?s.length:1)]}function $h(r){let n="",s=!1,i=!1;for(let l=0;l<r.length;++l){const u=r[l];switch(u[0]){case"#":n+=(n===""?"":i?`

`:`
`)+(u.substring(1)||" "),s=!0,i=!1;break;case"%":r[l+1]?.[0]!=="#"&&(l+=1),s=!1;break;default:s||(i=!0),s=!1}}return{comment:n,afterEmptyLine:i}}class Dx{constructor(n={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(s,i,l,u)=>{const f=ri(s);u?this.warnings.push(new yx(f,i,l)):this.errors.push(new li(f,i,l))},this.directives=new lt({version:n.version||"1.2"}),this.options=n}decorate(n,s){const{comment:i,afterEmptyLine:l}=$h(this.prelude);if(i){const u=n.contents;if(s)n.comment=n.comment?`${n.comment}
${i}`:i;else if(l||n.directives.docStart||!u)n.commentBefore=i;else if(De(u)&&!u.flow&&u.items.length>0){let f=u.items[0];$e(f)&&(f=f.key);const h=f.commentBefore;f.commentBefore=h?`${i}
${h}`:i}else{const f=u.commentBefore;u.commentBefore=f?`${i}
${f}`:i}}s?(Array.prototype.push.apply(n.errors,this.errors),Array.prototype.push.apply(n.warnings,this.warnings)):(n.errors=this.errors,n.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:$h(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(n,s=!1,i=-1){for(const l of n)yield*this.next(l);yield*this.end(s,i)}*next(n){switch(n.type){case"directive":this.directives.add(n.source,(s,i,l)=>{const u=ri(n);u[0]+=s,this.onError(u,"BAD_DIRECTIVE",i,l)}),this.prelude.push(n.source),this.atDirectives=!0;break;case"document":{const s=Fx(this.options,this.directives,n,this.onError);this.atDirectives&&!s.directives.docStart&&this.onError(n,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(s,!1),this.doc&&(yield this.doc),this.doc=s,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(n.source);break;case"error":{const s=n.source?`${n.message}: ${JSON.stringify(n.source)}`:n.message,i=new li(ri(n),"UNEXPECTED_TOKEN",s);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){const i="Unexpected doc-end without preceding document";this.errors.push(new li(ri(n),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;const s=Ci(n.end,n.offset+n.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),s.comment){const i=this.doc.comment;this.doc.comment=i?`${i}
${s.comment}`:s.comment}this.doc.range[2]=s.offset;break}default:this.errors.push(new li(ri(n),"UNEXPECTED_TOKEN",`Unsupported token ${n.type}`))}}*end(n=!1,s=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(n){const i=Object.assign({_directives:this.directives},this.options),l=new yl(void 0,i);this.atDirectives&&this.onError(s,"MISSING_CHAR","Missing directives-end indicator line"),l.range=[0,s,s],this.decorate(l,!1),yield l}}}const pm="\uFEFF",mm="",gm="",zu="";function zx(r){switch(r){case pm:return"byte-order-mark";case mm:return"doc-mode";case gm:return"flow-error-end";case zu:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(r[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Bt(r){switch(r){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Bh=new Set("0123456789ABCDEFabcdef"),$x=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Wo=new Set(",[]{}"),Bx=new Set(` ,[]{}
\r	`),ju=r=>!r||Bx.has(r);class Ux{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(n,s=!1){if(n){if(typeof n!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+n:n,this.lineEndPos=null}this.atEnd=!s;let i=this.next??"stream";for(;i&&(s||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let n=this.pos,s=this.buffer[n];for(;s===" "||s==="	";)s=this.buffer[++n];return!s||s==="#"||s===`
`?!0:s==="\r"?this.buffer[n+1]===`
`:!1}charAt(n){return this.buffer[this.pos+n]}continueScalar(n){let s=this.buffer[n];if(this.indentNext>0){let i=0;for(;s===" ";)s=this.buffer[++i+n];if(s==="\r"){const l=this.buffer[i+n+1];if(l===`
`||!l&&!this.atEnd)return n+i+1}return s===`
`||i>=this.indentNext||!s&&!this.atEnd?n+i:-1}if(s==="-"||s==="."){const i=this.buffer.substr(n,3);if((i==="---"||i==="...")&&Bt(this.buffer[n+3]))return-1}return n}getLine(){let n=this.lineEndPos;return(typeof n!="number"||n!==-1&&n<this.pos)&&(n=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=n),n===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[n-1]==="\r"&&(n-=1),this.buffer.substring(this.pos,n))}hasChars(n){return this.pos+n<=this.buffer.length}setNext(n){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=n,null}peek(n){return this.buffer.substr(this.pos,n)}*parseNext(n){switch(n){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let n=this.getLine();if(n===null)return this.setNext("stream");if(n[0]===pm&&(yield*this.pushCount(1),n=n.substring(1)),n[0]==="%"){let s=n.length,i=n.indexOf("#");for(;i!==-1;){const u=n[i-1];if(u===" "||u==="	"){s=i-1;break}else i=n.indexOf("#",i+1)}for(;;){const u=n[s-1];if(u===" "||u==="	")s-=1;else break}const l=(yield*this.pushCount(s))+(yield*this.pushSpaces(!0));return yield*this.pushCount(n.length-l),this.pushNewline(),"stream"}if(this.atLineEnd()){const s=yield*this.pushSpaces(!0);return yield*this.pushCount(n.length-s),yield*this.pushNewline(),"stream"}return yield mm,yield*this.parseLineStart()}*parseLineStart(){const n=this.charAt(0);if(!n&&!this.atEnd)return this.setNext("line-start");if(n==="-"||n==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const s=this.peek(3);if((s==="---"||s==="...")&&Bt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,s==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Bt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[n,s]=this.peek(2);if(!s&&!this.atEnd)return this.setNext("block-start");if((n==="-"||n==="?"||n===":")&&Bt(s)){const i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const n=this.getLine();if(n===null)return this.setNext("doc");let s=yield*this.pushIndicators();switch(n[s]){case"#":yield*this.pushCount(n.length-s);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ju),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return s+=yield*this.parseBlockScalarHeader(),s+=yield*this.pushSpaces(!0),yield*this.pushCount(n.length-s),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let n,s,i=-1;do n=yield*this.pushNewline(),n>0?(s=yield*this.pushSpaces(!1),this.indentValue=i=s):s=0,s+=yield*this.pushSpaces(!0);while(n+s>0);const l=this.getLine();if(l===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&l[0]!=="#"||i===0&&(l.startsWith("---")||l.startsWith("..."))&&Bt(l[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(l[0]==="]"||l[0]==="}")))return this.flowLevel=0,yield gm,yield*this.parseLineStart();let u=0;for(;l[u]===",";)u+=yield*this.pushCount(1),u+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(u+=yield*this.pushIndicators(),l[u]){case void 0:return"flow";case"#":return yield*this.pushCount(l.length-u),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ju),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const f=this.charAt(1);if(this.flowKey||Bt(f)||f===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const n=this.charAt(0);let s=this.buffer.indexOf(n,this.pos+1);if(n==="'")for(;s!==-1&&this.buffer[s+1]==="'";)s=this.buffer.indexOf("'",s+2);else for(;s!==-1;){let u=0;for(;this.buffer[s-1-u]==="\\";)u+=1;if(u%2===0)break;s=this.buffer.indexOf('"',s+1)}const i=this.buffer.substring(0,s);let l=i.indexOf(`
`,this.pos);if(l!==-1){for(;l!==-1;){const u=this.continueScalar(l+1);if(u===-1)break;l=i.indexOf(`
`,u)}l!==-1&&(s=l-(i[l-1]==="\r"?2:1))}if(s===-1){if(!this.atEnd)return this.setNext("quoted-scalar");s=this.buffer.length}return yield*this.pushToIndex(s+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let n=this.pos;for(;;){const s=this.buffer[++n];if(s==="+")this.blockScalarKeep=!0;else if(s>"0"&&s<="9")this.blockScalarIndent=Number(s)-1;else if(s!=="-")break}return yield*this.pushUntil(s=>Bt(s)||s==="#")}*parseBlockScalar(){let n=this.pos-1,s=0,i;e:for(let u=this.pos;i=this.buffer[u];++u)switch(i){case" ":s+=1;break;case`
`:n=u,s=0;break;case"\r":{const f=this.buffer[u+1];if(!f&&!this.atEnd)return this.setNext("block-scalar");if(f===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(s>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=s:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const u=this.continueScalar(n+1);if(u===-1)break;n=this.buffer.indexOf(`
`,u)}while(n!==-1);if(n===-1){if(!this.atEnd)return this.setNext("block-scalar");n=this.buffer.length}}let l=n+1;for(i=this.buffer[l];i===" ";)i=this.buffer[++l];if(i==="	"){for(;i==="	"||i===" "||i==="\r"||i===`
`;)i=this.buffer[++l];n=l-1}else if(!this.blockScalarKeep)do{let u=n-1,f=this.buffer[u];f==="\r"&&(f=this.buffer[--u]);const h=u;for(;f===" ";)f=this.buffer[--u];if(f===`
`&&u>=this.pos&&u+1+s>h)n=u;else break}while(!0);return yield zu,yield*this.pushToIndex(n+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const n=this.flowLevel>0;let s=this.pos-1,i=this.pos-1,l;for(;l=this.buffer[++i];)if(l===":"){const u=this.buffer[i+1];if(Bt(u)||n&&Wo.has(u))break;s=i}else if(Bt(l)){let u=this.buffer[i+1];if(l==="\r"&&(u===`
`?(i+=1,l=`
`,u=this.buffer[i+1]):s=i),u==="#"||n&&Wo.has(u))break;if(l===`
`){const f=this.continueScalar(i+1);if(f===-1)break;i=Math.max(i,f-2)}}else{if(n&&Wo.has(l))break;s=i}return!l&&!this.atEnd?this.setNext("plain-scalar"):(yield zu,yield*this.pushToIndex(s+1,!0),n?"flow":"doc")}*pushCount(n){return n>0?(yield this.buffer.substr(this.pos,n),this.pos+=n,n):0}*pushToIndex(n,s){const i=this.buffer.slice(this.pos,n);return i?(yield i,this.pos+=i.length,i.length):(s&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ju))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const n=this.flowLevel>0,s=this.charAt(1);if(Bt(s)||n&&Wo.has(s))return n?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let n=this.pos+2,s=this.buffer[n];for(;!Bt(s)&&s!==">";)s=this.buffer[++n];return yield*this.pushToIndex(s===">"?n+1:n,!1)}else{let n=this.pos+1,s=this.buffer[n];for(;s;)if($x.has(s))s=this.buffer[++n];else if(s==="%"&&Bh.has(this.buffer[n+1])&&Bh.has(this.buffer[n+2]))s=this.buffer[n+=3];else break;return yield*this.pushToIndex(n,!1)}}*pushNewline(){const n=this.buffer[this.pos];return n===`
`?yield*this.pushCount(1):n==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(n){let s=this.pos-1,i;do i=this.buffer[++s];while(i===" "||n&&i==="	");const l=s-this.pos;return l>0&&(yield this.buffer.substr(this.pos,l),this.pos=s),l}*pushUntil(n){let s=this.pos,i=this.buffer[s];for(;!n(i);)i=this.buffer[++s];return yield*this.pushToIndex(s,!1)}}class Vx{constructor(){this.lineStarts=[],this.addNewLine=n=>this.lineStarts.push(n),this.linePos=n=>{let s=0,i=this.lineStarts.length;for(;s<i;){const u=s+i>>1;this.lineStarts[u]<n?s=u+1:i=u}if(this.lineStarts[s]===n)return{line:s+1,col:1};if(s===0)return{line:0,col:n};const l=this.lineStarts[s-1];return{line:s,col:n-l+1}}}}function Dn(r,n){for(let s=0;s<r.length;++s)if(r[s].type===n)return!0;return!1}function Uh(r){for(let n=0;n<r.length;++n)switch(r[n].type){case"space":case"comment":case"newline":break;default:return n}return-1}function ym(r){switch(r?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ko(r){switch(r.type){case"document":return r.start;case"block-map":{const n=r.items[r.items.length-1];return n.sep??n.start}case"block-seq":return r.items[r.items.length-1].start;default:return[]}}function Kr(r){if(r.length===0)return[];let n=r.length;e:for(;--n>=0;)switch(r[n].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;r[++n]?.type==="space";);return r.splice(n,r.length)}function Vh(r){if(r.start.type==="flow-seq-start")for(const n of r.items)n.sep&&!n.value&&!Dn(n.start,"explicit-key-ind")&&!Dn(n.sep,"map-value-ind")&&(n.key&&(n.value=n.key),delete n.key,ym(n.value)?n.value.end?Array.prototype.push.apply(n.value.end,n.sep):n.value.end=n.sep:Array.prototype.push.apply(n.start,n.sep),delete n.sep)}class Wx{constructor(n){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Ux,this.onNewLine=n}*parse(n,s=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const i of this.lexer.lex(n,s))yield*this.next(i);s||(yield*this.end())}*next(n){if(this.source=n,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=n.length;return}const s=zx(n);if(s)if(s==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=s,yield*this.step(),s){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+n.length);break;case"space":this.atNewLine&&n[0]===" "&&(this.indent+=n.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=n.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=n.length}else{const i=`Not a YAML token: ${n}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:n}),this.offset+=n.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const n=this.peek(1);if(this.type==="doc-end"&&n?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!n)return yield*this.stream();switch(n.type){case"document":return yield*this.document(n);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(n);case"block-scalar":return yield*this.blockScalar(n);case"block-map":return yield*this.blockMap(n);case"block-seq":return yield*this.blockSequence(n);case"flow-collection":return yield*this.flowCollection(n);case"doc-end":return yield*this.documentEnd(n)}yield*this.pop()}peek(n){return this.stack[this.stack.length-n]}*pop(n){const s=n??this.stack.pop();if(!s)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield s;else{const i=this.peek(1);switch(s.type==="block-scalar"?s.indent="indent"in i?i.indent:0:s.type==="flow-collection"&&i.type==="document"&&(s.indent=0),s.type==="flow-collection"&&Vh(s),i.type){case"document":i.value=s;break;case"block-scalar":i.props.push(s);break;case"block-map":{const l=i.items[i.items.length-1];if(l.value){i.items.push({start:[],key:s,sep:[]}),this.onKeyLine=!0;return}else if(l.sep)l.value=s;else{Object.assign(l,{key:s,sep:[]}),this.onKeyLine=!l.explicitKey;return}break}case"block-seq":{const l=i.items[i.items.length-1];l.value?i.items.push({start:[],value:s}):l.value=s;break}case"flow-collection":{const l=i.items[i.items.length-1];!l||l.value?i.items.push({start:[],key:s,sep:[]}):l.sep?l.value=s:Object.assign(l,{key:s,sep:[]});return}default:yield*this.pop(),yield*this.pop(s)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(s.type==="block-map"||s.type==="block-seq")){const l=s.items[s.items.length-1];l&&!l.sep&&!l.value&&l.start.length>0&&Uh(l.start)===-1&&(s.indent===0||l.start.every(u=>u.type!=="comment"||u.indent<s.indent))&&(i.type==="document"?i.end=l.start:i.items.push({start:l.start}),s.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const n={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&n.start.push(this.sourceToken),this.stack.push(n);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(n){if(n.value)return yield*this.lineEnd(n);switch(this.type){case"doc-start":{Uh(n.start)!==-1?(yield*this.pop(),yield*this.step()):n.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":n.start.push(this.sourceToken);return}const s=this.startBlockValue(n);s?this.stack.push(s):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(n){if(this.type==="map-value-ind"){const s=Ko(this.peek(2)),i=Kr(s);let l;n.end?(l=n.end,l.push(this.sourceToken),delete n.end):l=[this.sourceToken];const u={type:"block-map",offset:n.offset,indent:n.indent,items:[{start:i,key:n,sep:l}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(n)}*blockScalar(n){switch(this.type){case"space":case"comment":case"newline":n.props.push(this.sourceToken);return;case"scalar":if(n.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let s=this.source.indexOf(`
`)+1;for(;s!==0;)this.onNewLine(this.offset+s),s=this.source.indexOf(`
`,s)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(n){const s=n.items[n.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,s.value){const i="end"in s.value?s.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):n.items.push({start:[this.sourceToken]})}else s.sep?s.sep.push(this.sourceToken):s.start.push(this.sourceToken);return;case"space":case"comment":if(s.value)n.items.push({start:[this.sourceToken]});else if(s.sep)s.sep.push(this.sourceToken);else{if(this.atIndentedComment(s.start,n.indent)){const l=n.items[n.items.length-2]?.value?.end;if(Array.isArray(l)){Array.prototype.push.apply(l,s.start),l.push(this.sourceToken),n.items.pop();return}}s.start.push(this.sourceToken)}return}if(this.indent>=n.indent){const i=!this.onKeyLine&&this.indent===n.indent,l=i&&(s.sep||s.explicitKey)&&this.type!=="seq-item-ind";let u=[];if(l&&s.sep&&!s.value){const f=[];for(let h=0;h<s.sep.length;++h){const m=s.sep[h];switch(m.type){case"newline":f.push(h);break;case"space":break;case"comment":m.indent>n.indent&&(f.length=0);break;default:f.length=0}}f.length>=2&&(u=s.sep.splice(f[1]))}switch(this.type){case"anchor":case"tag":l||s.value?(u.push(this.sourceToken),n.items.push({start:u}),this.onKeyLine=!0):s.sep?s.sep.push(this.sourceToken):s.start.push(this.sourceToken);return;case"explicit-key-ind":!s.sep&&!s.explicitKey?(s.start.push(this.sourceToken),s.explicitKey=!0):l||s.value?(u.push(this.sourceToken),n.items.push({start:u,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(s.explicitKey)if(s.sep)if(s.value)n.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Dn(s.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]});else if(ym(s.key)&&!Dn(s.sep,"newline")){const f=Kr(s.start),h=s.key,m=s.sep;m.push(this.sourceToken),delete s.key,delete s.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:f,key:h,sep:m}]})}else u.length>0?s.sep=s.sep.concat(u,this.sourceToken):s.sep.push(this.sourceToken);else if(Dn(s.start,"newline"))Object.assign(s,{key:null,sep:[this.sourceToken]});else{const f=Kr(s.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:f,key:null,sep:[this.sourceToken]}]})}else s.sep?s.value||l?n.items.push({start:u,key:null,sep:[this.sourceToken]}):Dn(s.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):s.sep.push(this.sourceToken):Object.assign(s,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const f=this.flowScalar(this.type);l||s.value?(n.items.push({start:u,key:f,sep:[]}),this.onKeyLine=!0):s.sep?this.stack.push(f):(Object.assign(s,{key:f,sep:[]}),this.onKeyLine=!0);return}default:{const f=this.startBlockValue(n);if(f){if(f.type==="block-seq"){if(!s.explicitKey&&s.sep&&!Dn(s.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&n.items.push({start:u});this.stack.push(f);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(n){const s=n.items[n.items.length-1];switch(this.type){case"newline":if(s.value){const i="end"in s.value?s.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):n.items.push({start:[this.sourceToken]})}else s.start.push(this.sourceToken);return;case"space":case"comment":if(s.value)n.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(s.start,n.indent)){const l=n.items[n.items.length-2]?.value?.end;if(Array.isArray(l)){Array.prototype.push.apply(l,s.start),l.push(this.sourceToken),n.items.pop();return}}s.start.push(this.sourceToken)}return;case"anchor":case"tag":if(s.value||this.indent<=n.indent)break;s.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==n.indent)break;s.value||Dn(s.start,"seq-item-ind")?n.items.push({start:[this.sourceToken]}):s.start.push(this.sourceToken);return}if(this.indent>n.indent){const i=this.startBlockValue(n);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(n){const s=n.items[n.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i?.type==="flow-collection")}else if(n.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!s||s.sep?n.items.push({start:[this.sourceToken]}):s.start.push(this.sourceToken);return;case"map-value-ind":!s||s.value?n.items.push({start:[],key:null,sep:[this.sourceToken]}):s.sep?s.sep.push(this.sourceToken):Object.assign(s,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!s||s.value?n.items.push({start:[this.sourceToken]}):s.sep?s.sep.push(this.sourceToken):s.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);!s||s.value?n.items.push({start:[],key:l,sep:[]}):s.sep?this.stack.push(l):Object.assign(s,{key:l,sep:[]});return}case"flow-map-end":case"flow-seq-end":n.end.push(this.sourceToken);return}const i=this.startBlockValue(n);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{const i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===n.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){const l=Ko(i),u=Kr(l);Vh(n);const f=n.end.splice(1,n.end.length);f.push(this.sourceToken);const h={type:"block-map",offset:n.offset,indent:n.indent,items:[{start:u,key:n,sep:f}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=h}else yield*this.lineEnd(n)}}flowScalar(n){if(this.onNewLine){let s=this.source.indexOf(`
`)+1;for(;s!==0;)this.onNewLine(this.offset+s),s=this.source.indexOf(`
`,s)+1}return{type:n,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(n){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const s=Ko(n),i=Kr(s);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const s=Ko(n),i=Kr(s);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(n,s){return this.type!=="comment"||this.indent<=s?!1:n.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(n){this.type!=="doc-mode"&&(n.end?n.end.push(this.sourceToken):n.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(n){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:n.end?n.end.push(this.sourceToken):n.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Kx(r){const n=r.prettyErrors!==!1;return{lineCounter:r.lineCounter||n&&new Vx||null,prettyErrors:n}}function lc(r,n={}){const{lineCounter:s,prettyErrors:i}=Kx(n),l=new Wx(s?.addNewLine),u=new Dx(n);let f=null;for(const h of u.compose(l.parse(r),!0,r.length))if(!f)f=h;else if(f.options.logLevel!=="silent"){f.errors.push(new li(h.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&s&&(f.errors.forEach(Dh(r,s)),f.warnings.forEach(Dh(r,s))),f}function qx(r){return r.languages.registerDocumentFormattingEditProvider("yaml",{provideDocumentFormattingEdits(n,s){try{const i=n.getValue(),l=lc(i);if(l.errors.length>0)return[];const u=l.toString({indent:s.tabSize,lineWidth:0});return u===i?[]:[{range:n.getFullModelRange(),text:u}]}catch{return[]}}})}const Wh="rulez-light",Kh="rulez-dark",Hx={base:"vs",inherit:!0,rules:[{token:"comment",foreground:"6b7280",fontStyle:"italic"},{token:"string",foreground:"059669"},{token:"number",foreground:"d97706"},{token:"keyword",foreground:"7c3aed"},{token:"type",foreground:"2563eb"}],colors:{"editor.background":"#ffffff","editor.foreground":"#1a1a1a","editor.lineHighlightBackground":"#f5f5f5","editor.selectionBackground":"#bfdbfe","editorLineNumber.foreground":"#9ca3af","editorLineNumber.activeForeground":"#374151","editor.inactiveSelectionBackground":"#e5e7eb","editorGutter.background":"#ffffff"}},Qx={base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6b7280",fontStyle:"italic"},{token:"string",foreground:"34d399"},{token:"number",foreground:"fbbf24"},{token:"keyword",foreground:"a78bfa"},{token:"type",foreground:"60a5fa"}],colors:{"editor.background":"#1a1a1a","editor.foreground":"#f5f5f5","editor.lineHighlightBackground":"#252525","editor.selectionBackground":"#1e3a5f","editorLineNumber.foreground":"#6b7280","editorLineNumber.activeForeground":"#9ca3af","editor.inactiveSelectionBackground":"#374151","editorGutter.background":"#1a1a1a"}};function Gx(){const r=ut(n=>n.settings.theme);return D.useMemo(()=>r==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r,[r])}function Yx({value:r,path:n,onChange:s,onSave:i}){const l=D.useRef(null),u=qt(U=>U.setCursorPosition),f=qt(U=>U.setSelection),h=qt(U=>U.setEditorRef),m=qt(U=>U.setValidationResults),g=Gx(),x=ut(U=>U.settings.editorFontSize),w=ut(U=>U.settings.editorTabSize),v=D.useMemo(()=>g==="dark"?Kh:Wh,[g]),C=D.useRef(!1),E=D.useRef(null),S=D.useRef(null),T=D.useRef([]),K=D.useCallback(U=>{U.editor.defineTheme(Wh,Hx),U.editor.defineTheme(Kh,Qx),C.current||(E.current=R1(U),S.current=qx(U),C.current=!0)},[]),B=D.useCallback((U,G)=>{for(const fe of T.current)fe.dispose();T.current=[],l.current=U,h(U),U.addCommand(G.KeyMod.CtrlCmd|G.KeyCode.KeyS,()=>{i?.()}),U.addCommand(G.KeyMod.CtrlCmd|G.KeyMod.Shift|G.KeyCode.KeyI,()=>{U.getAction("editor.action.formatDocument")?.run()});const q=U.onDidChangeCursorPosition(fe=>{u({line:fe.position.lineNumber,column:fe.position.column})});T.current.push(q);const se=U.onDidChangeCursorSelection(fe=>{const ae=fe.selection;ae.startLineNumber===ae.endLineNumber&&ae.startColumn===ae.endColumn?f(null):f({startLine:ae.startLineNumber,startColumn:ae.startColumn,endLine:ae.endLineNumber,endColumn:ae.endColumn})});T.current.push(se);const ee=U.getModel();if(ee){const fe=G.editor.onDidChangeMarkers(ae=>{const Q=ee.uri.toString();if(ae.some(L=>L.toString()===Q)){const L=G.editor.getModelMarkers({resource:ee.uri}),Z=L.filter(_=>_.severity===G.MarkerSeverity.Error).map(_=>({line:_.startLineNumber,column:_.startColumn,message:_.message,severity:"error"})),te=L.filter(_=>_.severity===G.MarkerSeverity.Warning).map(_=>({line:_.startLineNumber,column:_.startColumn,message:_.message,severity:"warning"}));m(Z,te)}});T.current.push(fe)}U.focus()},[i,u,f,h,m]);D.useEffect(()=>()=>{for(const U of T.current)U.dispose();T.current=[],S.current?.dispose(),S.current=null,h(null)},[h]);const J=D.useCallback(U=>{s(U??"")},[s]);return p.jsx(Wv,{height:"100%",language:"yaml",path:n,value:r,onChange:J,beforeMount:K,onMount:B,theme:v,options:{minimap:{enabled:!1},wordWrap:"off",tabSize:w,autoIndent:"full",folding:!0,fontSize:x,lineNumbers:"on",renderLineHighlight:"line",scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:8,bottom:8}}})}function Jx({isOpen:r,title:n,message:s,onSave:i,onDiscard:l,onCancel:u}){return D.useEffect(()=>{if(!r)return;const f=h=>{h.key==="Escape"&&u()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[r,u]),r?p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50"}),p.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-lg bg-white dark:bg-[#252525] shadow-xl border border-gray-200 dark:border-gray-700 p-6",children:[p.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:n}),p.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s}),p.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[p.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-sm font-medium rounded border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium rounded text-white bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 transition-colors",children:"Don't Save"}),p.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium rounded text-white bg-accent hover:bg-accent/90 dark:bg-accent-dark dark:hover:bg-accent-dark/90 transition-colors",children:"Save"})]})]})]}):null}function Zx(){const{openFiles:r,activeFile:n,setActiveFile:s,closeFile:i,markSaved:l}=Lt(),[u,f]=D.useState(null),h=Array.from(r.entries());if(h.length===0)return null;const m=C=>{r.get(C)?.modified?f(C):i(C)},g=async()=>{if(!u)return;const C=r.get(u);C&&(await il(u,C.content),l(u)),i(u),f(null)},x=()=>{u&&(i(u),f(null))},w=()=>{f(null)},v=u?.split("/").pop()??"";return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 bg-surface dark:bg-surface-dark overflow-x-auto",children:h.map(([C,E])=>p.jsx(Xx,{path:C,modified:E.modified,isActive:C===n,onClick:()=>s(C),onClose:()=>m(C)},C))}),p.jsx(Jx,{isOpen:u!==null,title:"Unsaved Changes",message:`"${v}" has unsaved changes. Do you want to save before closing?`,onSave:g,onDiscard:x,onCancel:w})]})}function Xx({path:r,modified:n,isActive:s,onClick:i,onClose:l}){const u=r.split("/").pop()||r;return p.jsxs("div",{className:`group relative flex items-center border-r border-gray-200 dark:border-gray-700 transition-colors ${s?"bg-white dark:bg-[#1A1A1A] text-gray-900 dark:text-gray-100":"bg-surface dark:bg-surface-dark text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[p.jsxs("button",{type:"button",onClick:i,className:"flex items-center gap-2 px-3 py-2 text-sm cursor-pointer",children:[p.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p.jsx("span",{className:"whitespace-nowrap",children:u}),n&&p.jsx("span",{className:"w-2 h-2 rounded-full bg-accent dark:bg-accent-dark"})]}),p.jsx("button",{type:"button",onClick:l,className:"p-0.5 mr-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Close ${u}`,children:p.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function vm(r){return r.outcome==="block"||r.decision==="blocked"?"error":r.decision==="warned"||r.mode==="warn"?"warn":"info"}function ew(r){return JSON.stringify(r,null,2)}function dn(r){return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r}function tw(r){const n=["timestamp","event_type","tool_name","outcome","decision","mode","rules_matched","processing_ms","session_id","response_reason"],s=r.map(i=>[dn(i.timestamp),dn(i.eventType),dn(i.toolName??""),dn(i.outcome),dn(i.decision??""),dn(i.mode??""),dn(i.rulesMatched.join("; ")),String(i.processingMs),dn(i.sessionId),dn(i.responseReason??"")].join(","));return[n.join(","),...s].join(`
`)}function Eu(r,n,s){let i=r;if(s!=="all"&&(i=i.filter(l=>vm(l)===s)),n.trim()){const l=n.toLowerCase();i=i.filter(u=>u.eventType.toLowerCase().includes(l)||u.sessionId.toLowerCase().includes(l)||u.outcome.toLowerCase().includes(l)||(u.toolName?.toLowerCase().includes(l)??!1)||u.rulesMatched.some(f=>f.toLowerCase().includes(l))||(u.responseReason?.toLowerCase().includes(l)??!1)||(u.eventDetailCommand?.toLowerCase().includes(l)??!1)||(u.eventDetailFilePath?.toLowerCase().includes(l)??!1)||(u.decision?.toLowerCase().includes(l)??!1))}return i}const el=cs((r,n)=>({entries:[],filteredEntries:[],totalCount:0,isLoading:!1,error:null,textFilter:"",severityFilter:"all",sinceFilter:null,untilFilter:null,loadLogs:async()=>{const{sinceFilter:s,untilFilter:i,textFilter:l,severityFilter:u}=n();r({isLoading:!0,error:null});try{const f=await hy({since:s??void 0,until:i??void 0}),h=Eu(f,l,u);r({entries:f,filteredEntries:h,totalCount:f.length,isLoading:!1})}catch(f){r({error:f instanceof Error?f.message:String(f),isLoading:!1})}},refreshLogs:async()=>{await n().loadLogs()},setTextFilter:s=>{const{entries:i,severityFilter:l}=n(),u=Eu(i,s,l);r({textFilter:s,filteredEntries:u})},setSeverityFilter:s=>{const{entries:i,textFilter:l}=n(),u=Eu(i,l,s);r({severityFilter:s,filteredEntries:u})},setSinceFilter:s=>{r({sinceFilter:s}),n().loadLogs()},setUntilFilter:s=>{r({untilFilter:s}),n().loadLogs()}}));var nw=vp();function qr(r,n,s){let i=s.initialDeps??[],l,u=!0;function f(){var h,m,g;let x;s.key&&((h=s.debug)!=null&&h.call(s))&&(x=Date.now());const w=r();if(!(w.length!==i.length||w.some((E,S)=>i[S]!==E)))return l;i=w;let C;if(s.key&&((m=s.debug)!=null&&m.call(s))&&(C=Date.now()),l=n(...w),s.key&&((g=s.debug)!=null&&g.call(s))){const E=Math.round((Date.now()-x)*100)/100,S=Math.round((Date.now()-C)*100)/100,T=S/16,K=(B,J)=>{for(B=String(B);B.length<J;)B=" "+B;return B};console.info(`%c ${K(S,5)} /${K(E,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,s?.key)}return s?.onChange&&!(u&&s.skipInitialOnChange)&&s.onChange(l),u=!1,l}return f.updateDeps=h=>{i=h},f}function qh(r,n){if(r===void 0)throw new Error("Unexpected undefined");return r}const rw=(r,n)=>Math.abs(r-n)<1.01,sw=(r,n,s)=>{let i;return function(...l){r.clearTimeout(i),i=r.setTimeout(()=>n.apply(this,l),s)}},Hh=r=>{const{offsetWidth:n,offsetHeight:s}=r;return{width:n,height:s}},iw=r=>r,ow=r=>{const n=Math.max(r.startIndex-r.overscan,0),s=Math.min(r.endIndex+r.overscan,r.count-1),i=[];for(let l=n;l<=s;l++)i.push(l);return i},lw=(r,n)=>{const s=r.scrollElement;if(!s)return;const i=r.targetWindow;if(!i)return;const l=f=>{const{width:h,height:m}=f;n({width:Math.round(h),height:Math.round(m)})};if(l(Hh(s)),!i.ResizeObserver)return()=>{};const u=new i.ResizeObserver(f=>{const h=()=>{const m=f[0];if(m?.borderBoxSize){const g=m.borderBoxSize[0];if(g){l({width:g.inlineSize,height:g.blockSize});return}}l(Hh(s))};r.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return u.observe(s,{box:"border-box"}),()=>{u.unobserve(s)}},Qh={passive:!0},Gh=typeof window>"u"?!0:"onscrollend"in window,aw=(r,n)=>{const s=r.scrollElement;if(!s)return;const i=r.targetWindow;if(!i)return;let l=0;const u=r.options.useScrollendEvent&&Gh?()=>{}:sw(i,()=>{n(l,!1)},r.options.isScrollingResetDelay),f=x=>()=>{const{horizontal:w,isRtl:v}=r.options;l=w?s.scrollLeft*(v&&-1||1):s.scrollTop,u(),n(l,x)},h=f(!0),m=f(!1);s.addEventListener("scroll",h,Qh);const g=r.options.useScrollendEvent&&Gh;return g&&s.addEventListener("scrollend",m,Qh),()=>{s.removeEventListener("scroll",h),g&&s.removeEventListener("scrollend",m)}},uw=(r,n,s)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[s.options.horizontal?"inlineSize":"blockSize"])}return r[s.options.horizontal?"offsetWidth":"offsetHeight"]},cw=(r,{adjustments:n=0,behavior:s},i)=>{var l,u;const f=r+n;(u=(l=i.scrollElement)==null?void 0:l.scrollTo)==null||u.call(l,{[i.options.horizontal?"left":"top"]:f,behavior:s})};class fw{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let s=null;const i=()=>s||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:s=new this.targetWindow.ResizeObserver(l=>{l.forEach(u=>{const f=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(f):f()})}));return{disconnect:()=>{var l;(l=i())==null||l.disconnect(),s=null},observe:l=>{var u;return(u=i())==null?void 0:u.observe(l,{box:"border-box"})},unobserve:l=>{var u;return(u=i())==null?void 0:u.unobserve(l)}}})(),this.range=null,this.setOptions=s=>{Object.entries(s).forEach(([i,l])=>{typeof l>"u"&&delete s[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:iw,rangeExtractor:ow,onChange:()=>{},measureElement:uw,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...s}},this.notify=s=>{var i,l;(l=(i=this.options).onChange)==null||l.call(i,this,s)},this.maybeNotify=qr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),s=>{this.notify(s)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((s=this.scrollElement)==null?void 0:s.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=u,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(s,i)=>{const l=new Map,u=new Map;for(let f=i-1;f>=0;f--){const h=s[f];if(l.has(h.lane))continue;const m=u.get(h.lane);if(m==null||h.end>m.end?u.set(h.lane,h):h.end<m.end&&l.set(h.lane,!0),l.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((f,h)=>f.end===h.end?f.index-h.index:f.end-h.end)[0]:void 0},this.getMeasurementOptions=qr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(s,i,l,u,f,h)=>(this.prevLanes!==void 0&&this.prevLanes!==h&&(this.lanesChangedFlag=!0),this.prevLanes=h,this.pendingMeasuredCacheIndexes=[],{count:s,paddingStart:i,scrollMargin:l,getItemKey:u,enabled:f,lanes:h}),{key:!1}),this.getMeasurements=qr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:s,paddingStart:i,scrollMargin:l,getItemKey:u,enabled:f,lanes:h},m)=>{if(!f)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>s)for(const v of this.laneAssignments.keys())v>=s&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const g=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===s&&(this.lanesSettling=!1);const x=this.measurementsCache.slice(0,g),w=new Array(h).fill(void 0);for(let v=0;v<g;v++){const C=x[v];C&&(w[C.lane]=v)}for(let v=g;v<s;v++){const C=u(v),E=this.laneAssignments.get(v);let S,T;if(E!==void 0&&this.options.lanes>1){S=E;const U=w[S],G=U!==void 0?x[U]:void 0;T=G?G.end+this.options.gap:i+l}else{const U=this.options.lanes===1?x[v-1]:this.getFurthestMeasurement(x,v);T=U?U.end+this.options.gap:i+l,S=U?U.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,S)}const K=m.get(C),B=typeof K=="number"?K:this.options.estimateSize(v),J=T+B;x[v]={index:v,start:T,size:B,end:J,key:C,lane:S},w[S]=v}return this.measurementsCache=x,x},{key:!1,debug:()=>this.options.debug}),this.calculateRange=qr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(s,i,l,u)=>this.range=s.length>0&&i>0?dw({measurements:s,outerSize:i,scrollOffset:l,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=qr(()=>{let s=null,i=null;const l=this.calculateRange();return l&&(s=l.startIndex,i=l.endIndex),this.maybeNotify.updateDeps([this.isScrolling,s,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,s,i]},(s,i,l,u,f)=>u===null||f===null?[]:s({startIndex:u,endIndex:f,overscan:i,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const i=this.options.indexAttribute,l=s.getAttribute(i);return l?parseInt(l,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(s,i)=>{const l=this.indexFromElement(s),u=this.measurementsCache[l];if(!u)return;const f=u.key,h=this.elementsCache.get(f);h!==s&&(h&&this.observer.unobserve(h),this.observer.observe(s),this.elementsCache.set(f,s)),s.isConnected&&this.resizeItem(l,this.options.measureElement(s,i,this))},this.resizeItem=(s,i)=>{const l=this.measurementsCache[s];if(!l)return;const u=this.itemSizeCache.get(l.key)??l.size,f=i-u;f!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,f,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=f,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,i)),this.notify(!1))},this.measureElement=s=>{if(!s){this.elementsCache.forEach((i,l)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(l))});return}this._measureElement(s,void 0)},this.getVirtualItems=qr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(s,i)=>{const l=[];for(let u=0,f=s.length;u<f;u++){const h=s[u],m=i[h];l.push(m)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=s=>{const i=this.getMeasurements();if(i.length!==0)return qh(i[xm(0,i.length-1,l=>qh(i[l]).start,s)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const s=this.scrollElement.document.documentElement;return this.options.horizontal?s.scrollWidth-this.scrollElement.innerWidth:s.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(s,i,l=0)=>{if(!this.scrollElement)return 0;const u=this.getSize(),f=this.getScrollOffset();i==="auto"&&(i=s>=f+u?"end":"start"),i==="center"?s+=(l-u)/2:i==="end"&&(s-=u);const h=this.getMaxScrollOffset();return Math.max(Math.min(h,s),0)},this.getOffsetForIndex=(s,i="auto")=>{s=Math.max(0,Math.min(s,this.options.count-1));const l=this.measurementsCache[s];if(!l)return;const u=this.getSize(),f=this.getScrollOffset();if(i==="auto")if(l.end>=f+u-this.options.scrollPaddingEnd)i="end";else if(l.start<=f+this.options.scrollPaddingStart)i="start";else return[f,i];if(i==="end"&&s===this.options.count-1)return[this.getMaxScrollOffset(),i];const h=i==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,i,l.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(s,{align:i="start",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(s,i),{adjustments:void 0,behavior:l})},this.scrollToIndex=(s,{align:i="auto",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s=Math.max(0,Math.min(s,this.options.count-1)),this.currentScrollToIndex=s;let u=0;const f=10,h=g=>{if(!this.targetWindow)return;const x=this.getOffsetForIndex(s,g);if(!x){console.warn("Failed to get offset for index:",s);return}const[w,v]=x;this._scrollToOffset(w,{adjustments:void 0,behavior:l}),this.targetWindow.requestAnimationFrame(()=>{const C=()=>{if(this.currentScrollToIndex!==s)return;const E=this.getScrollOffset(),S=this.getOffsetForIndex(s,v);if(!S){console.warn("Failed to get offset for index:",s);return}rw(S[0],E)||m(v)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(C):C()})},m=g=>{this.targetWindow&&this.currentScrollToIndex===s&&(u++,u<f?this.targetWindow.requestAnimationFrame(()=>h(g)):console.warn(`Failed to scroll to index ${s} after ${f} attempts.`))};h(i)},this.scrollBy=(s,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+s,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var s;const i=this.getMeasurements();let l;if(i.length===0)l=this.options.paddingStart;else if(this.options.lanes===1)l=((s=i[i.length-1])==null?void 0:s.end)??0;else{const u=Array(this.options.lanes).fill(null);let f=i.length-1;for(;f>=0&&u.some(h=>h===null);){const h=i[f];u[h.lane]===null&&(u[h.lane]=h.end),f--}l=Math.max(...u.filter(h=>h!==null))}return Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(s,{adjustments:i,behavior:l})=>{this.options.scrollToFn(s,{behavior:l,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const xm=(r,n,s,i)=>{for(;r<=n;){const l=(r+n)/2|0,u=s(l);if(u<i)r=l+1;else if(u>i)n=l-1;else return l}return r>0?r-1:0};function dw({measurements:r,outerSize:n,scrollOffset:s,lanes:i}){const l=r.length-1,u=m=>r[m].start;if(r.length<=i)return{startIndex:0,endIndex:l};let f=xm(0,l,u,s),h=f;if(i===1)for(;h<l&&r[h].end<s+n;)h++;else if(i>1){const m=Array(i).fill(0);for(;h<l&&m.some(x=>x<s+n);){const x=r[h];m[x.lane]=x.end,h++}const g=Array(i).fill(s+n);for(;f>=0&&g.some(x=>x>=s);){const x=r[f];g[x.lane]=x.start,f--}f=Math.max(0,f-f%i),h=Math.min(l,h+(i-1-h%i))}return{startIndex:f,endIndex:h}}const Yh=typeof document<"u"?D.useLayoutEffect:D.useEffect;function hw({useFlushSync:r=!0,...n}){const s=D.useReducer(()=>({}),{})[1],i={...n,onChange:(u,f)=>{var h;r&&f?nw.flushSync(s):s(),(h=n.onChange)==null||h.call(n,u,f)}},[l]=D.useState(()=>new fw(i));return l.setOptions(i),Yh(()=>l._didMount(),[]),Yh(()=>l._willUpdate()),l}function pw(r){return hw({observeElementRect:lw,observeElementOffset:aw,scrollToFn:cw,...r})}const mw={error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",warn:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",debug:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};function gw({entry:r,style:n,onCopy:s}){const[i,l]=D.useState(!1),u=vm(r),f=D.useCallback(()=>{s?.(r),l(!0),setTimeout(()=>l(!1),1500)},[r,s]),h=r.timestamp?new Date(r.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}):"--:--:--",m=r.rulesMatched.length>0?`${r.rulesMatched.length} rule(s): ${r.rulesMatched.join(", ")}`:r.responseReason??"";return p.jsxs("div",{"data-testid":"log-entry",style:n,className:"flex items-center gap-2 px-3 text-xs border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[p.jsx("span",{className:"w-24 shrink-0 font-mono text-gray-500 dark:text-gray-400",children:h}),p.jsx("span",{className:`w-14 shrink-0 text-center rounded px-1 py-0.5 font-medium ${mw[u]}`,children:u}),p.jsx("span",{className:"w-28 shrink-0 text-gray-700 dark:text-gray-300 truncate",children:r.eventType}),p.jsx("span",{className:"w-16 shrink-0 text-gray-600 dark:text-gray-400 truncate",children:r.toolName??"-"}),p.jsx("span",{className:"w-14 shrink-0 text-gray-600 dark:text-gray-400",children:r.outcome}),p.jsx("span",{className:"flex-1 text-gray-500 dark:text-gray-400 truncate",children:m}),p.jsx("button",{type:"button",onClick:f,className:"w-14 shrink-0 text-center px-1 py-0.5 rounded text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400 transition-colors","aria-label":"Copy",children:i?"Copied!":"Copy"})]})}function yw(){const r=el(h=>h.filteredEntries),[n,s]=D.useState(!1),[i,l]=D.useState(null),u=D.useRef(null);D.useEffect(()=>{if(!n)return;function h(m){u.current&&!u.current.contains(m.target)&&s(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[n]);const f=D.useCallback(async h=>{s(!1);const m=h,g=h==="json"?ew(r):tw(r);if(Je())try{const{save:x}=await st(async()=>{const{save:C}=await import("./index-DkQ563B5.js");return{save:C}},__vite__mapDeps([0,1])),{writeTextFile:w}=await st(async()=>{const{writeTextFile:C}=await import("./index-Bmmla83_.js");return{writeTextFile:C}},__vite__mapDeps([2,1])),v=await x({filters:[{name:h.toUpperCase(),extensions:[m]}],defaultPath:`rulez-logs.${m}`});v&&(await w(v,g),l("Exported!"))}catch(x){console.error("Export failed:",x),Jh(g,`rulez-logs.${m}`,h==="json"?"application/json":"text/csv"),l("Exported!")}else Jh(g,`rulez-logs.${m}`,h==="json"?"application/json":"text/csv"),l("Exported!");setTimeout(()=>l(null),2e3)},[r]);return p.jsxs("div",{ref:u,className:"relative",children:[p.jsx("button",{type:"button",onClick:()=>s(h=>!h),className:"px-2 py-1 text-sm rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors","aria-label":"Export","aria-haspopup":"true","aria-expanded":n,children:i??"Export"}),n&&p.jsxs("div",{role:"menu",className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded shadow-lg z-50 min-w-[140px]",children:[p.jsx("button",{type:"button",role:"menuitem",onClick:()=>f("json"),className:"w-full text-left px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Export as JSON"}),p.jsx("button",{type:"button",role:"menuitem",onClick:()=>f("csv"),className:"w-full text-left px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Export as CSV"})]})]})}function Jh(r,n,s){const i=new Blob([r],{type:s}),l=URL.createObjectURL(i),u=document.createElement("a");u.href=l,u.download=n,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)}function vw(){const{entries:r,filteredEntries:n,severityFilter:s,setSeverityFilter:i,setSinceFilter:l,setUntilFilter:u,refreshLogs:f}=el(),h=el(C=>C.setTextFilter),[m,g]=D.useState(""),x=D.useRef(null);D.useEffect(()=>(x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{h(m)},300),()=>{x.current&&clearTimeout(x.current)}),[m,h]);const w=D.useCallback(C=>{const E=C.target.value;l(E?new Date(`${E}T00:00:00Z`).toISOString():null)},[l]),v=D.useCallback(C=>{const E=C.target.value;u(E?new Date(`${E}T23:59:59Z`).toISOString():null)},[u]);return p.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex-wrap",children:[p.jsx("input",{type:"text",placeholder:"Search logs...",value:m,onChange:C=>g(C.target.value),className:"px-2 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 w-48 focus:outline-none focus:ring-1 focus:ring-accent dark:focus:ring-accent-dark"}),p.jsxs("select",{"aria-label":"Severity",value:s,onChange:C=>i(C.target.value),className:"px-2 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-accent dark:focus:ring-accent-dark",children:[p.jsx("option",{value:"all",children:"All Severities"}),p.jsx("option",{value:"error",children:"Error"}),p.jsx("option",{value:"warn",children:"Warning"}),p.jsx("option",{value:"info",children:"Info"})]}),p.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:["From",p.jsx("input",{type:"date","aria-label":"From",onChange:w,className:"px-1 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),p.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:["To",p.jsx("input",{type:"date","aria-label":"To",onChange:v,className:"px-1 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),p.jsx(yw,{}),p.jsx("button",{type:"button",onClick:f,className:"px-2 py-1 text-sm rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors","aria-label":"Refresh",children:"Refresh"}),p.jsx("span",{className:"ml-auto text-xs text-gray-500 dark:text-gray-400",children:n.length===r.length?`${r.length} entries`:`${n.length} of ${r.length} entries`})]})}const xw=36,ww=20;function kw(){const{filteredEntries:r,isLoading:n,error:s,loadLogs:i}=el(),l=D.useRef(null);D.useEffect(()=>{i()},[i]);const u=pw({count:r.length,getScrollElement:()=>l.current,estimateSize:()=>xw,overscan:ww}),f=D.useCallback(async h=>{const m=JSON.stringify(h,null,2);if(Je())try{const{writeText:g}=await st(async()=>{const{writeText:x}=await import("./index-DJRFAbvS.js");return{writeText:x}},__vite__mapDeps([4,1]));await g(m)}catch{await navigator.clipboard.writeText(m)}else await navigator.clipboard.writeText(m)},[]);return p.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-[#1A1A1A]",children:[p.jsx(vw,{}),p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 text-xs font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-800",children:[p.jsx("span",{className:"w-24 shrink-0",children:"Time"}),p.jsx("span",{className:"w-14 shrink-0 text-center",children:"Severity"}),p.jsx("span",{className:"w-28 shrink-0",children:"Event"}),p.jsx("span",{className:"w-16 shrink-0",children:"Tool"}),p.jsx("span",{className:"w-14 shrink-0",children:"Outcome"}),p.jsx("span",{className:"flex-1",children:"Details"}),p.jsx("span",{className:"w-14 shrink-0 text-center",children:"Actions"})]}),p.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto",children:[n&&p.jsx("div",{className:"flex items-center justify-center py-12 text-gray-400 dark:text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-gray-300 border-t-accent rounded-full mx-auto mb-2"}),p.jsx("p",{children:"Loading logs..."})]})}),s&&p.jsx("div",{className:"flex items-center justify-center py-12 text-red-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-medium",children:"Error loading logs"}),p.jsx("p",{className:"text-sm mt-1",children:s})]})}),!n&&!s&&r.length===0&&p.jsx("div",{className:"flex items-center justify-center py-12 text-gray-400 dark:text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("svg",{className:"w-10 h-10 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p.jsx("p",{children:"No log entries found"})]})}),!n&&!s&&r.length>0&&p.jsx("div",{style:{height:`${u.getTotalSize()}px`,position:"relative",width:"100%"},children:u.getVirtualItems().map(h=>{const m=r[h.index];return m?p.jsx(gw,{entry:m,onCopy:f,style:{position:"absolute",top:0,left:0,width:"100%",height:`${h.size}px`,transform:`translateY(${h.start}px)`}},h.key):null})})]})]})}function Sw(){const{activeFile:r,openFiles:n,updateContent:s,markSaved:i,getActiveContent:l}=Lt(),u=ol(g=>g.mainView),f=l(),h=D.useRef(new Set);D.useEffect(()=>{const g=new Set(n.keys()),x=[];for(const w of h.current)g.has(w)||x.push(w);x.length>0&&Ku.init().then(w=>{for(const v of x){const C=w.Uri.parse(v);w.editor.getModel(C)?.dispose()}}),h.current=g},[n]);const m=D.useCallback(async()=>{if(!r)return;const g=qt.getState().editorRef;if(g){const w=g.getAction("editor.action.formatDocument");w&&await w.run()}const x=Lt.getState().getActiveContent();if(x!==null)try{await il(r,x),i(r)}catch(w){console.error("Failed to save file:",w)}},[r,i]);return u==="logs"?p.jsx("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:p.jsx(kw,{})}):p.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[p.jsx(Zx,{}),p.jsx("div",{className:"flex-1 overflow-hidden",children:r&&f!==null?p.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-[#1A1A1A]",children:[p.jsx(Kv,{}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx(Yx,{value:f,path:r,onChange:g=>s(r,g),onSave:m})}),p.jsx(Jv,{})]}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 dark:text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",role:"img","aria-label":"No file selected",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p.jsx("p",{children:"Select a file from the sidebar to edit"})]})})})]})}function bw({rule:r,lineNumber:n,onNavigate:s}){const i=r.enabled===!1,l=()=>{n!==void 0&&s&&s(n)};return p.jsxs("button",{type:"button",onClick:l,className:`w-full text-left p-3 rounded-lg border transition-colors cursor-pointer ${i?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 opacity-60":"border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1A1A1A] hover:border-accent/50 dark:hover:border-accent-dark/50 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[p.jsx("span",{className:`text-sm font-semibold truncate ${i?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:r.name}),p.jsx(Cw,{actions:r.actions})]}),r.description&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 line-clamp-2",children:r.description}),r.matchers.tools&&r.matchers.tools.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1",children:r.matchers.tools.map(u=>p.jsx("span",{className:"inline-block px-1.5 py-0.5 text-[10px] font-medium rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:u},u))}),i&&p.jsx("span",{className:"inline-block mt-1.5 text-[10px] font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Disabled"})]})}function Cw({actions:r}){return r.block?p.jsx("span",{className:"inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:"Block"}):r.inject?p.jsx("span",{className:"inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",children:"Inject"}):r.run?p.jsx("span",{className:"inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:"Run"}):r.block_if_match?p.jsx("span",{className:"inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",children:"Block If"}):null}function Nw(r){if(!r.trim())return null;try{const n=lc(r);if(n.errors.length>0)return null;const s=n.toJS();if(!s||typeof s!="object")return null;const i={version:typeof s.version=="string"?s.version:"1"};if(s.settings&&typeof s.settings=="object"){const u=s.settings;i.settings={log_level:jw(u.log_level)?u.log_level:void 0,fail_open:typeof u.fail_open=="boolean"?u.fail_open:void 0,max_context_size:typeof u.max_context_size=="string"?u.max_context_size:void 0}}const l=Array.isArray(s.rules)?s.rules:Array.isArray(s.hooks)?s.hooks:void 0;return l&&(i.rules=l.filter(u=>u!==null&&typeof u=="object").map(u=>Ew(u))),i}catch{return null}}function jw(r){return typeof r=="string"&&["debug","info","warn","error"].includes(r)}function Ew(r){const n={},s={};if(r.matchers&&typeof r.matchers=="object"){const i=r.matchers;Array.isArray(i.tools)&&(n.tools=i.tools.map(String)),Array.isArray(i.extensions)&&(n.extensions=i.extensions.map(String)),Array.isArray(i.directories)&&(n.directories=i.directories.map(String)),typeof i.command_match=="string"&&(n.command_match=i.command_match),typeof i.path_match=="string"&&(n.path_match=i.path_match)}if(r.actions&&typeof r.actions=="object"){const i=r.actions;typeof i.block=="boolean"&&(s.block=i.block),typeof i.inject=="string"&&(s.inject=i.inject),Array.isArray(i.inject)&&(s.inject=i.inject.map(String)),typeof i.run=="string"&&(s.run=i.run),typeof i.block_if_match=="string"&&(s.block_if_match=i.block_if_match)}return{name:typeof r.name=="string"?r.name:"unnamed",description:typeof r.description=="string"?r.description:void 0,enabled:typeof r.enabled=="boolean"?r.enabled:void 0,matchers:n,actions:s}}function Tw(r){const n=new Map;if(!r.trim())return n;try{const s=lc(r);if(s.errors.length>0)return n;const i=s.toJS(),l=Array.isArray(i?.rules)?"rules":Array.isArray(i?.hooks)?"hooks":null;if(!l)return n;const u=s.contents;if(!u||!("items"in u))return n;const h=u.items.find(g=>{const x=g.key;return x&&typeof x=="object"&&"value"in x&&x.value===l});if(!h?.value||typeof h.value!="object"||!("items"in h.value))return n;const m=h.value.items;for(const g of m){if(!g||typeof g!="object")continue;const x=g;let w;if(x.items)for(const v of x.items){const C=v.key;if(C&&typeof C=="object"&&"value"in C&&C.value==="name"){const E=v.value;E&&typeof E=="object"&&"value"in E&&(w=String(E.value));break}}if(w&&x.range){const v=_w(r,x.range[0]);n.set(w,v)}}}catch{}return n}function _w(r,n){let s=1;for(let i=0;i<n&&i<r.length;i++)r[i]===`
`&&s++;return s}function Ow(r){const n=Nw(r);if(!n)return null;const s=Tw(r);return{config:n,linePositions:s}}function Lw(){const r=Lt(w=>w.getActiveContent()),[n,s]=D.useState(!0),[i,l]=D.useState(!0),u=D.useMemo(()=>r?Ow(r):null,[r]),f=w=>{const C=qt.getState().editorRef;C&&(C.revealLineInCenter(w),C.setPosition({lineNumber:w,column:1}))};if(!r)return p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rule Tree"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Open a configuration file to view the rule tree."})]});if(!u)return p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rule Tree"}),p.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:"Unable to parse YAML. Fix syntax errors to see the rule tree."})]});const{config:h,linePositions:m}=u,g=h.rules??[],x=h.settings;return p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rule Tree"}),p.jsx(Zh,{title:"Settings",expanded:n,onToggle:()=>s(w=>!w),children:x?p.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[x.log_level!==void 0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"log_level"}),p.jsx("span",{className:"font-mono text-gray-800 dark:text-gray-200",children:x.log_level})]}),x.fail_open!==void 0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"fail_open"}),p.jsx("span",{className:"font-mono text-gray-800 dark:text-gray-200",children:String(x.fail_open)})]}),x.max_context_size!==void 0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"max_context_size"}),p.jsx("span",{className:"font-mono text-gray-800 dark:text-gray-200",children:x.max_context_size})]}),!x.log_level&&x.fail_open===void 0&&!x.max_context_size&&p.jsx("p",{className:"text-gray-400 dark:text-gray-500 italic",children:"No settings defined"})]}):p.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic",children:"No settings defined"})}),p.jsx(Zh,{title:`Rules (${g.length})`,expanded:i,onToggle:()=>l(w=>!w),children:g.length>0?p.jsx("div",{className:"space-y-2",children:g.map((w,v)=>p.jsx(bw,{rule:w,lineNumber:m.get(w.name),onNavigate:f},`${w.name}-${v}`))}):p.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic",children:"No rules defined"})})]})}function Zh({title:r,expanded:n,onToggle:s,children:i}){return p.jsxs("div",{children:[p.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-1.5 w-full text-left text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:[p.jsx("svg",{className:`w-3.5 h-3.5 transition-transform ${n?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),p.jsx("span",{children:r})]}),n&&p.jsx("div",{className:"mt-2 ml-5",children:i})]})}const qo="w-full px-3 py-2 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#1A1A1A] text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent";function Pw(){const r=ut(g=>g.settings),n=ut(g=>g.setTheme),s=ut(g=>g.setEditorFontSize),i=ut(g=>g.setEditorTabSize),l=ut(g=>g.setRulezBinaryPath),u=ut(g=>g.setOnboardingComplete),f=g=>{const x=Number.parseInt(g,10);Number.isNaN(x)||x<=0||s(x)},h=g=>{const x=Number.parseInt(g,10);Number.isNaN(x)||x<=0||i(x)},m=g=>{l(g.trim()?g:null)};return p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Settings"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Theme and editor preferences apply immediately."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"theme",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Theme"}),p.jsxs("select",{id:"theme",value:r.theme,onChange:g=>void n(g.target.value),className:qo,children:[p.jsx("option",{value:"system",children:"System"}),p.jsx("option",{value:"light",children:"Light"}),p.jsx("option",{value:"dark",children:"Dark"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"editor-font-size",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Editor font size"}),p.jsx("input",{id:"editor-font-size",type:"number",min:10,max:24,value:r.editorFontSize,onChange:g=>f(g.target.value),className:qo})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"editor-tab-size",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Editor tab size"}),p.jsx("input",{id:"editor-tab-size",type:"number",min:2,max:8,value:r.editorTabSize,onChange:g=>h(g.target.value),className:qo})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"rulez-binary-path",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"RuleZ binary path"}),p.jsx("input",{id:"rulez-binary-path",type:"text",value:r.rulezBinaryPath??"",onChange:g=>m(g.target.value),placeholder:"/usr/local/bin/rulez",className:qo}),p.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Leave blank to use the default PATH lookup."})]}),p.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{type:"button",onClick:()=>void u(!1),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-[#1A1A1A] border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Run Onboarding Wizard"}),p.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Re-run the setup wizard to reconfigure binary path and generate sample config."})]})]})]})}function Mw({evaluations:r}){const n=r.length<=5,[s,i]=D.useState(n);return r.length===0?null:p.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1A1A1A]",children:[p.jsxs("button",{type:"button",onClick:()=>i(!s),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[p.jsxs("span",{children:["Evaluation Trace (",r.length,")"]}),p.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&p.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 divide-y divide-gray-100 dark:divide-gray-800",children:r.map(l=>p.jsx(Aw,{evaluation:l},l.ruleName))})]})}function Aw({evaluation:r}){return p.jsxs("div",{className:"px-3 py-2 space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[r.matched?p.jsx("svg",{className:"w-3.5 h-3.5 text-green-500 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),p.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.ruleName})]}),p.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.timeMs.toFixed(1)," ms"]})]}),r.pattern&&p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Pattern: "}),p.jsx("code",{className:"font-mono text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded",children:r.pattern})]}),r.input&&p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Input: "}),p.jsx("code",{className:"font-mono text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded",children:r.input})]}),r.details&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.details})]})}const Iw=["PreToolUse","PostToolUse","PermissionRequest","UserPromptSubmit","SessionStart","SessionEnd","PreCompact"],Rw=D.forwardRef(function({onSubmit:n,isLoading:s},i){const[l,u]=D.useState(""),[f,h]=D.useState(""),[m,g]=D.useState(""),[x,w]=D.useState("");D.useImperativeHandle(i,()=>({setParams(E){u(E.eventType),h(E.tool??""),g(E.command??""),w(E.path??"")}}));function v(E){if(E.preventDefault(),!l)return;const S={eventType:l};f.trim()&&(S.tool=f.trim()),m.trim()&&(S.command=m.trim()),x.trim()&&(S.path=x.trim()),n(S)}const C="w-full px-3 py-2 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#1A1A1A] text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent";return p.jsxs("form",{onSubmit:v,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"event-type",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Event Type"}),p.jsxs("select",{id:"event-type",value:l,onChange:E=>u(E.target.value),className:C,children:[p.jsx("option",{value:"",children:"Select event type..."}),Iw.map(E=>p.jsx("option",{value:E,children:E},E))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"tool",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Tool"}),p.jsx("input",{id:"tool",type:"text",value:f,onChange:E=>h(E.target.value),placeholder:"e.g., Bash",className:C})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"command",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Command"}),p.jsx("input",{id:"command",type:"text",value:m,onChange:E=>g(E.target.value),placeholder:"e.g., git push --force",className:C})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"path",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Path"}),p.jsx("input",{id:"path",type:"text",value:x,onChange:E=>w(E.target.value),placeholder:"e.g., /src/main.ts",className:C})]}),p.jsx("button",{type:"submit",disabled:!l||s,className:"w-full px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Simulating...":"Simulate"})]})}),Fw={Allow:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Block:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Inject:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"};function Dw({result:r}){return r?p.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1A1A1A] p-3 space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${Fw[r.outcome]??""}`,children:r.outcome}),p.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.evaluationTimeMs.toFixed(1)," ms"]})]}),r.reason&&p.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.reason}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.matchedRules.length," rule",r.matchedRules.length!==1?"s":""," matched"]})]}):null}const wm="rulez-test-cases";function zw(){try{const r=localStorage.getItem(wm);if(r)return JSON.parse(r)}catch{}return[]}function Tu(r){try{localStorage.setItem(wm,JSON.stringify(r))}catch{}}function $w(){return`tc-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function Bw(r){const n=[r.eventType];return r.tool&&n.push(r.tool),r.command&&n.push(r.command.slice(0,30)),n.join(" - ")}const tl=cs((r,n)=>({testCases:zw(),selectedTestCaseId:null,saveTestCase:(s,i)=>{const l={id:$w(),name:Bw(s),createdAt:new Date().toISOString(),params:s,lastResult:i},u=[l,...n().testCases];return Tu(u),r({testCases:u}),l},loadTestCase:s=>n().testCases.find(i=>i.id===s),deleteTestCase:s=>{const i=n().testCases.filter(l=>l.id!==s);Tu(i),r({testCases:i,selectedTestCaseId:n().selectedTestCaseId===s?null:n().selectedTestCaseId})},clearAll:()=>{Tu([]),r({testCases:[],selectedTestCaseId:null})},setSelected:s=>{r({selectedTestCaseId:s})}}));function Uw({onLoad:r}){const n=tl(i=>i.testCases),s=tl(i=>i.deleteTestCase);return n.length===0?p.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center py-2",children:"No saved test cases"}):p.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:n.map(i=>p.jsxs("div",{className:"flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs bg-gray-50 dark:bg-[#1A1A1A] border border-gray-200 dark:border-gray-700",children:[p.jsxs("button",{type:"button",className:"flex-1 text-left truncate text-gray-700 dark:text-gray-300 hover:text-accent transition-colors",onClick:()=>r(i.params),title:`Load: ${i.name}`,children:[p.jsx("span",{className:"font-medium",children:i.params.eventType}),i.params.tool&&p.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" - ",i.params.tool]})]}),p.jsx("button",{type:"button",className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors px-1",onClick:()=>s(i.id),title:"Delete test case",children:"x"})]},i.id))})}function Vw(){const[r,n]=D.useState(null),[s,i]=D.useState(null),[l,u]=D.useState(!1),[f,h]=D.useState(null),[m,g]=D.useState(null),[x,w]=D.useState(!1),v=D.useRef(null),C=tl(B=>B.saveTestCase),E=tl(B=>B.testCases);async function S(B){u(!0),h(null),g(null),i(B);try{const J=await wp(B);n(J)}catch(J){h(J instanceof Error?J.message:"Simulation failed"),n(null)}finally{u(!1)}}function T(){s&&(C(s,r??void 0),g("Test case saved!"),setTimeout(()=>g(null),2e3))}const K=D.useCallback(B=>{v.current?.setParams(B),w(!1)},[]);return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Debug Simulator"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Test your RuleZ rules by simulating events."})]}),p.jsx(Rw,{ref:v,onSubmit:S,isLoading:l}),p.jsxs("div",{className:"flex gap-2",children:[s&&p.jsx("button",{type:"button",onClick:T,className:"flex-1 px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-[#1A1A1A] border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Save Test Case"}),E.length>0&&p.jsxs("button",{type:"button",onClick:()=>w(!x),className:"flex-1 px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-[#1A1A1A] border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[x?"Hide":"Load Test Case"," (",E.length,")"]})]}),m&&p.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 text-center",children:m}),x&&p.jsx(Uw,{onLoad:K}),f&&p.jsx("div",{className:"rounded border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-3",children:p.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:f})}),r?p.jsxs(p.Fragment,{children:[p.jsx(Dw,{result:r}),p.jsx(Mw,{evaluations:r.evaluations})]}):!f&&p.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center py-4",children:"Run a simulation to see results"})]})}function Ww(){const{rightPanelTab:r,setRightPanelTab:n}=ol();return p.jsxs("aside",{className:"w-80 flex-shrink-0 border-l border-gray-200 dark:border-gray-700 bg-surface dark:bg-surface-dark flex flex-col",children:[p.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[p.jsx("button",{type:"button",onClick:()=>n("simulator"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="simulator"?"text-accent dark:text-accent-dark border-b-2 border-accent dark:border-accent-dark":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Simulator"}),p.jsx("button",{type:"button",onClick:()=>n("tree"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="tree"?"text-accent dark:text-accent-dark border-b-2 border-accent dark:border-accent-dark":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Rules"}),p.jsx("button",{type:"button",onClick:()=>n("settings"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="settings"?"text-accent dark:text-accent-dark border-b-2 border-accent dark:border-accent-dark":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Settings"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[r==="simulator"&&p.jsx(Vw,{}),r==="tree"&&p.jsx(Lw,{}),r==="settings"&&p.jsx(Pw,{})]})]})}function Kw({content:r,sourcePath:n,onClose:s}){const{globalConfig:i,projectConfig:l,openFile:u}=Lt(),[f,h]=D.useState(null),[m,g]=D.useState(!0),[x,w]=D.useState(!1);D.useEffect(()=>{async function S(){g(!0);try{const T=await cy(n);h(T)}catch{try{const T=r.includes("version:");h({valid:T,errors:T?[]:["Missing required 'version' field"]})}catch(T){h({valid:!1,errors:[T instanceof Error?T.message:"YAML parse error"]})}}finally{g(!1)}}S()},[r,n]);const v=D.useCallback(async S=>{w(!0);try{await il(S,r),u(S,r),s()}catch(T){console.error("Failed to apply config:",T)}finally{w(!1)}},[r,u,s]),C=i?.path??"~/.claude/hooks.yaml",E=l?.path??".claude/hooks.yaml";return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-[560px] max-h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Import Config"}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 truncate",children:["Source: ",n]})]}),p.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:m?p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Validating..."}):f?.valid?p.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Valid YAML configuration"}):p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Invalid configuration"}),f?.errors.map(S=>p.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-0.5",children:S},S))]})}),p.jsx("div",{className:"flex-1 overflow-auto px-4 py-2 min-h-0",children:p.jsx("pre",{className:"text-xs font-mono text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words max-h-64 overflow-auto bg-gray-50 dark:bg-gray-900 rounded p-2",children:r})}),p.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-end gap-2",children:[p.jsx("button",{type:"button",onClick:s,className:"px-3 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{type:"button",disabled:!f?.valid||x,onClick:()=>v(C),className:"px-3 py-1.5 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Apply to Global"}),p.jsx("button",{type:"button",disabled:!f?.valid||x,onClick:()=>v(E),className:"px-3 py-1.5 text-sm rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Apply to Project"})]})]})})}function qw(){const{globalConfig:r,projectConfig:n,setGlobalConfig:s,setProjectConfig:i,openFile:l,activeFile:u,getScopeInfo:f}=Lt(),h=f(),[m,g]=D.useState(null),[x,w]=D.useState(null),v=D.useCallback(async()=>{try{const S=await py();S&&g({content:S.content,sourcePath:S.path})}catch(S){console.error("Import failed:",S)}},[]),C=D.useCallback(async S=>{try{const K=Lt.getState().openFiles.get(S)?.content??await ai(S),B=S.split("/").pop()??"hooks.yaml";await my(K,B)&&(w(S),setTimeout(()=>w(null),2e3))}catch(T){console.error("Export failed:",T)}},[]);D.useEffect(()=>{async function S(){try{const T=await uy(),K=T.find(J=>J.path.includes("~/.claude")),B=T.find(J=>!J.path.includes("~/.claude"));if(K&&s(K),B&&i(B),K?.exists&&!u){const J=await ai(K.path);l(K.path,J)}}catch(T){console.error("Failed to load config files:",T)}}S()},[s,i,l,u]);const E=async S=>{try{const T=await ai(S);l(S,T)}catch(T){console.error("Failed to open file:",T)}};return p.jsxs("aside",{className:"w-56 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-surface dark:bg-surface-dark overflow-y-auto",children:[p.jsxs("div",{className:"p-3",children:[p.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Files"}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),p.jsx("span",{children:"Global"}),p.jsx(ep,{status:h.globalStatus,type:"global"})]}),r?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(tp,{path:r.path,exists:r.exists,isActive:u===r.path,onClick:()=>E(r.path)}),r.exists&&p.jsx(Xh,{onClick:()=>C(r.path),feedback:x===r.path})]}):p.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-500 italic pl-5",children:"Loading..."})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),p.jsx("span",{children:"Project"}),p.jsx(ep,{status:h.projectStatus,type:"project"})]}),n?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(tp,{path:n.path,exists:n.exists,isActive:u===n.path,onClick:()=>E(n.path)}),n.exists&&p.jsx(Xh,{onClick:()=>C(n.path),feedback:x===n.path})]}):p.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-500 italic pl-5",children:"No project config"})]}),p.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:p.jsxs("button",{type:"button",onClick:v,className:"w-full flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs rounded border border-dashed border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 transition-colors","aria-label":"Import config",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import Config"]})})]}),m&&p.jsx(Kw,{content:m.content,sourcePath:m.sourcePath,onClose:()=>g(null)})]})}function Xh({onClick:r,feedback:n}){return p.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),r()},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors flex-shrink-0","aria-label":"Export config",title:n?"Exported!":"Export config",children:n?p.jsx("svg",{className:"w-3.5 h-3.5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})}function ep({status:r,type:n}){if(r==="missing")return null;const s=r==="active",i=s?"Active":"Overridden",l=s&&n==="project"?"This project config takes priority over the global config":s&&n==="global"?"No project config found  using this global config":"This global config is overridden by the project config";return p.jsx("span",{title:l,className:`text-[10px] px-1.5 py-0.5 rounded-full font-medium leading-none ${s?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300"}`,children:i})}function tp({path:r,exists:n,isActive:s,onClick:i}){const l=r.split("/").pop()||r;return p.jsxs("button",{type:"button",onClick:i,className:`w-full flex items-center gap-2 px-2 py-1.5 rounded text-sm text-left transition-colors ${s?"bg-accent/10 text-accent dark:text-accent-dark":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"} ${n?"":"opacity-50"}`,children:[p.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p.jsx("span",{className:"truncate",children:l}),!n&&p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"(new)"})]})}function Hw(){const{activeFile:r,openFiles:n,globalConfig:s,projectConfig:i,setActiveFile:l,getScopeInfo:u}=Lt(),{cursorPosition:f,errors:h,warnings:m}=qt(),g=u(),x=r?n.get(r):null;return p.jsxs("footer",{className:"status-bar flex items-center justify-between px-4 text-xs border-t border-gray-200 dark:border-gray-700 bg-surface dark:bg-surface-dark text-gray-600 dark:text-gray-400 no-select",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>{const w=g.activeScope==="project"?i?.path:s?.path;w&&l(w)},className:"flex items-center gap-1 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",title:g.activeScope==="project"?"Project config is active (click to open)":g.activeScope==="global"?"Global config is active (click to open)":"No config found",children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${g.activeScope==="project"||g.activeScope==="global"?"bg-green-500":"bg-gray-400"}`}),"Config:"," ",g.activeScope==="none"?"None":g.activeScope.charAt(0).toUpperCase()+g.activeScope.slice(1)]}),p.jsxs("span",{children:["Ln ",f.line,", Col ",f.column]}),p.jsx("span",{children:"YAML"}),p.jsx("span",{children:"UTF-8"})]}),p.jsx("div",{className:"flex items-center gap-4",children:x?.modified&&p.jsx("span",{className:"text-warning dark:text-warning-dark",children:"Modified"})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&p.jsxs("span",{className:"flex items-center gap-1 text-error dark:text-error-dark",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.length]}),m.length>0&&p.jsxs("span",{className:"flex items-center gap-1 text-warning dark:text-warning-dark",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.length]}),h.length===0&&m.length===0&&p.jsxs("span",{className:"flex items-center gap-1 text-success dark:text-success-dark",children:[p.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"No issues"]})]}),p.jsxs("span",{className:`flex items-center gap-1 ${Je()?"text-success dark:text-success-dark":"text-gray-400"}`,children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-current"}),Je()?"Connected":"Web Mode"]})]})]})}function Qw(){const{sidebarOpen:r}=ol(),{globalConfig:n,projectConfig:s}=Lt(),[i,l]=D.useState(null),u=D.useRef(null),f=D.useCallback(async g=>{const w=Lt.getState().openFiles.get(g);if(w)if(w.modified)l(g);else try{const v=await ai(g);Lt.getState().reloadFile(g,v)}catch(v){console.error("Failed to auto-reload file:",v)}},[]),h=D.useCallback(async()=>{if(i){try{const g=await ai(i);Lt.getState().reloadFile(i,g)}catch(g){console.error("Failed to reload file:",g)}l(null)}},[i]),m=D.useCallback(()=>{l(null)},[]);return D.useEffect(()=>{const g=[];if(n?.exists&&g.push(n.path),s?.exists&&g.push(s.path),g.length===0)return;const x=Ey({paths:g,onFileChanged:f,debounceMs:500});return u.current=x,x.start(),()=>{x.stop(),u.current=null}},[n?.exists,n?.path,s?.exists,s?.path,f]),p.jsxs("div",{className:"flex flex-col h-screen w-screen overflow-hidden bg-white dark:bg-[#1A1A1A]",children:[p.jsx(Iy,{}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r&&p.jsx(qw,{}),p.jsx(Sw,{}),p.jsx(Ww,{})]}),p.jsx(Hw,{}),i&&p.jsx(ny,{filePath:i,onReload:h,onKeepMine:m})]})}const si=["welcome","binary","config","simulation","complete"];function Gw(){const[r,n]=D.useState("welcome"),[s,i]=D.useState(null),[l,u]=D.useState(null),[f,h]=D.useState(!1),[m,g]=D.useState(null),[x,w]=D.useState(!1),[v,C]=D.useState(null),E=ut(q=>q.setOnboardingComplete);D.useEffect(()=>{r==="binary"&&s===null&&fy().then(q=>{i(q.found),u(q.path)})},[r,s]);const S=D.useCallback(()=>{const q=si.indexOf(r);q<si.length-1&&n(si[q+1])},[r]),T=D.useCallback(()=>{E(!0)},[E]),K=D.useCallback(()=>{E(!0)},[E]),B=D.useCallback(async()=>{C(null);try{await dy(),h(!0)}catch(q){C(q instanceof Error?q.message:"Failed to generate config")}},[]),J=D.useCallback(async()=>{w(!0),C(null);try{const q=await wp({eventType:"PreToolUse",tool:"Bash",command:"git push --force origin main"});g(q)}catch(q){C(q instanceof Error?q.message:"Simulation failed")}finally{w(!1)}},[]),G=(si.indexOf(r)+1)/si.length*100;return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:p.jsxs("dialog",{open:!0,"aria-label":"Welcome to RuleZ",className:"relative w-full max-w-lg mx-4 bg-white dark:bg-[#1E1E1E] rounded-lg shadow-xl overflow-hidden p-0",children:[p.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:p.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${G}%`}})}),p.jsxs("div",{className:"p-6 space-y-4",children:[r==="welcome"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Welcome to RuleZ"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RuleZ enforces policy rules on AI coding agents. This wizard will help you get set up in a few quick steps."}),p.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[p.jsx("p",{children:"We will:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[p.jsx("li",{children:"Check that the RuleZ binary is installed"}),p.jsx("li",{children:"Generate a sample configuration with example rules"}),p.jsx("li",{children:"Run a test simulation to verify everything works"})]})]})]}),r==="binary"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Binary Detection"}),s===null&&p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Checking for RuleZ binary..."}),s===!0&&p.jsx("div",{className:"rounded border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 p-3",children:p.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Binary found at: ",p.jsx("code",{className:"font-mono text-xs",children:l})]})}),s===!1&&p.jsxs("div",{className:"rounded border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20 p-3 space-y-2",children:[p.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Binary not found. You can still continue and configure the path later in Settings."}),p.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:["Download from:"," ",p.jsx("a",{href:"https://github.com/SpillwaveSolutions/code_agent_context_hooks/releases",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"GitHub Releases"})]})]})]}),r==="config"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Sample Configuration"}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Generate a sample ",p.jsx("code",{className:"font-mono text-xs",children:"hooks.yaml"})," with example rules to get started."]}),f?p.jsx("div",{className:"rounded border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 p-3",children:p.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Sample config generated with example rules at"," ",p.jsx("code",{className:"font-mono text-xs",children:"~/.claude/hooks.yaml"})]})}):p.jsx("button",{type:"button",onClick:()=>void B(),className:"px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded transition-colors",children:"Generate Sample Config"})]}),r==="simulation"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Test Simulation"}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Run a test simulation to verify your setup works. This simulates a"," ",p.jsx("code",{className:"font-mono text-xs",children:"git push --force"})," command."]}),m?p.jsxs("div",{className:"rounded border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 p-3 space-y-1",children:[p.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Simulation complete! Outcome:"," ",p.jsx("span",{className:"font-semibold",children:m.outcome})]}),m.reason&&p.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Reason: ",m.reason]}),p.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[m.evaluations.length," rules evaluated in"," ",m.evaluationTimeMs.toFixed(1),"ms"]})]}):p.jsx("button",{type:"button",onClick:()=>void J(),disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded transition-colors disabled:opacity-50",children:x?"Running...":"Run Test Simulation"})]}),r==="complete"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"All Set!"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You are ready to use RuleZ. Edit your rules in the editor, view logs, and run simulations from the debug panel."}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"You can re-run this wizard anytime from the Settings panel."})]}),v&&p.jsx("div",{className:"rounded border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-3",children:p.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:v})})]}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:"Skip"}),r==="complete"?p.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded transition-colors",children:"Done"}):p.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded transition-colors",children:"Next"})]})]})})}function Yw(){const r=ut(i=>i.settings),n=ut(i=>i.isLoaded),s=ut(i=>i.loadSettings);return D.useEffect(()=>{s()},[s]),D.useEffect(()=>{const i=r.theme,l=document.documentElement;if(i==="dark"||i==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?l.classList.add("dark"):l.classList.remove("dark"),i==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),h=m=>{m.matches?l.classList.add("dark"):l.classList.remove("dark")};return f.addEventListener("change",h),()=>f.removeEventListener("change",h)}},[r.theme]),p.jsxs(p.Fragment,{children:[p.jsx(Qw,{}),n&&!r.onboardingComplete&&p.jsx(Gw,{})]})}const Jw=new H0({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}}),km=document.getElementById("root");if(!km)throw new Error("Root element not found");ty.createRoot(km).render(p.jsx(Kt.StrictMode,{children:p.jsx(G0,{client:Jw,children:p.jsx(Yw,{})})}));
