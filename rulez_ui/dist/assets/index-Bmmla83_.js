import{invoke as l,Channel as m,Resource as c}from"./core-DxBnVPgq.js";var a;(function(n){n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Document=6]="Document",n[n.Download=7]="Download",n[n.Picture=8]="Picture",n[n.Public=9]="Public",n[n.Video=10]="Video",n[n.Resource=11]="Resource",n[n.Temp=12]="Temp",n[n.AppConfig=13]="AppConfig",n[n.AppData=14]="AppData",n[n.AppLocalData=15]="AppLocalData",n[n.AppCache=16]="AppCache",n[n.AppLog=17]="AppLog",n[n.Desktop=18]="Desktop",n[n.Executable=19]="Executable",n[n.Font=20]="Font",n[n.Home=21]="Home",n[n.Runtime=22]="Runtime",n[n.Template=23]="Template"})(a||(a={}));var w;(function(n){n[n.Start=0]="Start",n[n.Current=1]="Current",n[n.End=2]="End"})(w||(w={}));async function g(n,o){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const t=await l("plugin:fs|read_text_file",{path:n instanceof URL?n.toString():n,options:o}),f=t instanceof ArrayBuffer?t:Uint8Array.from(t);return new TextDecoder().decode(f)}async function C(n,o,t){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const f=new TextEncoder;await l("plugin:fs|write_text_file",f.encode(o),{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(t)}})}class A extends c{}async function L(n,o,t){const f=Array.isArray(n)?n:[n];for(const u of f)if(u instanceof URL&&u.protocol!=="file:")throw new TypeError("Must be a file URL.");const p=new m;p.onmessage=o;const d=await l("plugin:fs|watch",{paths:f.map(u=>u instanceof URL?u.toString():u),options:t,onEvent:p}),i=new A(d);return()=>{i.close()}}async function T(n,o,t){return await L(n,o,{...t,delayMs:void 0})}export{a as BaseDirectory,w as SeekMode,g as readTextFile,T as watchImmediate,C as writeTextFile};
